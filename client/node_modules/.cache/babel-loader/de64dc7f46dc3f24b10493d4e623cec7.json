{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/favorites.js\";\nimport React, { useState, useEffect, Component, memo, useReducer } from 'react';\nimport { Card, Col, Row, Badge, Button, Modal, Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './detailed_page.css';\nimport { FaTrash } from 'react-icons/fa';\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { IoMdShare } from 'react-icons/io';\n\nconst favReducer = (state, action) => {\n  switch (action.type) {\n    case 'REMOVE_ARTICLE':\n      console.log(\"deleting from reducer\");\n      let localdataFetch = localStorage.getItem('favoriteData');\n      let localdata = localdataFetch ? JSON.parse(localdataFetch) : [];\n      let filterList = localdata.filter(article => {\n        return article.id != action.id;\n      });\n      console.log(\"dispatcher\", filterList);\n      return filterList;\n  }\n};\n\nconst Favorites = props => {\n  const [favorites, dispatch] = useReducer(favReducer, [], () => {\n    let localdata = localStorage.getItem('favoriteData');\n    console.log(\"Rendering and setting favorites\", localdata, localdata.length);\n    return localdata ? JSON.parse(localdata) : [];\n  });\n  const [finalArticle, status] = useState({\n    stat: false,\n    articleTitle: \"\"\n  });\n  const [isopenModal, changeModalState] = useState(false);\n  const [activeItem, getActiveItem] = useState(\"\");\n  console.log(\"From favorites initial\", favorites); // toast(\"heloo owrl\")\n\n  const handleClose = () => {\n    changeModalState(false);\n  };\n\n  const handleOpen = (title, weburl) => {\n    let sharedata = {\n      title: title,\n      webUrl: weburl\n    };\n    getActiveItem(sharedata);\n    changeModalState(true);\n  };\n\n  useEffect(() => {\n    console.log(\"mouting and getting data\");\n    let data = favorites.length > 0 ? favorites : [];\n    console.log(\"from useEffect\", data);\n\n    if (finalArticle.stat) {\n      let toastData = 'Removing ' + finalArticle.articleTitle;\n      toast(toastData);\n    }\n\n    localStorage.setItem('favoriteData', JSON.stringify(data));\n  }, [favorites]);\n\n  const handleDelete = (id, toastTitle) => {\n    // Test\n    let localdataFetch = localStorage.getItem('favoriteData');\n    let localdata = localdataFetch ? JSON.parse(localdataFetch) : [];\n\n    if (localdata.length == 1) {\n      console.log(\"going to be deleted\");\n      status({\n        stat: true,\n        articleTitle: toastTitle.favoriteTitle\n      });\n    } // Fixed\n\n\n    console.log(\"Removing and running toast\");\n    let toastData = \"Removing\" + toastTitle.favoriteTitle;\n    toast(toastData);\n    dispatch({\n      type: 'REMOVE_ARTICLE',\n      id: id.favoriteId\n    });\n  };\n\n  if (favorites.length != 0) {\n    console.log(\"rendering\");\n    let modalNewsTitle = \"\";\n    let headerTag = \"\";\n    let favoriteList = favorites.map(favorite => {\n      let favoriteTitle = favorite.title;\n      let favoriteImage = favorite.image;\n      let favoriteDate = favorite.date;\n      let favoriteId = favorite.id;\n      let fromNews = favorite.news;\n      let favoriteUrl = \"\";\n      let section = favorite.section;\n      let color = \"\";\n      let text_color = \"white\";\n\n      if (section == 'sport') {\n        color = '#f6c244';\n        text_color = 'black';\n      } else if (section == 'world') {\n        color = '#7c4eff';\n      } else if (section == 'technology') {\n        color = '#cedc39';\n        text_color = 'black';\n      } else if (section == 'politics') {\n        color = '#419488';\n      } else if (section == 'business') {\n        color = '#4696ec';\n      } else {\n        color = '#6e757c';\n      }\n\n      let newsColor = \"\";\n      let newsTextColor = \"\";\n      let newsVal = \"\";\n      modalNewsTitle = fromNews == 'GUARDIAN' ? modalNewsTitle = 'GUARDIAN' : modalNewsTitle = 'NY TIMES';\n\n      if (modalNewsTitle == \"GUARDIAN\") {\n        headerTag = `<h3>GUARDIAN</br></h3>`;\n      }\n\n      if (fromNews == 'GUARDIAN') {\n        newsColor = \"#14284a\";\n        newsTextColor = \"white\";\n        newsVal = \"gua/\"; // let modalNewsTitle = \"Guardian\"\n      } else {\n        newsColor = \"#dddddd\";\n        newsTextColor = \"black\";\n        newsVal = \"nyt/\";\n      }\n\n      return React.createElement(Col, {\n        lg: 3,\n        sm: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: '/detailedarticle/' + newsVal + favoriteId,\n          state: {\n            ArticleId: favoriteId,\n            news: fromNews\n          }\n        },\n        style: {\n          width: '100%',\n          display: 'block',\n          textDecoration: 'none',\n          color: 'inherit'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"SearchCard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        style: {\n          fontSize: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, favoriteTitle, React.createElement(Link, {\n        style: {\n          zIndex: '1',\n          position: 'relative',\n          textDecoration: 'none',\n          color: 'inherit',\n          height: '15px',\n          paddingLeft: '5px'\n        },\n        onClick: () => handleOpen(favoriteTitle, \"newsShareUrl\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(IoMdShare, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), React.createElement(Link, {\n        onClick: () => {\n          handleDelete({\n            favoriteId\n          }, {\n            favoriteTitle\n          });\n        },\n        style: {\n          backgroundColor: 'white',\n          border: 'none',\n          padding: '1px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(FaTrash, {\n        style: {\n          color: 'black',\n          height: '12px',\n          width: '12px',\n          height: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), React.createElement(ToastContainer, {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 1000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), React.createElement(Card.Img, {\n        variant: \"top\",\n        src: favoriteImage,\n        className: \"SearchCardImg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(Card.Text, {\n        className: \"mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontSize: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \" \", favoriteDate, \" \"), React.createElement(Badge, {\n        style: {\n          margin: '2px',\n          color: text_color,\n          backgroundColor: color\n        },\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, section), React.createElement(Badge, {\n        style: {\n          margin: '2px',\n          color: newsTextColor,\n          backgroundColor: newsColor\n        },\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, fromNews))))));\n    });\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      style: {\n        marginLeft: '20px',\n        marginRight: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        marginTop: '3px',\n        marginBottom: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Favorites\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, favoriteList)), React.createElement(Modal, {\n      show: isopenModal,\n      onHide: () => handleClose(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, modalNewsTitle), React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, activeItem.title)), React.createElement(Modal.Body, {\n      style: {\n        marginTop: '1px',\n        marginBottom: '1px',\n        paddingBottom: '0px',\n        fontSize: '20px'\n      },\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Share via\")), React.createElement(Modal.Body, {\n      className: \"d-flex justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(FacebookShareButton, {\n      url: activeItem.webUrl,\n      hashtag: \"CSCI_571_NewsApp\",\n      className: \"share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(FacebookIcon, {\n      size: 70,\n      className: \"float-left\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    })), React.createElement(TwitterShareButton, {\n      url: activeItem.webUrl,\n      hashtags: ['CSCI_571_NewsApp'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(TwitterIcon, {\n      size: 70,\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })), React.createElement(EmailShareButton, {\n      url: activeItem.webUrl,\n      subject: \"#CSCI_571_NewsApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(EmailIcon, {\n      size: 70,\n      className: \"float-right\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })))));\n  } else {\n    console.log(\"Toasting finished\");\n    return React.createElement(React.Fragment, null, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      position: toast.POSITION.TOP_CENTER,\n      autoClose: 1000,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      style: {\n        fontSize: '25px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"You have no saved Articles\")));\n  }\n};\n\nexport default memo(Favorites);","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/favorites.js"],"names":["React","useState","useEffect","Component","memo","useReducer","Card","Col","Row","Badge","Button","Modal","Container","Link","FaTrash","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","ToastContainer","toast","IoMdShare","favReducer","state","action","type","console","log","localdataFetch","localStorage","getItem","localdata","JSON","parse","filterList","filter","article","id","Favorites","props","favorites","dispatch","length","finalArticle","status","stat","articleTitle","isopenModal","changeModalState","activeItem","getActiveItem","handleClose","handleOpen","title","weburl","sharedata","webUrl","data","toastData","setItem","stringify","handleDelete","toastTitle","favoriteTitle","favoriteId","modalNewsTitle","headerTag","favoriteList","map","favorite","favoriteImage","image","favoriteDate","date","fromNews","news","favoriteUrl","section","color","text_color","newsColor","newsTextColor","newsVal","pathname","ArticleId","width","display","textDecoration","fontSize","zIndex","position","height","paddingLeft","backgroundColor","border","padding","POSITION","TOP_CENTER","margin","marginLeft","marginRight","marginTop","marginBottom","paddingBottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component, memo, useReducer } from 'react'\nimport {Card, Col, Row, Badge, Button,Modal, Container} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './detailed_page.css';\nimport {FaTrash} from 'react-icons/fa';\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\nimport { ToastContainer,toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css'\nimport {IoMdShare} from 'react-icons/io'\n\n\n\nconst favReducer = (state, action) =>{\n    switch(action.type){\n        case 'REMOVE_ARTICLE':\n            console.log(\"deleting from reducer\")\n            let localdataFetch = localStorage.getItem('favoriteData')\n            let localdata = localdataFetch?JSON.parse(localdataFetch):[]\n            let filterList = localdata.filter(article=>{\n                return article.id!=action.id})\n            console.log(\"dispatcher\",filterList)\n            return filterList\n    }\n}\n\nconst Favorites = props =>{\nconst [favorites, dispatch] = useReducer(favReducer,[],()=>{\n    let localdata = localStorage.getItem('favoriteData')\n    console.log(\"Rendering and setting favorites\", localdata, localdata.length)\n    return localdata?JSON.parse(localdata):[]\n})\nconst [finalArticle, status] = useState({stat:false,articleTitle:\"\"})\nconst [isopenModal, changeModalState] = useState(false)\nconst [activeItem, getActiveItem] = useState(\"\")\n\nconsole.log(\"From favorites initial\",favorites)\n// toast(\"heloo owrl\")\n\nconst handleClose = () =>{\n    changeModalState(false)\n}\n\nconst handleOpen = (title, weburl) =>{\n    let sharedata = {title:title,webUrl:weburl}\n    getActiveItem(sharedata)\n    changeModalState(true)\n}\n\nuseEffect(()=>{\n    console.log(\"mouting and getting data\")\n    let data = favorites.length>0?favorites:[]\n    console.log(\"from useEffect\",data)\n    if(finalArticle.stat){\n        let toastData = 'Removing ' + finalArticle.articleTitle\n        toast(toastData)}\n    localStorage.setItem('favoriteData', JSON.stringify(data))\n}, [favorites])\n\nconst handleDelete = (id, toastTitle) =>{\n    // Test\n    let localdataFetch = localStorage.getItem('favoriteData')\n    let localdata = localdataFetch?JSON.parse(localdataFetch):[]\n    if(localdata.length == 1){\n        console.log(\"going to be deleted\")\n        status({stat:true, articleTitle:toastTitle.favoriteTitle})\n    }\n    // Fixed\n    console.log(\"Removing and running toast\")\n    let toastData = \"Removing\" + toastTitle.favoriteTitle\n    toast(toastData)\n    dispatch({type:'REMOVE_ARTICLE',id:id.favoriteId})\n}\n\n\nif(favorites.length!=0){\nconsole.log(\"rendering\")\nlet modalNewsTitle = \"\"\nlet headerTag = \"\"\nlet favoriteList = favorites.map(favorite =>{\n            let favoriteTitle = favorite.title\n            let favoriteImage = favorite.image\n            let favoriteDate =  favorite.date\n            let favoriteId = favorite.id\n            let fromNews = favorite.news\n            let favoriteUrl = \"\"\n            let section = favorite.section\n            let color = \"\"\n            let text_color = \"white\"\n            if(section == 'sport'){\n                color = '#f6c244';\n                text_color = 'black';\n            }\n            else if(section == 'world'){\n                color = '#7c4eff';\n            }\n            else if(section == 'technology'){\n                color = '#cedc39';\n                text_color = 'black';\n            }\n            else if(section == 'politics'){\n                color = '#419488';\n            }\n            else if(section == 'business'){\n                color = '#4696ec';\n            }\n            else {\n                color = '#6e757c';\n            }\n            let newsColor = \"\"\n            let newsTextColor = \"\"\n            let newsVal = \"\"\n            modalNewsTitle = (fromNews=='GUARDIAN')?modalNewsTitle='GUARDIAN':modalNewsTitle='NY TIMES'\n            if(modalNewsTitle==\"GUARDIAN\"){\n                headerTag = `<h3>GUARDIAN</br></h3>`\n            }\n            if (fromNews=='GUARDIAN'){\n                newsColor = \"#14284a\"\n                newsTextColor = \"white\"\n                newsVal = \"gua/\"\n                // let modalNewsTitle = \"Guardian\"\n            }\n            else{\n                newsColor = \"#dddddd\"\n                newsTextColor = \"black\"\n                newsVal = \"nyt/\"\n            }\n            return (\n                <Col lg={3} sm={12}>\n                    <Link to={{ pathname: '/detailedarticle/'+ newsVal + favoriteId ,state: {ArticleId: favoriteId, news:fromNews}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }}>\n                    <Card className=\"SearchCard\">\n                    <Card.Body>\n                        <Card.Title style={{fontSize:'15px'}}>{favoriteTitle}<Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit',height:'15px', paddingLeft:'5px'}} onClick={()=>handleOpen(favoriteTitle, \"newsShareUrl\")}><IoMdShare/></Link><Link onClick={()=>{handleDelete({favoriteId},{favoriteTitle})}} style={{backgroundColor:'white', border:'none', padding:'1px'}}><FaTrash style={{color:'black',height:'12px', width:'12px', height:'15px' }}/></Link>\n                            <ToastContainer position={toast.POSITION.TOP_CENTER} autoClose={1000}/>\n                        </Card.Title>\n                        <Card.Img variant=\"top\" src={favoriteImage} className=\"SearchCardImg\"/>\n                        <Card.Text className=\"mt-2\">\n                            <span style={{fontSize:'15px'}}> {favoriteDate} </span>\n                            <Badge style={{margin:'2px',color:text_color, backgroundColor:color}} className=\"float-right\">\n                                {section}\n                            </Badge>\n                            <Badge style={{margin:'2px',color:newsTextColor, backgroundColor:newsColor}} className=\"float-right\">\n                                {fromNews}\n                            </Badge>\n                        </Card.Text>\n                    </Card.Body>\n                    </Card >\n                    </Link>\n                </Col>\n                \n            )\n        }\n    )\n    return (\n        <>\n        <div style={{marginLeft:'20px', marginRight:'20px'}}>\n                <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Favorites</h2>\n                <Row>\n                    {favoriteList}\n                </Row>\n        </div>\n        <Modal show={isopenModal} onHide={()=>handleClose()}>\n                <Modal.Header closeButton>\n                    <h3 style={{display:'flex'}}>{modalNewsTitle}</h3>\n                    {/* ${headerTag} */}\n                    <Modal.Title>{activeItem.title}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                <Modal.Body className=\"d-flex justify-content-between\">\n                <FacebookShareButton url={activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                    <FacebookIcon size={70} className='float-left' round={true}/>\n                </FacebookShareButton>\n                <TwitterShareButton url={activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                    <TwitterIcon size={70} round={true}/>\n                </TwitterShareButton>\n                <EmailShareButton url={activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                    <EmailIcon size={70} className='float-right' round={true}/>\n                </EmailShareButton>\n                </Modal.Body>\n        </Modal>\n        </>\n    )\n    \n}\nelse{\n    console.log(\"Toasting finished\")\n    return (\n        <>  \n            <Container>\n            <div><ToastContainer position={toast.POSITION.TOP_CENTER} autoClose={1000}></ToastContainer></div>\n            {/* <div style={{minHeight:'400px',display:'flex',position:'relative',left:'40%', marginTop:'20px', fontSize:'25px'}}>You have no saved Articles</div> */}\n            <div className=\"d-flex justify-content-center\" style={{fontSize:'25px'}}>\n              You have no saved Articles\n            </div>\n            </Container>\n        </>\n    )\n    \n\n}\n}\n\nexport default memo(Favorites);\n\n"]},"metadata":{},"sourceType":"module"}