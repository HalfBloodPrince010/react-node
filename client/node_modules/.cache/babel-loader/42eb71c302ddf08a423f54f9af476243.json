{"ast":null,"code":"import _classCallCheck from\"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link,NavLink,withRouter}from'react-router-dom';import{Button,Nav,Navbar,NavDropdown,Form,FormControl,Dropdown}from'react-bootstrap';import'./navbar.css';import axios from'axios';import _ from'lodash';import Select from'react-select';import{connect}from'react-redux';import{FaBookmark}from'react-icons/fa';import{FaRegBookmark}from'react-icons/fa';import Switch from\"react-switch\";import ReactTooltip from'react-tooltip';var CustomNavbar=/*#__PURE__*/function(_Component){_inherits(CustomNavbar,_Component);function CustomNavbar(){var _getPrototypeOf2;var _this;_classCallCheck(this,CustomNavbar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CustomNavbar)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={searchWord:\"\",searchResults:[],searchingWord:\"\",news:\"\"};_this.onsearch=function(selectedOption){if(selectedOption.value){var word=selectedOption.value;_this.setState({searchWord:word});console.log(\"setting state word\",_this.state.searchWord);_this.props.history.push({pathname:\"/search/\"+word,state:{searchWord:word}});}else{alert(\"No Text Entered\");}};_this.handleSearch=function(inputValue){var headers={'Content-Type':'application/x-www-form-urlencoded','Accept':'application/json',// 'Ocp-Apim-Subscription-Key':'d70e0b68e0b246e9bb36efc7d644ccb0'\n'Ocp-Apim-Subscription-Key':'2c3274293fa94e3a8219296932debb45'};{console.log(\"Input\",inputValue);}_this.setState({searchWord:inputValue});var url=\"https://api.cognitive.microsoft.com/bing/v7.0/suggestions?q=\".concat(inputValue);axios.get(url,{headers:headers}).then(function(responseData){var results=responseData.data.suggestionGroups[0].searchSuggestions;var searchResults=results.map(function(result){return{value:result.displayText,label:result.displayText};});_this.setState({searchResults:searchResults});console.log(\"results\",_this.state.searchResults);return searchResults;}).catch(function(responseData){console.log(\"ERROR from Search Results\",responseData);});};_this.handleSwitchChange=function(){if(_this.props.whichNews==='guardian'||_this.props.whichNews==='Guardian'){console.log(\"changing from\",_this.state.news,\"to nytimes\");_this.setState({news:'nytimes'});_this.props.changeNewsState('nytimes');localStorage.setItem('currentNews','nytimes');// this.writeNews('nytimes')\n}else{console.log(\"changing from\",_this.state.news,\"to guardian\");_this.setState({news:'guardian'});_this.props.changeNewsState('guardian');localStorage.setItem('currentNews','guardian');// this.writeNews('guardian')\n}};_this.handleFavorites=function(){console.log(\"Going to Bookmarks\");ReactTooltip.hide();_this.props.history.push({pathname:\"/favorites\"});};_this.handleclick=function(event){// alert('Clicked..')\nevent.target.style.color='white';};return _this;}_createClass(CustomNavbar,[{key:\"render\",value:function render(){var _this2=this;console.log(\"rendering\");var bookmark=\"\";var switchNews=\"\";var search=\"\";var navbar=\"\";// Navbar\n//Bookmark handling\nif(window.location.pathname=='/favorites'){bookmark=React.createElement(Button,{className:\"mr-auto mb-2\",\"data-tip\":\"Bookmark\",\"data-for\":\"bookmark\",onClick:function onClick(){return _this2.handleFavorites();},style:{background:'none',border:'none',paddingLeft:'0px'}},React.createElement(FaBookmark,{style:{height:'20px',width:'20px',color:'white'}}));}else if(window.location.pathname.includes('/search')||window.location.pathname.includes('/detailedarticle')){bookmark=React.createElement(Button,{className:\"mr-auto mb-2\",\"data-tip\":\"Bookmark\",\"data-for\":\"bookmark\",onClick:function onClick(){return _this2.handleFavorites();},style:{background:'none',border:'none',paddingLeft:'0px'}},React.createElement(FaRegBookmark,{style:{height:'20px',width:'20px',color:'white'}}));}else{bookmark=React.createElement(Button,{className:\"mr-auto mb-2 mr-lg-4\",\"data-tip\":\"Bookmark\",\"data-for\":\"bookmark\",onClick:function onClick(){return _this2.handleFavorites();},style:{background:'none',border:'none',paddingLeft:'0px'}},React.createElement(FaRegBookmark,{style:{height:'20px',width:'20px',color:'white'}}));}// Switch Handling\nif(window.location.pathname=='/favorites'||window.location.pathname.includes('/search')||window.location.pathname.includes('/detailedarticle')){switchNews=\"\";}else{if(this.props.whichNews==='nytimes'){switchNews=React.createElement(React.Fragment,null,React.createElement(Navbar.Text,{className:\"mr-sm-2\"},\" NY Times \"),React.createElement(Form,{inline:true},React.createElement(Switch,{onChange:this.handleSwitchChange,checked:false,className:\"react-switch\",uncheckedIcon:false,checkedIcon:false,height:25,width:45})),React.createElement(Navbar.Text,{className:\"mr-sm-2 ml-lg-2\"},\" Guardian \"));}else{switchNews=React.createElement(React.Fragment,null,React.createElement(Navbar.Text,{className:\"mr-sm-2\"},\" NY Times \"),React.createElement(Form,{inline:true},React.createElement(Switch,{onChange:this.handleSwitchChange,checked:true,className:\"react-switch\",uncheckedIcon:false,checkedIcon:false,height:25,width:45,onColor:\"#4696ec\"})),React.createElement(Navbar.Text,{className:\"mr-sm-2 ml-lg-2\"},\" Guardian \"));}}if(window.location.pathname.includes('/search')){search=React.createElement(Select,{className:\"CustomSearchBar\",onInputChange:_.debounce(this.handleSearch,500),onChange:this.onsearch,options:this.state.searchResults,placeholder:\"Enter Keyword ..\",value:this.props.match.params.option});}else{search=React.createElement(Select,{className:\"CustomSearchBar\",onInputChange:_.debounce(this.handleSearch,500),onChange:this.onsearch,value:\"\",options:this.state.searchResults,placeholder:\"Enter Keyword ..\"});}return(// On small it collapses \nReact.createElement(Navbar,{className:\"bg-custom\",expand:\"sm\",variant:\"dark\"},search,React.createElement(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),React.createElement(Navbar.Collapse,{id:\"basic-navbar-nav\"},React.createElement(Nav,{className:\"mr-auto\",defaultActiveKey:\"/\"},React.createElement(Nav.Link,{exact:true,style:{color:'rgba(255,255,255,.5)'},as:NavLink,to:\"/\",href:\"/\",activeStyle:{background:'none',color:'white'}},\"Home\"),React.createElement(Nav.Link,{as:NavLink,style:{color:'rgba(255,255,255,.5)'},to:\"/world\",href:\"/world\",activeStyle:{background:'none',color:'white'}},\"World\"),React.createElement(Nav.Link,{as:NavLink,style:{color:'rgba(255,255,255,.5)'},to:\"/politics\",href:\"/politics\",activeStyle:{background:'none',color:'white'}},\"Politics\"),React.createElement(Nav.Link,{as:NavLink,style:{color:'rgba(255,255,255,.5)'},to:\"/business\",href:\"/business\",activeStyle:{background:'none',color:'white'}},\"Business\"),React.createElement(Nav.Link,{as:NavLink,style:{color:'rgba(255,255,255,.5)'},to:\"/technology\",href:\"/technology\",activeStyle:{background:'none',color:'white'}},\"Technology\"),React.createElement(Nav.Link,{as:NavLink,style:{color:'rgba(255,255,255,.5)'},to:\"/sports\",href:\"/sports\",activeStyle:{background:'none',color:'white'}},\"Sports\")),React.createElement(Nav,null,bookmark,React.createElement(ReactTooltip,{id:\"bookmark\",effect:\"solid\",place:\"bottom\"}),switchNews))));}}]);return CustomNavbar;}(Component);var mapStateToProps=function mapStateToProps(state){return{whichNews:state.newsState};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{changeNewsState:function changeNewsState(newsValue){dispatch({type:'CHANGE_NEWS',newsValue:newsValue});}};};export default connect(mapStateToProps,mapDispatchToProps)(withRouter(CustomNavbar));","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/src/components/Customnavbar.js"],"names":["React","Component","Link","NavLink","withRouter","Button","Nav","Navbar","NavDropdown","Form","FormControl","Dropdown","axios","_","Select","connect","FaBookmark","FaRegBookmark","Switch","ReactTooltip","CustomNavbar","state","searchWord","searchResults","searchingWord","news","onsearch","selectedOption","value","word","setState","console","log","props","history","push","pathname","alert","handleSearch","inputValue","headers","url","get","then","responseData","results","data","suggestionGroups","searchSuggestions","map","result","displayText","label","catch","handleSwitchChange","whichNews","changeNewsState","localStorage","setItem","handleFavorites","hide","handleclick","event","target","style","color","bookmark","switchNews","search","navbar","window","location","background","border","paddingLeft","height","width","includes","debounce","match","params","option","mapStateToProps","newsState","mapDispatchToProps","dispatch","newsValue","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link, NavLink, withRouter} from 'react-router-dom';\nimport {Button, Nav, Navbar, NavDropdown, Form, FormControl, Dropdown} from 'react-bootstrap';\nimport './navbar.css';\nimport axios from 'axios';\nimport _ from 'lodash';\nimport Select from 'react-select';\nimport { connect } from 'react-redux';\nimport  {FaBookmark} from 'react-icons/fa';\nimport {FaRegBookmark} from 'react-icons/fa';\nimport Switch from \"react-switch\";\nimport ReactTooltip from 'react-tooltip'\n\nclass CustomNavbar extends Component{\n  state= {\n        searchWord : \"\",\n        searchResults : [],\n        searchingWord : \"\",\n        news : \"\"\n    }\n\n\n  onsearch = (selectedOption) =>{\n    if (selectedOption.value) {\n      let word = selectedOption.value;\n      this.setState({ searchWord: word })\n      console.log(\"setting state word\", this.state.searchWord)\n      this.props.history.push({\n          pathname: \"/search/\"+ word,\n          state: { searchWord: word }\n      });\n  } else {\n      alert(\"No Text Entered\");\n  }\n}\n\nhandleSearch = (inputValue) =>{\n      const headers = {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Accept': 'application/json',\n        // 'Ocp-Apim-Subscription-Key':'d70e0b68e0b246e9bb36efc7d644ccb0'\n        'Ocp-Apim-Subscription-Key':'2c3274293fa94e3a8219296932debb45'\n        \n        }\n        { console.log(\"Input\",inputValue) }\n        this.setState({\n          searchWord : inputValue\n        })\n        let url = `https://api.cognitive.microsoft.com/bing/v7.0/suggestions?q=${inputValue}`;\n        axios.get(url, {headers:headers})\n        .then(responseData => {\n            let results = responseData.data.suggestionGroups[0].searchSuggestions\n            const searchResults = results.map(result => ({ value: result.displayText, label: result.displayText }));\n            this.setState({ searchResults })\n            console.log(\"results\",this.state.searchResults)\n            return searchResults\n          })\n        .catch(responseData=>{\n            console.log(\"ERROR from Search Results\", responseData); \n        })\n        }\n\n\nhandleSwitchChange=()=>{\n  if(this.props.whichNews === 'guardian' || this.props.whichNews === 'Guardian'){\n    console.log(\"changing from\", this.state.news,\"to nytimes\")\n    this.setState({news:'nytimes'})\n    this.props.changeNewsState('nytimes')\n    localStorage.setItem('currentNews','nytimes')\n    // this.writeNews('nytimes')\n  }\n  else{\n    console.log(\"changing from\", this.state.news,\"to guardian\")\n    this.setState({news:'guardian'})\n    this.props.changeNewsState('guardian')\n    localStorage.setItem('currentNews','guardian')\n    // this.writeNews('guardian')\n  }\n}\n\nhandleFavorites=()=>{\n  console.log(\"Going to Bookmarks\")\n  ReactTooltip.hide();\n  this.props.history.push({\n    pathname: \"/favorites\"\n  })\n}\n\nhandleclick=(event)=>{\n  // alert('Clicked..')\n  event.target.style.color = 'white'\n}\n\n  render(){\n    console.log(\"rendering\")\n    let bookmark = \"\";\n    let switchNews = \"\";\n    let search = \"\"\n    let navbar = \"\"\n    // Navbar\n\n    //Bookmark handling\n    if(window.location.pathname == '/favorites'){\n      bookmark = (<Button className='mr-auto mb-2' data-tip=\"Bookmark\" data-for=\"bookmark\" onClick={()=>this.handleFavorites()} style={{background:'none', border:'none', paddingLeft:'0px'}}><FaBookmark style={{ height:'20px', width:'20px', color:'white'}}/></Button>)\n    }\n    else if( window.location.pathname.includes('/search') || window.location.pathname.includes('/detailedarticle')){\n      bookmark = (<Button className='mr-auto mb-2' data-tip=\"Bookmark\" data-for=\"bookmark\" onClick={()=>this.handleFavorites()} style={{background:'none', border:'none', paddingLeft:'0px'}}><FaRegBookmark style={{ height:'20px', width:'20px', color:'white'}}/></Button>)\n    }\n    else{\n      bookmark = (<Button className='mr-auto mb-2 mr-lg-4' data-tip=\"Bookmark\" data-for=\"bookmark\"  onClick={()=>this.handleFavorites()} style={{background:'none', border:'none', paddingLeft:'0px'}}><FaRegBookmark style={{ height:'20px', width:'20px', color:'white'}}/></Button>)\n    }\n    // Switch Handling\n    if(window.location.pathname == '/favorites' ||  window.location.pathname.includes('/search') || window.location.pathname.includes('/detailedarticle')){\n      switchNews = \"\"\n    }\n    else{\n      if(this.props.whichNews === 'nytimes'){\n      switchNews = (\n            <>\n              <Navbar.Text className=\"mr-sm-2\"> NY Times </Navbar.Text>\n              <Form inline>\n                  <Switch\n                  onChange={this.handleSwitchChange}\n                  checked={false}\n                  className=\"react-switch\"\n                  uncheckedIcon={false}\n                  checkedIcon={false}\n                  height={25}\n                  width={45}\n                  />\n              </Form>\n              <Navbar.Text className=\"mr-sm-2 ml-lg-2\"> Guardian </Navbar.Text>\n            </>\n      )\n    }\n      else{\n        switchNews = (\n          <>\n            <Navbar.Text className=\"mr-sm-2\"> NY Times </Navbar.Text>\n            <Form inline>\n                <Switch\n                  onChange={this.handleSwitchChange}\n                  checked={true}\n                  className=\"react-switch\"\n                  uncheckedIcon={false}\n                  checkedIcon={false}\n                  height={25}\n                  width={45}\n                  onColor= \"#4696ec\"\n                />\n            </Form>\n            <Navbar.Text className=\"mr-sm-2 ml-lg-2\"> Guardian </Navbar.Text>\n          </>\n    )\n  }\n}\n  if (window.location.pathname.includes('/search')){\n    search = (\n            <Select className=\"CustomSearchBar\"\n            onInputChange={_.debounce(this.handleSearch, 500)}\n            onChange={this.onsearch}\n            options = { this.state.searchResults }\n            placeholder=\"Enter Keyword ..\"\n            value = { this.props.match.params.option }\n            />\n            )\n  }\n  else{\n  search = (\n            <Select className=\"CustomSearchBar\"\n            onInputChange={_.debounce(this.handleSearch, 500)}\n            onChange={this.onsearch}\n            value = \"\"\n            options = { this.state.searchResults }\n            placeholder=\"Enter Keyword ..\"\n            />\n            )\n  }\n      return(\n      // On small it collapses \n          <Navbar className=\"bg-custom\" expand=\"sm\" variant=\"dark\">\n            {search}\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n              <Nav className=\"mr-auto\" defaultActiveKey=\"/\">\n                <Nav.Link exact={true} style={{color:'rgba(255,255,255,.5)'}} as={NavLink} to=\"/\" href=\"/\" activeStyle={{background: 'none',color: 'white'}}>Home</Nav.Link>\n                <Nav.Link as={NavLink} style={{color:'rgba(255,255,255,.5)'}} to=\"/world\" href=\"/world\" activeStyle={{background: 'none',color: 'white'}}>World</Nav.Link>\n                <Nav.Link as={NavLink} style={{color:'rgba(255,255,255,.5)'}} to=\"/politics\" href=\"/politics\" activeStyle={{background: 'none',color: 'white'}}>Politics</Nav.Link>\n                <Nav.Link as={NavLink} style={{color:'rgba(255,255,255,.5)'}} to=\"/business\" href=\"/business\" activeStyle={{background: 'none',color: 'white'}}>Business</Nav.Link>\n                <Nav.Link as={NavLink} style={{color:'rgba(255,255,255,.5)'}} to=\"/technology\" href=\"/technology\" activeStyle={{background: 'none',color: 'white'}}>Technology</Nav.Link>\n                <Nav.Link as={NavLink} style={{color:'rgba(255,255,255,.5)'}} to=\"/sports\" href=\"/sports\" activeStyle={{background: 'none',color: 'white'}}>Sports</Nav.Link>\n              </Nav>\n              <Nav>\n              {bookmark}\n              <ReactTooltip id=\"bookmark\" effect=\"solid\" place=\"bottom\"/>\n              {switchNews}\n              </Nav>\n            </Navbar.Collapse>\n          </Navbar>\n      )\n      }\n}\n\n\nconst mapStateToProps = (state) =>{\n  return{\n      whichNews : state.newsState\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return{\n  changeNewsState : (newsValue) => { dispatch({type: 'CHANGE_NEWS', newsValue: newsValue})}\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(CustomNavbar))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}