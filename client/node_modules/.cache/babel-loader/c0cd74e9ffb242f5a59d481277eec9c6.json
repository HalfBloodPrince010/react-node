{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/home.js\";\nimport React, { Component } from 'react';\nimport { Card, Col, Row, Badge, ModalBody, ModalTitle, Button, Modal, ModalDialog } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share';\nimport { connect } from 'react-redux';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newsHeadlines: [],\n      newsAvailable: false,\n      isopenModal: false,\n      activeItem: \"\",\n      news: \"guardian\",\n      changed: false\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        isopenModal: false\n      });\n    };\n\n    this.handleOpen = (title, weburl) => {\n      let sharedata = {\n        title: title,\n        webUrl: weburl\n      };\n      console.log(title);\n      this.setState({\n        activeItem: sharedata\n      });\n      this.setState({\n        isopenModal: true\n      });\n    };\n  }\n\n  // static getDerivedStateFromProps(nextProps, prevState) {\n  //     console.log('will log on props change');\n  //     console.log(\"next\",nextProps.whichNews)\n  //     console.log(\"prevstate\", prevState.news)\n  //     if( nextProps.whichNews != prevState.news ) {\n  //          console.log(\"Inside\", nextProps.whichNews)\n  //         if (nextProps.whichNews === 'Guardian'){\n  //             console.log(\"Calling axios\")\n  //             axios.get('http://localhost:5000/')\n  //                 .then(responseData => {\n  //                     console.log(responseData.data);\n  //                     return{\n  //                         newsHeadlines : responseData.data,\n  //                         newsAvailable : true\n  //                     };\n  //                 })\n  //                 // .catch(responseData=>{\n  //                 //     console.log(\"error from here\", responseData);\n  //                 // })\n  //         }\n  //       // Notice we return plain object here to update state\n  //     }\n  //     return null;\n  //     // return null when changes are not needed\n  //   }\n  componentDidMount() {\n    axios.get('http://localhost:5000/').then(responseData => {\n      console.log(responseData.data);\n      this.setState({\n        newsHeadlines: responseData.data,\n        newsAvailable: true\n      });\n    }).catch(responseData => {\n      console.log(\"error\");\n    });\n  } // static getDerivedStateFromProps(nextProps, prevState) {\n  //     console.log(\"nextt\", nextProps.whichNews)\n\n\n  componentWillReceiveProps(nextProps) {\n    console.log(\"next-WIllRECEIVE\", nextProps.whichNews);\n    console.log(\"Current-WIllRECEIVE\", this.props.whichNews);\n\n    if (nextProps.whichNews != this.props.whichNews) {\n      console.log(\"Changing state\");\n      this.setState({\n        changed: true\n      });\n    }\n  } // componentDidUpdate(prevProps) {\n  //     // console.log(\"Before check-Previous\",prevProps.whichNews)\n  //     // console.log(\"Before check-\",this.props.whichNews)\n  //     // console.log(\"Before State-\",this.state.news)\n  //     // if (this.state.news !== this.props.whichNews) {\n  //     if(this.state.changed){\n  //       console.log(\"From component Did Update\", this.props.whichNews)\n  //       if (this.props.whichNews === 'Guardian'){\n  //         axios.get('http://localhost:5000/')\n  //         .then(responseData => {\n  //             console.log(responseData.data);\n  //             this.setState({\n  //                 newsHeadlines : responseData.data,\n  //                 newsAvailable : true,\n  //                 changed:false,\n  //             })\n  //         })\n  //         .catch(responseData=>{\n  //             console.log(\"error\");\n  //         })\n  //       }\n  //       else if(this.props.whichNews === 'nytimes'){\n  //         axios.get('http://localhost:5000/nytimes')\n  //         .then(responseData => {\n  //             console.log(\"From NY\",responseData.data);\n  //             this.setState({\n  //                 newsHeadlines : responseData.data,\n  //                 newsAvailable : true,\n  //                 // news:\"guardian\",\n  //                 changed:false\n  //             })\n  //         })\n  //         .catch(responseData=>{\n  //             console.log(\"error\");\n  //         })\n  //       } \n  //     }\n  //   }\n\n\n  render() {\n    // Ajax ====================================================================================================\n    if (this.state.changed) {\n      console.log(\"From component Did Update\", this.props.whichNews);\n\n      if (this.props.whichNews === 'Guardian') {\n        axios.get('http://localhost:5000/').then(responseData => {\n          console.log(responseData.data);\n          this.setState({\n            newsHeadlines: responseData.data,\n            newsAvailable: true,\n            changed: false\n          });\n        }).catch(responseData => {\n          console.log(\"error\");\n        });\n      } else if (this.props.whichNews === 'nytimes') {\n        axios.get('http://localhost:5000/nytimes').then(responseData => {\n          console.log(\"From NY\", responseData.data);\n          this.setState({\n            newsHeadlines: responseData.data,\n            newsAvailable: true,\n            // news:\"guardian\",\n            changed: false\n          });\n        }).catch(responseData => {\n          console.log(\"error\");\n        });\n      }\n\n      if (!this.state.newsAvailable) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        if (this.props.whichNews === 'Guardian') {\n          const newsObjs = this.state.newsHeadlines;\n          const newsCards = this.state.newsHeadlines.map(news => {\n            let color = \"brown\";\n            let text_color = \"white\";\n\n            if (news.sectionId == 'sport') {\n              color = '#f6c244';\n              text_color = 'black';\n            } else if (news.sectionId == 'world') {\n              color = '#7c4eff';\n            } else if (news.sectionId == 'technology') {\n              color = '#cedc39';\n              text_color = 'black';\n            } else if (news.sectionId == 'politics') {\n              color = '#419488';\n            } else if (news.sectionId == 'business') {\n              color = '#4696ec';\n            } else {\n              color = '#6e757c';\n            }\n\n            if (news.blocks.hasOwnProperty('main') && !news.blocks.main.elements[0].assets.length == 0) {\n              const newsTitle = news.webTitle;\n              const newsDescription = news.blocks.body[0].bodyTextSummary;\n              const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length - 1].file;\n              const newsDate = news.webPublicationDate;\n              const newsBadge = news.sectionId;\n              const newsId = news.id;\n              const newsShareUrl = news.webUrl; // const pathname = '/DetailedArticle/' + newsId\n\n              return React.createElement(Link, {\n                to: {\n                  pathname: '/DetailedArticle/' + newsId,\n                  state: {\n                    ArticleId: newsId\n                  }\n                },\n                style: {\n                  width: '100%',\n                  display: 'block',\n                  textDecoration: 'none',\n                  color: 'inherit'\n                },\n                key: newsId,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 207\n                },\n                __self: this\n              }, React.createElement(\"div\", {\n                className: \"HomepageCard\",\n                key: newsId,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 208\n                },\n                __self: this\n              }, React.createElement(Card, {\n                style: {\n                  width: '100%',\n                  marginTop: '30px',\n                  marginBottom: '30px',\n                  boxShadow: '0 6px 20px 0 rgba(0, 0, 0, 0.55)'\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 209\n                },\n                __self: this\n              }, React.createElement(Row, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 210\n                },\n                __self: this\n              }, React.createElement(Col, {\n                lg: 3,\n                xs: 12,\n                className: \"mr-0 ml-0\",\n                align: \"center\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 211\n                },\n                __self: this\n              }, React.createElement(Card.Img, {\n                className: \"img-responsive\",\n                variant: \"top\",\n                src: newsImage,\n                style: {\n                  padding: '6px',\n                  border: '1px solid lightgray',\n                  margin: '10px',\n                  height: '200px',\n                  width: '90%',\n                  borderBottomLeftRadius: 'calc(.25rem - 1px)',\n                  borderBottomRightRadius: 'calc(.25rem - 1px)'\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 212\n                },\n                __self: this\n              })), React.createElement(Col, {\n                lg: 9,\n                xs: 12,\n                className: \"mr-0 ml-0\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 214\n                },\n                __self: this\n              }, React.createElement(Card.Body, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 215\n                },\n                __self: this\n              }, React.createElement(Card.Title, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 216\n                },\n                __self: this\n              }, React.createElement(\"em\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 216\n                },\n                __self: this\n              }, newsTitle), React.createElement(Link, {\n                style: {\n                  zIndex: '1',\n                  position: 'relative',\n                  textDecoration: 'none',\n                  color: 'inherit'\n                },\n                onClick: () => this.handleOpen(newsTitle, newsShareUrl),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 216\n                },\n                __self: this\n              }, React.createElement(FaShareAlt, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 216\n                },\n                __self: this\n              }))), React.createElement(Card.Text, {\n                className: \"news-description\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 217\n                },\n                __self: this\n              }, newsDescription), React.createElement(Card.Text, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 220\n                },\n                __self: this\n              }, React.createElement(\"span\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 221\n                },\n                __self: this\n              }, \" \", newsDate, \" \"), React.createElement(Badge, {\n                style: {\n                  backgroundColor: color,\n                  color: text_color\n                },\n                className: \"float-right\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 222\n                },\n                __self: this\n              }, newsBadge))))))));\n            }\n          });\n          console.log(newsCards);\n          return React.createElement(React.Fragment, null, newsCards, React.createElement(Modal, {\n            show: this.state.isopenModal,\n            onHide: this.handleClose,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 239\n            },\n            __self: this\n          }, React.createElement(Modal.Header, {\n            closeButton: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 240\n            },\n            __self: this\n          }, React.createElement(Modal.Title, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241\n            },\n            __self: this\n          }, this.state.activeItem.title)), React.createElement(Modal.Body, {\n            style: {\n              marginTop: '1px',\n              marginBottom: '1px',\n              paddingBottom: '0px',\n              fontSize: '20px'\n            },\n            className: \"d-flex justify-content-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244\n            },\n            __self: this\n          }, \"Share via\")), React.createElement(Modal.Body, {\n            className: \"d-flex justify-content-between\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 245\n            },\n            __self: this\n          }, React.createElement(FacebookShareButton, {\n            url: this.state.activeItem.webUrl,\n            hashtag: \"CSCI_571_NewsApp\",\n            className: \"share\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 246\n            },\n            __self: this\n          }, React.createElement(FacebookIcon, {\n            size: 70,\n            className: \"float-left\",\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 247\n            },\n            __self: this\n          })), React.createElement(TwitterShareButton, {\n            url: this.state.activeItem.webUrl,\n            hashtags: ['CSCI_571_NewsApp'],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 249\n            },\n            __self: this\n          }, React.createElement(TwitterIcon, {\n            size: 70,\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 250\n            },\n            __self: this\n          })), React.createElement(EmailShareButton, {\n            url: this.state.activeItem.webUrl,\n            subject: \"#CSCI_571_NewsApp\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 252\n            },\n            __self: this\n          }, React.createElement(EmailIcon, {\n            size: 70,\n            className: \"float-right\",\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 253\n            },\n            __self: this\n          })))));\n        } else if (this.props.whichNews === 'nytimes') {\n          const newsObjs = this.state.newsHeadlines;\n          const newsCards = this.state.newsHeadlines.map(news => {\n            let color = \"brown\";\n            let text_color = \"white\";\n\n            if (news.section == 'sport') {\n              color = '#f6c244';\n              text_color = 'black';\n            } else if (news.section == 'world') {\n              color = '#7c4eff';\n            } else if (news.section == 'technology') {\n              color = '#cedc39';\n              text_color = 'black';\n            } else if (news.section == 'politics') {\n              color = '#419488';\n            } else if (news.section == 'business') {\n              color = '#4696ec';\n            } else {\n              color = '#6e757c';\n            }\n\n            let count = 0;\n\n            if (news.hasOwnProperty('multimedia')) {\n              if (news.multimedia) {\n                const newsTitle = news.title;\n                const newsDescription = news.abstract;\n                let newsImage = news.multimedia[0].url; // console.log(news)\n\n                const newsDate = news.published_date;\n                const newsBadge = news.section;\n                const newsId = news.uri;\n                const newsShareUrl = news.url; // const pathname = '/DetailedArticle/' + newsId\n\n                return React.createElement(Link, {\n                  to: {\n                    pathname: '/DetailedArticle/' + newsId,\n                    state: {\n                      ArticleId: newsId\n                    }\n                  },\n                  style: {\n                    width: '100%',\n                    display: 'block',\n                    textDecoration: 'none',\n                    color: 'inherit'\n                  },\n                  key: newsId,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 298\n                  },\n                  __self: this\n                }, React.createElement(\"div\", {\n                  className: \"HomepageCard\",\n                  key: newsId,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 299\n                  },\n                  __self: this\n                }, React.createElement(Card, {\n                  style: {\n                    width: '100%',\n                    marginTop: '30px',\n                    marginBottom: '30px',\n                    boxShadow: '0 6px 20px 0 rgba(0, 0, 0, 0.55)'\n                  },\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 300\n                  },\n                  __self: this\n                }, React.createElement(Row, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 301\n                  },\n                  __self: this\n                }, React.createElement(Col, {\n                  lg: 3,\n                  xs: 12,\n                  className: \"mr-0 ml-0\",\n                  align: \"center\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 302\n                  },\n                  __self: this\n                }, React.createElement(Card.Img, {\n                  className: \"img-responsive\",\n                  variant: \"top\",\n                  src: newsImage,\n                  style: {\n                    padding: '6px',\n                    border: '1px solid lightgray',\n                    margin: '10px',\n                    height: '200px',\n                    width: '90%',\n                    borderBottomLeftRadius: 'calc(.25rem - 1px)',\n                    borderBottomRightRadius: 'calc(.25rem - 1px)'\n                  },\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 303\n                  },\n                  __self: this\n                })), React.createElement(Col, {\n                  lg: 9,\n                  xs: 12,\n                  className: \"mr-0 ml-0\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 305\n                  },\n                  __self: this\n                }, React.createElement(Card.Body, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 306\n                  },\n                  __self: this\n                }, React.createElement(Card.Title, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 307\n                  },\n                  __self: this\n                }, React.createElement(\"em\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 307\n                  },\n                  __self: this\n                }, newsTitle), React.createElement(Link, {\n                  style: {\n                    zIndex: '1',\n                    position: 'relative',\n                    textDecoration: 'none',\n                    color: 'inherit'\n                  },\n                  onClick: () => this.handleOpen(newsTitle, newsShareUrl),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 307\n                  },\n                  __self: this\n                }, React.createElement(FaShareAlt, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 307\n                  },\n                  __self: this\n                }))), React.createElement(Card.Text, {\n                  className: \"news-description\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 308\n                  },\n                  __self: this\n                }, newsDescription), React.createElement(Card.Text, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 311\n                  },\n                  __self: this\n                }, React.createElement(\"span\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 312\n                  },\n                  __self: this\n                }, \" \", newsDate, \" \"), React.createElement(Badge, {\n                  style: {\n                    backgroundColor: color,\n                    color: text_color\n                  },\n                  className: \"float-right\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 313\n                  },\n                  __self: this\n                }, newsBadge))))))));\n              }\n            }\n          });\n          console.log(newsCards);\n          return React.createElement(React.Fragment, null, newsCards, React.createElement(Modal, {\n            show: this.state.isopenModal,\n            onHide: this.handleClose,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 331\n            },\n            __self: this\n          }, React.createElement(Modal.Header, {\n            closeButton: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 332\n            },\n            __self: this\n          }, React.createElement(Modal.Title, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 333\n            },\n            __self: this\n          }, this.state.activeItem.title)), React.createElement(Modal.Body, {\n            style: {\n              marginTop: '1px',\n              marginBottom: '1px',\n              paddingBottom: '0px',\n              fontSize: '20px'\n            },\n            className: \"d-flex justify-content-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 335\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 335\n            },\n            __self: this\n          }, \"Share via\")), React.createElement(Modal.Body, {\n            className: \"d-flex justify-content-between\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 336\n            },\n            __self: this\n          }, React.createElement(FacebookShareButton, {\n            url: this.state.activeItem.webUrl,\n            hashtag: \"CSCI_571_NewsApp\",\n            className: \"share\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 337\n            },\n            __self: this\n          }, React.createElement(FacebookIcon, {\n            size: 70,\n            className: \"float-left\",\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 338\n            },\n            __self: this\n          })), React.createElement(TwitterShareButton, {\n            url: this.state.activeItem.webUrl,\n            hashtags: ['CSCI_571_NewsApp'],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 340\n            },\n            __self: this\n          }, React.createElement(TwitterIcon, {\n            size: 70,\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 341\n            },\n            __self: this\n          })), React.createElement(EmailShareButton, {\n            url: this.state.activeItem.webUrl,\n            subject: \"#CSCI_571_NewsApp\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 343\n            },\n            __self: this\n          }, React.createElement(EmailIcon, {\n            size: 70,\n            className: \"float-right\",\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 344\n            },\n            __self: this\n          })))));\n        }\n      }\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    whichNews: state.newsState\n  };\n};\n\nexport default connect(mapStateToProps)(Home);","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/home.js"],"names":["React","Component","Card","Col","Row","Badge","ModalBody","ModalTitle","Button","Modal","ModalDialog","Link","axios","FaShareAlt","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","connect","Home","state","newsHeadlines","newsAvailable","isopenModal","activeItem","news","changed","handleClose","setState","handleOpen","title","weburl","sharedata","webUrl","console","log","componentDidMount","get","then","responseData","data","catch","componentWillReceiveProps","nextProps","whichNews","props","render","newsObjs","newsCards","map","color","text_color","sectionId","blocks","hasOwnProperty","main","elements","assets","length","newsTitle","webTitle","newsDescription","body","bodyTextSummary","newsImage","file","newsDate","webPublicationDate","newsBadge","newsId","id","newsShareUrl","pathname","ArticleId","width","display","textDecoration","marginTop","marginBottom","boxShadow","padding","border","margin","height","borderBottomLeftRadius","borderBottomRightRadius","zIndex","position","backgroundColor","paddingBottom","fontSize","section","count","multimedia","abstract","url","published_date","uri","mapStateToProps","newsState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {Card, Col, Row, Badge, ModalBody, ModalTitle, Button, Modal, ModalDialog} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\nimport { connect } from 'react-redux';\n\nclass Home extends Component{\n    state= {\n        newsHeadlines: [],\n        newsAvailable: false,\n        isopenModal : false,\n        activeItem: \"\",\n        news:\"guardian\",\n        changed:false\n    }\n\n    // static getDerivedStateFromProps(nextProps, prevState) {\n    //     console.log('will log on props change');\n    //     console.log(\"next\",nextProps.whichNews)\n    //     console.log(\"prevstate\", prevState.news)\n    //     if( nextProps.whichNews != prevState.news ) {\n    //          console.log(\"Inside\", nextProps.whichNews)\n    //         if (nextProps.whichNews === 'Guardian'){\n    //             console.log(\"Calling axios\")\n    //             axios.get('http://localhost:5000/')\n    //                 .then(responseData => {\n    //                     console.log(responseData.data);\n    //                     return{\n    //                         newsHeadlines : responseData.data,\n    //                         newsAvailable : true\n    //                     };\n    //                 })\n    //                 // .catch(responseData=>{\n    //                 //     console.log(\"error from here\", responseData);\n    //                 // })\n    //         }\n    //       // Notice we return plain object here to update state\n    //     }\n    //     return null;\n\n    //     // return null when changes are not needed\n    //   }\n\n\n    componentDidMount(){\n        axios.get('http://localhost:5000/')\n            .then(responseData => {\n                console.log(responseData.data);\n                this.setState({\n                    newsHeadlines : responseData.data,\n                    newsAvailable : true\n                })\n            })\n            .catch(responseData=>{\n                console.log(\"error\");\n            })\n    }\n\n    // static getDerivedStateFromProps(nextProps, prevState) {\n    //     console.log(\"nextt\", nextProps.whichNews)\n\n\n    componentWillReceiveProps(nextProps){\n        console.log(\"next-WIllRECEIVE\", nextProps.whichNews)\n        console.log(\"Current-WIllRECEIVE\", this.props.whichNews)\n        if( nextProps.whichNews != this.props.whichNews ) {\n            console.log(\"Changing state\")\n            this.setState({\n                changed:true\n            })\n        }\n\n    }\n\n    // componentDidUpdate(prevProps) {\n    //     // console.log(\"Before check-Previous\",prevProps.whichNews)\n    //     // console.log(\"Before check-\",this.props.whichNews)\n    //     // console.log(\"Before State-\",this.state.news)\n    //     // if (this.state.news !== this.props.whichNews) {\n    //     if(this.state.changed){\n    //       console.log(\"From component Did Update\", this.props.whichNews)\n          \n    //       if (this.props.whichNews === 'Guardian'){\n    //         axios.get('http://localhost:5000/')\n    //         .then(responseData => {\n    //             console.log(responseData.data);\n    //             this.setState({\n    //                 newsHeadlines : responseData.data,\n    //                 newsAvailable : true,\n    //                 changed:false,\n    //             })\n    //         })\n    //         .catch(responseData=>{\n    //             console.log(\"error\");\n    //         })\n    //       }\n    //       else if(this.props.whichNews === 'nytimes'){\n    //         axios.get('http://localhost:5000/nytimes')\n    //         .then(responseData => {\n    //             console.log(\"From NY\",responseData.data);\n    //             this.setState({\n    //                 newsHeadlines : responseData.data,\n    //                 newsAvailable : true,\n    //                 // news:\"guardian\",\n    //                 changed:false\n    //             })\n    //         })\n    //         .catch(responseData=>{\n    //             console.log(\"error\");\n    //         })\n    //       } \n    //     }\n    //   }\n      \n\n    handleClose = () =>{\n        this.setState({\n            isopenModal : false\n        })\n    }\n\n    handleOpen = (title, weburl) =>{\n        let sharedata = {title:title,webUrl:weburl}\n        console.log(title)\n        this.setState({activeItem:sharedata})\n        this.setState({ isopenModal: true });\n    }\n        render(){\n            // Ajax ====================================================================================================\n            if(this.state.changed){\n                console.log(\"From component Did Update\", this.props.whichNews)\n                \n                if (this.props.whichNews === 'Guardian'){\n                  axios.get('http://localhost:5000/')\n                  .then(responseData => {\n                      console.log(responseData.data);\n                      this.setState({\n                          newsHeadlines : responseData.data,\n                          newsAvailable : true,\n                          changed:false,\n                      })\n                  })\n                  .catch(responseData=>{\n                      console.log(\"error\");\n                  })\n                }\n                else if(this.props.whichNews === 'nytimes'){\n                  axios.get('http://localhost:5000/nytimes')\n                  .then(responseData => {\n                      console.log(\"From NY\",responseData.data);\n                      this.setState({\n                          newsHeadlines : responseData.data,\n                          newsAvailable : true,\n                          // news:\"guardian\",\n                          changed:false\n                      })\n                  })\n                  .catch(responseData=>{\n                      console.log(\"error\");\n                  })\n                } \n\n            if (!this.state.newsAvailable){\n                return <div>Loading...</div>\n            }\n            else{\n            if(this.props.whichNews === 'Guardian'){\n            const newsObjs = this.state.newsHeadlines\n            const newsCards = this.state.newsHeadlines.map(news => {\n                        let color = \"brown\"\n                        let text_color = \"white\"\n                        if(news.sectionId == 'sport'){\n                            color = '#f6c244';\n                            text_color = 'black';\n                        }\n                        else if(news.sectionId == 'world'){\n                            color = '#7c4eff';\n                        }\n                        else if(news.sectionId == 'technology'){\n                            color = '#cedc39';\n                            text_color = 'black';\n                        }\n                        else if(news.sectionId == 'politics'){\n                            color = '#419488';\n                        }\n                        else if(news.sectionId == 'business'){\n                            color = '#4696ec';\n                        }\n                        else {\n                            color = '#6e757c';\n                        }\n\n                        if(news.blocks.hasOwnProperty('main') && !news.blocks.main.elements[0].assets.length == 0){\n                        const newsTitle = news.webTitle;\n                        const newsDescription = news.blocks.body[0].bodyTextSummary;\n                        const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length-1].file;\n                        const newsDate = news.webPublicationDate;\n                        const newsBadge = news.sectionId;\n                        const newsId = news.id;\n                        const newsShareUrl = news.webUrl;\n                        // const pathname = '/DetailedArticle/' + newsId\n                        return (\n                            <Link to={{ pathname: '/DetailedArticle/' + newsId ,state: {ArticleId: newsId}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }} key={newsId}>\n                            <div className=\"HomepageCard\" key={newsId}>\n                            <Card style={{ width: '100%', marginTop:'30px', marginBottom:'30px', boxShadow:'0 6px 20px 0 rgba(0, 0, 0, 0.55)' }} >\n                                    <Row>\n                                        <Col lg={3} xs={12} className=\"mr-0 ml-0\" align=\"center\">\n                                            <Card.Img className=\"img-responsive\" variant=\"top\" src={newsImage} style={{ padding: '6px', border:'1px solid lightgray', margin:'10px', height:'200px', width:'90%', borderBottomLeftRadius: 'calc(.25rem - 1px)', borderBottomRightRadius: 'calc(.25rem - 1px)' }} />\n                                        </Col>\n                                        <Col lg={9} xs={12} className=\"mr-0 ml-0\">\n                                            <Card.Body>\n                                                <Card.Title><em>{newsTitle}</em><Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit'}} onClick={()=>this.handleOpen(newsTitle, newsShareUrl)}><FaShareAlt/></Link></Card.Title>\n                                                <Card.Text className=\"news-description\">\n                                                    {newsDescription}\n                                                </Card.Text>\n                                                <Card.Text>\n                                                <span> {newsDate} </span>\n                                                <Badge style={{backgroundColor: color, color:text_color}} className=\"float-right\">\n                                                    {newsBadge}\n                                                </Badge>\n                                                </Card.Text>\n                                            </Card.Body>\n                                        </Col>\n                                    </Row>\n                                </Card>\n                            </div>\n                            </Link>\n                      )\n                    }\n                })\n                console.log(newsCards)\n            return (\n            <>\n                {newsCards}\n                <Modal show={this.state.isopenModal} onHide={this.handleClose}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>{this.state.activeItem.title}</Modal.Title>\n                        </Modal.Header>\n                        \n                        <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                        <Modal.Body className=\"d-flex justify-content-between\">\n                        <FacebookShareButton url={this.state.activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                            <FacebookIcon size={70} className='float-left' round={true}/>\n                        </FacebookShareButton>\n                        <TwitterShareButton url={this.state.activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                            <TwitterIcon size={70} round={true}/>\n                        </TwitterShareButton>\n                        <EmailShareButton url={this.state.activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                            <EmailIcon size={70} className='float-right' round={true}/>\n                        </EmailShareButton>\n                        </Modal.Body>\n                </Modal>\n            </>\n            );\n          }\n          else if(this.props.whichNews === 'nytimes'){\n            const newsObjs = this.state.newsHeadlines\n            const newsCards = this.state.newsHeadlines.map(news => {\n                        let color = \"brown\"\n                        let text_color = \"white\"\n                        if(news.section == 'sport'){\n                            color = '#f6c244';\n                            text_color = 'black';\n                        }\n                        else if(news.section == 'world'){\n                            color = '#7c4eff';\n                        }\n                        else if(news.section == 'technology'){\n                            color = '#cedc39';\n                            text_color = 'black';\n                        }\n                        else if(news.section == 'politics'){\n                            color = '#419488';\n                        }\n                        else if(news.section == 'business'){\n                            color = '#4696ec';\n                        }\n                        else {\n                            color = '#6e757c';\n                        }\n                        let count = 0\n                        if(news.hasOwnProperty('multimedia')){\n                            if (news.multimedia){\n                        const newsTitle = news.title;\n                        const newsDescription = news.abstract;\n                        let newsImage = news.multimedia[0].url\n                        // console.log(news)\n                        const newsDate = news.published_date;\n                        const newsBadge = news.section;\n                        const newsId = news.uri;\n                        const newsShareUrl = news.url;\n                        // const pathname = '/DetailedArticle/' + newsId\n                        return (\n                            <Link to={{ pathname: '/DetailedArticle/' + newsId ,state: {ArticleId: newsId}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }} key={newsId}>\n                            <div className=\"HomepageCard\" key={newsId}>\n                            <Card style={{ width: '100%', marginTop:'30px', marginBottom:'30px', boxShadow:'0 6px 20px 0 rgba(0, 0, 0, 0.55)' }} >\n                                    <Row>\n                                        <Col lg={3} xs={12} className=\"mr-0 ml-0\" align=\"center\">\n                                            <Card.Img className=\"img-responsive\" variant=\"top\" src={newsImage} style={{ padding: '6px', border:'1px solid lightgray', margin:'10px', height:'200px', width:'90%', borderBottomLeftRadius: 'calc(.25rem - 1px)', borderBottomRightRadius: 'calc(.25rem - 1px)' }} />\n                                        </Col>\n                                        <Col lg={9} xs={12} className=\"mr-0 ml-0\">\n                                            <Card.Body>\n                                                <Card.Title><em>{newsTitle}</em><Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit'}} onClick={()=>this.handleOpen(newsTitle, newsShareUrl)}><FaShareAlt/></Link></Card.Title>\n                                                <Card.Text className=\"news-description\">\n                                                    {newsDescription}\n                                                </Card.Text>\n                                                <Card.Text>\n                                                <span> {newsDate} </span>\n                                                <Badge style={{backgroundColor: color, color:text_color}} className=\"float-right\">\n                                                    {newsBadge}\n                                                </Badge>\n                                                </Card.Text>\n                                            </Card.Body>\n                                        </Col>\n                                    </Row>\n                                </Card>\n                            </div>\n                            </Link>\n                      )\n                    }\n                }\n                })\n                console.log(newsCards)\n            return (\n            <>\n                {newsCards}\n                <Modal show={this.state.isopenModal} onHide={this.handleClose}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>{this.state.activeItem.title}</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                        <Modal.Body className=\"d-flex justify-content-between\">\n                        <FacebookShareButton url={this.state.activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                            <FacebookIcon size={70} className='float-left' round={true}/>\n                        </FacebookShareButton>\n                        <TwitterShareButton url={this.state.activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                            <TwitterIcon size={70} round={true}/>\n                        </TwitterShareButton>\n                        <EmailShareButton url={this.state.activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                            <EmailIcon size={70} className='float-right' round={true}/>\n                        </EmailShareButton>\n                        </Modal.Body>\n                </Modal>\n            </>\n            );\n            }\n        }\n    }\n}}\n\nconst mapStateToProps = (state) =>{\n    return{\n        whichNews : state.newsState\n    }\n}\n\n\nexport default connect(mapStateToProps)(Home);\n\n"]},"metadata":{},"sourceType":"module"}