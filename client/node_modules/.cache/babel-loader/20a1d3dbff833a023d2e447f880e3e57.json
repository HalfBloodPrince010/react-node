{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/searchResults.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Card, Col, Row, Badge, Modal } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './search.css';\nimport axios from 'axios';\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport { FaShareAlt } from \"react-icons/fa\";\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share';\n\nconst SearchResults = props => {\n  const [searchResults, setResults] = useState([]);\n  const [newsAvailable, setNewsAvailable] = useState(false);\n\n  const fetchData = () => {\n    let url = 'http://localhost:5000/searchResults/' + props.location.state.searchWord;\n    axios.get(url).then(responseData => {\n      console.log(responseData.data);\n      setResults(responseData.data);\n      setNewsAvailable(true);\n    }).catch(responseData => {\n      console.log(\"ERROR from Search Results\");\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [props.location.state.searchWord]);\n\n  if (!newsAvailable) {\n    return React.createElement(\"div\", {\n      className: \"sweet-loading\",\n      style: {\n        position: 'fixed',\n        top: '50%',\n        left: '47%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(BounceLoader, {\n      style: {\n        display: 'block',\n        background: '#2b4fc4'\n      },\n      size: 35,\n      color: \"#2b4fc4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: {\n        position: 'fixed',\n        left: '46.5%',\n        fontSize: '14px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Loading\"));\n  } else {\n    const newsCards = searchResults.map(news => {\n      let color = \"\";\n      let text_color = \"white\";\n\n      if (news.sectionId == 'sport') {\n        color = '#f6c244';\n        text_color = 'black';\n      } else if (news.sectionId == 'world') {\n        color = '#7c4eff';\n      } else if (news.sectionId == 'technology') {\n        color = '#cedc39';\n        text_color = 'black';\n      } else if (news.sectionId == 'politics') {\n        color = '#419488';\n      } else if (news.sectionId == 'business') {\n        color = '#4696ec';\n      } else {\n        color = '#6e757c';\n      }\n\n      if (!news.blocks.main.elements[0].assets.length == 0) {\n        const newsTitle = news.webTitle;\n        const newsDescription = news.blocks.body[0].bodyTextSummary;\n        const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length - 1].file;\n        console.log(newsImage);\n        let newsDate = news.webPublicationDate;\n        newsDate = newsDate.slice(0, 10);\n        const newsBadge = news.sectionId;\n        return React.createElement(Col, {\n          lg: 3,\n          sm: 12,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: \"SearchCard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"em\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, newsTitle)), React.createElement(Card.Img, {\n          variant: \"top\",\n          src: newsImage,\n          className: \"SearchCardImg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }), React.createElement(Card.Text, {\n          className: \"mt-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"em\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, newsDate)), React.createElement(Badge, {\n          style: {\n            color: text_color,\n            backgroundColor: color\n          },\n          className: \"float-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, newsBadge)))));\n      }\n    });\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      style: {\n        marginLeft: '20px',\n        marginRight: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        marginTop: '3px',\n        marginBottom: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Results\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, newsCards)), React.createElement(Modal, {\n      show: isopenModal,\n      onHide: () => handleClose(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, activeItem.title)), React.createElement(Modal.Body, {\n      style: {\n        marginTop: '1px',\n        marginBottom: '1px',\n        paddingBottom: '0px',\n        fontSize: '20px'\n      },\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Share via\")), React.createElement(Modal.Body, {\n      className: \"d-flex justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(FacebookShareButton, {\n      url: activeItem.webUrl,\n      hashtag: \"CSCI_571_NewsApp\",\n      className: \"share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(FacebookIcon, {\n      size: 70,\n      className: \"float-left\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(TwitterShareButton, {\n      url: activeItem.webUrl,\n      hashtags: ['CSCI_571_NewsApp'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(TwitterIcon, {\n      size: 70,\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(EmailShareButton, {\n      url: activeItem.webUrl,\n      subject: \"#CSCI_571_NewsApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(EmailIcon, {\n      size: 70,\n      className: \"float-right\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })))));\n  }\n};\n\nexport default SearchResults; // import React, { Component } from 'react'\n// import {Card, Col, Row, Badge} from 'react-bootstrap';\n// import { Link } from 'react-router-dom';\n// import './search.css';\n// import axios from 'axios';\n// import {FaBookmark} from 'react-icons';\n// class searchResults extends Component{\n//     state= {\n//         searchResults: [],\n//         newsAvailable: false\n//     }\n//     componentWillMount(){\n//         let url = 'http://localhost:5000/searchResults/' + this.props.location.state.searchWord\n//         axios.get(url)\n//         .then(responseData => {\n//             console.log(responseData.data);\n//             this.setState({\n//                 searchResults : responseData.data,\n//                 newsAvailable : true\n//             })\n//         })\n//         .catch(responseData=>{\n//             console.log(\"ERROR from Search Results\");\n//             })\n//     }\n//     // componentDidUpdate(){\n//     //     let url = 'http://localhost:5000/searchResults/' + this.props.location.state.searchWord\n//     //     axios.get(url)\n//     //     .then(responseData => {\n//     //         console.log(responseData.data);\n//     //         this.setState({\n//     //             searchResults : responseData.data,\n//     //             newsAvailable : true\n//     //         })\n//     //     })\n//     //     .catch(responseData=>{\n//     //         console.log(\"ERROR from Search Results\");\n//     //         })\n//     // }\n//     render(){\n//         if (!this.state.newsAvailable){\n//             return <div>Loading...</div>\n//         }\n//         else{\n//         const newsObjs = this.state.searchResults\n//         const newsCards = this.state.searchResults.map(news => {\n//                     if(news.sectionId === 'sport'){\n//                         let badgeVariant = \"warning\";\n//                     }\n//                     else if(news.sectionId === 'world'){\n//                         let badgeVariant = \"primary\";\n//                     }\n//                     else if(news.sectionId === 'technology'){\n//                         let badgeVariant = \"success\";\n//                     }\n//                     else if(news.sectionId === 'politics'){\n//                         let badgeVariant = \"info\";\n//                     }\n//                     else if(news.sectionId === 'business'){\n//                         let badgeVariant = \"primary\";\n//                     }\n//                     else {\n//                         let badgeVariant = \"secondary\";\n//                     }\n//                     if(!news.blocks.main.elements[0].assets.length == 0){\n//                     const newsTitle = news.webTitle;\n//                     const newsDescription = news.blocks.body[0].bodyTextSummary;\n//                     const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length-1].file;\n//                     console.log(newsImage)\n//                     const newsDate = news.webPublicationDate;\n//                     const newsBadge = news.sectionId;\n//                     return (\n//                         <Col lg={3} sm={12}>\n//                             <Card className=\"SearchCard\">\n//                             <Card.Body>\n//                                 <Card.Title>{newsTitle}</Card.Title>\n//                                 <Card.Img variant=\"top\" src={newsImage} className=\"SearchCardImg\"/>\n//                                 <Card.Text className=\"mt-2\">\n//                                     <span> {newsDate} </span>\n//                                     <Badge variant=\"primary\" className=\"float-right\">\n//                                         news\n//                                     </Badge>\n//                                 </Card.Text>\n//                             </Card.Body>\n//                             </Card >\n//                         </Col>\n//                         )\n//                     }\n//                 })\n//         console.log(newsCards)\n//         return (\n//         <>\n//         <div style={{marginLeft:'20px', marginRight:'20px'}}>\n//                 <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Results</h2>\n//                 <Row>\n//                     {newsCards}\n//                 </Row>\n//         </div>\n//         </>\n//         );\n//     }\n// }\n// }\n// export default searchResults;","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/searchResults.js"],"names":["React","useState","useEffect","Card","Col","Row","Badge","Modal","Link","axios","BounceLoader","FaShareAlt","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","SearchResults","props","searchResults","setResults","newsAvailable","setNewsAvailable","fetchData","url","location","state","searchWord","get","then","responseData","console","log","data","catch","position","top","left","display","background","fontSize","newsCards","map","news","color","text_color","sectionId","blocks","main","elements","assets","length","newsTitle","webTitle","newsDescription","body","bodyTextSummary","newsImage","file","newsDate","webPublicationDate","slice","newsBadge","backgroundColor","marginLeft","marginRight","marginTop","marginBottom","isopenModal","handleClose","activeItem","title","paddingBottom","webUrl"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {Card, Col, Row, Badge, Modal} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './search.css';\nimport axios from 'axios';\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport { FaShareAlt } from \"react-icons/fa\";\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\n\nconst SearchResults = props => {\n    const [searchResults, setResults] = useState([])\n    const [newsAvailable, setNewsAvailable] = useState(false) \n\n    const fetchData = () => {\n        let url = 'http://localhost:5000/searchResults/' + props.location.state.searchWord\n        axios.get(url)\n        .then(responseData => {\n            console.log(responseData.data);\n            setResults(responseData.data)\n            setNewsAvailable(true)\n\n        })\n        .catch(responseData=>{\n            console.log(\"ERROR from Search Results\");\n            })\n\n    }\n\n    useEffect(() => {\n        fetchData()\n    },[props.location.state.searchWord])\n\n        if (!newsAvailable){\n            return(\n                <div className=\"sweet-loading\" style = {{position:'fixed', top:'50%', left:'47%'}}>\n                        <BounceLoader\n                        style = {{display:'block', background:'#2b4fc4'}}\n                        size={35}\n                        color={\"#2b4fc4\"}\n                        />\n                    <span style={{position:'fixed',left:'46.5%', fontSize:'14px'}}>Loading</span>\n                </div>\n            )\n        }\n        else{\n        const newsCards = searchResults.map(news => {\n                    let color = \"\"\n                    let text_color = \"white\"\n                    if(news.sectionId == 'sport'){\n                        color = '#f6c244';\n                        text_color = 'black';\n                    }\n                    else if(news.sectionId == 'world'){\n                        color = '#7c4eff';\n                    }\n                    else if(news.sectionId == 'technology'){\n                        color = '#cedc39';\n                        text_color = 'black';\n                    }\n                    else if(news.sectionId == 'politics'){\n                        color = '#419488';\n                    }\n                    else if(news.sectionId == 'business'){\n                        color = '#4696ec';\n                    }\n                    else {\n                        color = '#6e757c';\n                    }\n                    if(!news.blocks.main.elements[0].assets.length == 0){\n                    const newsTitle = news.webTitle;\n                    const newsDescription = news.blocks.body[0].bodyTextSummary;\n                    const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length-1].file;\n                    console.log(newsImage)\n                    let newsDate = news.webPublicationDate;\n                    newsDate = newsDate.slice(0,10)\n                    const newsBadge = news.sectionId;\n                    return (\n                        <Col lg={3} sm={12}>\n                            <Card className=\"SearchCard\">\n                            <Card.Body>\n                                <Card.Title><em>{newsTitle}</em></Card.Title>\n                                <Card.Img variant=\"top\" src={newsImage} className=\"SearchCardImg\"/>\n                                <Card.Text className=\"mt-2\">\n                                    <span><em>{newsDate}</em></span>\n                                    <Badge style={{color:text_color, backgroundColor:color}} className=\"float-right\">\n                                        {newsBadge}\n                                    </Badge>\n                                </Card.Text>\n                            </Card.Body>\n                            </Card >\n                        </Col>\n                        )\n                    }\n                })\n        return (\n        <>\n        <div style={{marginLeft:'20px', marginRight:'20px'}}>\n                <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Results</h2>\n                <Row>\n                    {newsCards}\n                </Row>\n        </div>\n        <Modal show={isopenModal} onHide={()=>handleClose()}>\n                <Modal.Header closeButton>\n                    <Modal.Title>{activeItem.title}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                <Modal.Body className=\"d-flex justify-content-between\">\n                    <FacebookShareButton url={activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                        <FacebookIcon size={70} className='float-left' round={true}/>\n                    </FacebookShareButton>\n                    <TwitterShareButton url={activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                        <TwitterIcon size={70} round={true}/>\n                    </TwitterShareButton>\n                    <EmailShareButton url={activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                        <EmailIcon size={70} className='float-right' round={true}/>\n                    </EmailShareButton>\n                </Modal.Body>\n        </Modal>\n        </>\n        );\n    }\n\n}\n\nexport default SearchResults;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { Component } from 'react'\n// import {Card, Col, Row, Badge} from 'react-bootstrap';\n// import { Link } from 'react-router-dom';\n// import './search.css';\n// import axios from 'axios';\n// import {FaBookmark} from 'react-icons';\n\n// class searchResults extends Component{\n//     state= {\n//         searchResults: [],\n//         newsAvailable: false\n//     }\n//     componentWillMount(){\n//         let url = 'http://localhost:5000/searchResults/' + this.props.location.state.searchWord\n//         axios.get(url)\n//         .then(responseData => {\n//             console.log(responseData.data);\n//             this.setState({\n//                 searchResults : responseData.data,\n//                 newsAvailable : true\n//             })\n//         })\n//         .catch(responseData=>{\n//             console.log(\"ERROR from Search Results\");\n//             })\n//     }\n\n//     // componentDidUpdate(){\n//     //     let url = 'http://localhost:5000/searchResults/' + this.props.location.state.searchWord\n//     //     axios.get(url)\n//     //     .then(responseData => {\n//     //         console.log(responseData.data);\n//     //         this.setState({\n//     //             searchResults : responseData.data,\n//     //             newsAvailable : true\n//     //         })\n//     //     })\n        \n//     //     .catch(responseData=>{\n//     //         console.log(\"ERROR from Search Results\");\n//     //         })\n//     // }\n\n\n//     render(){\n//         if (!this.state.newsAvailable){\n//             return <div>Loading...</div>\n//         }\n//         else{\n//         const newsObjs = this.state.searchResults\n//         const newsCards = this.state.searchResults.map(news => {\n//                     if(news.sectionId === 'sport'){\n//                         let badgeVariant = \"warning\";\n//                     }\n//                     else if(news.sectionId === 'world'){\n//                         let badgeVariant = \"primary\";\n//                     }\n//                     else if(news.sectionId === 'technology'){\n//                         let badgeVariant = \"success\";\n//                     }\n//                     else if(news.sectionId === 'politics'){\n//                         let badgeVariant = \"info\";\n//                     }\n//                     else if(news.sectionId === 'business'){\n//                         let badgeVariant = \"primary\";\n//                     }\n//                     else {\n//                         let badgeVariant = \"secondary\";\n//                     }\n//                     if(!news.blocks.main.elements[0].assets.length == 0){\n//                     const newsTitle = news.webTitle;\n//                     const newsDescription = news.blocks.body[0].bodyTextSummary;\n//                     const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length-1].file;\n//                     console.log(newsImage)\n//                     const newsDate = news.webPublicationDate;\n//                     const newsBadge = news.sectionId;\n//                     return (\n//                         <Col lg={3} sm={12}>\n//                             <Card className=\"SearchCard\">\n//                             <Card.Body>\n//                                 <Card.Title>{newsTitle}</Card.Title>\n//                                 <Card.Img variant=\"top\" src={newsImage} className=\"SearchCardImg\"/>\n//                                 <Card.Text className=\"mt-2\">\n//                                     <span> {newsDate} </span>\n//                                     <Badge variant=\"primary\" className=\"float-right\">\n//                                         news\n//                                     </Badge>\n//                                 </Card.Text>\n//                             </Card.Body>\n//                             </Card >\n//                         </Col>\n//                         )\n//                     }\n//                 })\n//         console.log(newsCards)\n//         return (\n//         <>\n//         <div style={{marginLeft:'20px', marginRight:'20px'}}>\n//                 <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Results</h2>\n//                 <Row>\n//                     {newsCards}\n//                 </Row>\n//         </div>\n//         </>\n//         );\n//     }\n// }\n// }\n\n// export default searchResults;"]},"metadata":{},"sourceType":"module"}