{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/home.js\";\nimport React, { Component } from 'react';\nimport { Card, Col, Row, Badge, ModalBody, ModalTitle, Button, Modal, ModalDialog } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share';\nimport { connect } from 'react-redux';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newsHeadlines: [],\n      newsAvailable: false,\n      isopenModal: false,\n      activeItem: \"\",\n      news: \"guardian\",\n      changed: false\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        isopenModal: false\n      });\n    };\n\n    this.handleOpen = (title, weburl) => {\n      let sharedata = {\n        title: title,\n        webUrl: weburl\n      };\n      console.log(title);\n      this.setState({\n        activeItem: sharedata\n      });\n      this.setState({\n        isopenModal: true\n      });\n    };\n  }\n\n  // static getDerivedStateFromProps(nextProps, prevState) {\n  //     console.log('will log on props change');\n  //     console.log(\"next\",nextProps.whichNews)\n  //     console.log(\"prevstate\", prevState.news)\n  //     if( nextProps.whichNews != prevState.news ) {\n  //          console.log(\"Inside\", nextProps.whichNews)\n  //         if (nextProps.whichNews === 'Guardian'){\n  //             console.log(\"Calling axios\")\n  //             axios.get('http://localhost:5000/')\n  //                 .then(responseData => {\n  //                     console.log(responseData.data);\n  //                     return{\n  //                         newsHeadlines : responseData.data,\n  //                         newsAvailable : true\n  //                     };\n  //                 })\n  //                 // .catch(responseData=>{\n  //                 //     console.log(\"error from here\", responseData);\n  //                 // })\n  //         }\n  //       // Notice we return plain object here to update state\n  //     }\n  //     return null;\n  //     // return null when changes are not needed\n  //   }\n  componentWillMount() {\n    axios.get('http://localhost:5000/').then(responseData => {\n      console.log(responseData.data);\n      this.setState({\n        newsHeadlines: responseData.data,\n        newsAvailable: true\n      });\n    }).catch(responseData => {\n      console.log(\"error\");\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // console.log(\"next-WIllRECEIVE\", nextProps.whichNews)\n    // console.log(\"Current-WIllRECEIVE\", this.props.whichNews)\n    if (nextProps.whichNews != this.props.whichNews) {\n      console.log(\"hello\");\n      this.setState({\n        changed: true\n      }, () => {\n        console.log('hi', this.props.whichNews);\n\n        if (this.props.whichNews === 'guardian') {\n          console.log(\"checked\");\n          axios.get('http://localhost:5000/').then(responseData => {\n            console.log(\"GUARDIAN\", responseData.data);\n            this.setState({\n              newsHeadlines: responseData.data,\n              newsAvailable: true,\n              changed: false\n            });\n            console.log(\"Guardian State data\", this.state.newsHeadlines);\n          }).catch(responseData => {\n            console.log(\"error\");\n          });\n        } else if (this.props.whichNews === 'nytimes') {\n          axios.get('http://localhost:5000/nytimes').then(responseData => {\n            console.log(\"NY TIMES\", responseData.data);\n            this.setState({\n              newsHeadlines: responseData.data,\n              newsAvailable: true,\n              changed: false\n            });\n            console.log(\"NYT State data\", this.state.newsHeadlines);\n          }).catch(responseData => {\n            console.log(\"error\");\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"News\");\n  } //     render(){\n  //         console.log(\"changed state\")\n  //         if (!this.state.newsAvailable){\n  //             return <div>Loading...</div>\n  //         }\n  //         else{\n  //         if(this.props.whichNews == 'guardian'){\n  //         const newsObjs = this.state.newsHeadlines\n  //         const newsCards = this.state.newsHeadlines.map(news => {\n  //                     let color = \"brown\"\n  //                     let text_color = \"white\"\n  //                     if(news.sectionId == 'sport'){\n  //                         color = '#f6c244';\n  //                         text_color = 'black';\n  //                     }\n  //                     else if(news.sectionId == 'world'){\n  //                         color = '#7c4eff';\n  //                     }\n  //                     else if(news.sectionId == 'technology'){\n  //                         color = '#cedc39';\n  //                         text_color = 'black';\n  //                     }\n  //                     else if(news.sectionId == 'politics'){\n  //                         color = '#419488';\n  //                     }\n  //                     else if(news.sectionId == 'business'){\n  //                         color = '#4696ec';\n  //                     }\n  //                     else {\n  //                         color = '#6e757c';\n  //                     }\n  //                     if(news.blocks.hasOwnProperty('main') && !news.blocks.main.elements[0].assets.length == 0){\n  //                     const newsTitle = news.webTitle;\n  //                     const newsDescription = news.blocks.body[0].bodyTextSummary;\n  //                     const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length-1].file;\n  //                     const newsDate = news.webPublicationDate;\n  //                     const newsBadge = news.sectionId;\n  //                     const newsId = news.id;\n  //                     const newsShareUrl = news.webUrl;\n  //                     // const pathname = '/DetailedArticle/' + newsId\n  //                     return (\n  //                         <Link to={{ pathname: '/DetailedArticle/' + newsId ,state: {ArticleId: newsId}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }} key={newsId}>\n  //                         <div className=\"HomepageCard\" key={newsId}>\n  //                         <Card style={{ width: '100%', marginTop:'30px', marginBottom:'30px', boxShadow:'0 6px 20px 0 rgba(0, 0, 0, 0.55)' }} >\n  //                                 <Row>\n  //                                     <Col lg={3} xs={12} className=\"mr-0 ml-0\" align=\"center\">\n  //                                         <Card.Img className=\"img-responsive\" variant=\"top\" src={newsImage} style={{ padding: '6px', border:'1px solid lightgray', margin:'10px', height:'200px', width:'90%', borderBottomLeftRadius: 'calc(.25rem - 1px)', borderBottomRightRadius: 'calc(.25rem - 1px)' }} />\n  //                                     </Col>\n  //                                     <Col lg={9} xs={12} className=\"mr-0 ml-0\">\n  //                                         <Card.Body>\n  //                                             <Card.Title><em>{newsTitle}</em><Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit'}} onClick={()=>this.handleOpen(newsTitle, newsShareUrl)}><FaShareAlt/></Link></Card.Title>\n  //                                             <Card.Text className=\"news-description\">\n  //                                                 {newsDescription}\n  //                                             </Card.Text>\n  //                                             <Card.Text>\n  //                                             <span> {newsDate} </span>\n  //                                             <Badge style={{backgroundColor: color, color:text_color}} className=\"float-right\">\n  //                                                 {newsBadge}\n  //                                             </Badge>\n  //                                             </Card.Text>\n  //                                         </Card.Body>\n  //                                     </Col>\n  //                                 </Row>\n  //                             </Card>\n  //                         </div>\n  //                         </Link>\n  //                   )\n  //                 }\n  //             })\n  //             console.log(newsCards)\n  //         return (\n  //         <>\n  //             {newsCards}\n  //             <Modal show={this.state.isopenModal} onHide={this.handleClose}>\n  //                     <Modal.Header closeButton>\n  //                         <Modal.Title>{this.state.activeItem.title}</Modal.Title>\n  //                     </Modal.Header>\n  //                     <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n  //                     <Modal.Body className=\"d-flex justify-content-between\">\n  //                     <FacebookShareButton url={this.state.activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n  //                         <FacebookIcon size={70} className='float-left' round={true}/>\n  //                     </FacebookShareButton>\n  //                     <TwitterShareButton url={this.state.activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n  //                         <TwitterIcon size={70} round={true}/>\n  //                     </TwitterShareButton>\n  //                     <EmailShareButton url={this.state.activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n  //                         <EmailIcon size={70} className='float-right' round={true}/>\n  //                     </EmailShareButton>\n  //                     </Modal.Body>\n  //             </Modal>\n  //         </>\n  //         );\n  //       }\n  //       else if(this.props.whichNews === 'nytimes'){\n  //         const newsObjs = this.state.newsHeadlines\n  //         const newsCards = this.state.newsHeadlines.map(news => {\n  //                     let color = \"brown\"\n  //                     let text_color = \"white\"\n  //                     if(news.section == 'sport'){\n  //                         color = '#f6c244';\n  //                         text_color = 'black';\n  //                     }\n  //                     else if(news.section == 'world'){\n  //                         color = '#7c4eff';\n  //                     }\n  //                     else if(news.section == 'technology'){\n  //                         color = '#cedc39';\n  //                         text_color = 'black';\n  //                     }\n  //                     else if(news.section == 'politics'){\n  //                         color = '#419488';\n  //                     }\n  //                     else if(news.section == 'business'){\n  //                         color = '#4696ec';\n  //                     }\n  //                     else {\n  //                         color = '#6e757c';\n  //                     }\n  //                     let count = 0\n  //                     if(news.hasOwnProperty('multimedia')){\n  //                         if (news.multimedia){\n  //                     const newsTitle = news.title;\n  //                     const newsDescription = news.abstract;\n  //                     let newsImage = news.multimedia[0].url\n  //                     // console.log(news)\n  //                     const newsDate = news.published_date;\n  //                     const newsBadge = news.section;\n  //                     const newsId = news.uri;\n  //                     const newsShareUrl = news.url;\n  //                     // const pathname = '/DetailedArticle/' + newsId\n  //                     return (\n  //                         <Link to={{ pathname: '/DetailedArticle/' + newsId ,state: {ArticleId: newsId}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }} key={newsId}>\n  //                         <div className=\"HomepageCard\" key={newsId}>\n  //                         <Card style={{ width: '100%', marginTop:'30px', marginBottom:'30px', boxShadow:'0 6px 20px 0 rgba(0, 0, 0, 0.55)' }} >\n  //                                 <Row>\n  //                                     <Col lg={3} xs={12} className=\"mr-0 ml-0\" align=\"center\">\n  //                                         <Card.Img className=\"img-responsive\" variant=\"top\" src={newsImage} style={{ padding: '6px', border:'1px solid lightgray', margin:'10px', height:'200px', width:'90%', borderBottomLeftRadius: 'calc(.25rem - 1px)', borderBottomRightRadius: 'calc(.25rem - 1px)' }} />\n  //                                     </Col>\n  //                                     <Col lg={9} xs={12} className=\"mr-0 ml-0\">\n  //                                         <Card.Body>\n  //                                             <Card.Title><em>{newsTitle}</em><Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit'}} onClick={()=>this.handleOpen(newsTitle, newsShareUrl)}><FaShareAlt/></Link></Card.Title>\n  //                                             <Card.Text className=\"news-description\">\n  //                                                 {newsDescription}\n  //                                             </Card.Text>\n  //                                             <Card.Text>\n  //                                             <span> {newsDate} </span>\n  //                                             <Badge style={{backgroundColor: color, color:text_color}} className=\"float-right\">\n  //                                                 {newsBadge}\n  //                                             </Badge>\n  //                                             </Card.Text>\n  //                                         </Card.Body>\n  //                                     </Col>\n  //                                 </Row>\n  //                             </Card>\n  //                         </div>\n  //                         </Link>\n  //                   )\n  //                 }\n  //             }\n  //             })\n  //             console.log(newsCards)\n  //         return (\n  //         <>\n  //             {newsCards}\n  //             <Modal show={this.state.isopenModal} onHide={this.handleClose}>\n  //                     <Modal.Header closeButton>\n  //                         <Modal.Title>{this.state.activeItem.title}</Modal.Title>\n  //                     </Modal.Header>\n  //                     <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n  //                     <Modal.Body className=\"d-flex justify-content-between\">\n  //                     <FacebookShareButton url={this.state.activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n  //                         <FacebookIcon size={70} className='float-left' round={true}/>\n  //                     </FacebookShareButton>\n  //                     <TwitterShareButton url={this.state.activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n  //                         <TwitterIcon size={70} round={true}/>\n  //                     </TwitterShareButton>\n  //                     <EmailShareButton url={this.state.activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n  //                         <EmailIcon size={70} className='float-right' round={true}/>\n  //                     </EmailShareButton>\n  //                     </Modal.Body>\n  //             </Modal>\n  //         </>\n  //         );\n  //         }\n  //     }\n  // }\n\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    whichNews: state.newsState\n  };\n};\n\nexport default connect(mapStateToProps)(Home);","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/home.js"],"names":["React","Component","Card","Col","Row","Badge","ModalBody","ModalTitle","Button","Modal","ModalDialog","Link","axios","FaShareAlt","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","connect","Home","state","newsHeadlines","newsAvailable","isopenModal","activeItem","news","changed","handleClose","setState","handleOpen","title","weburl","sharedata","webUrl","console","log","componentWillMount","get","then","responseData","data","catch","componentWillReceiveProps","nextProps","whichNews","props","render","mapStateToProps","newsState"],"mappings":"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DD,CACMC,YAAY,IAAI;AAClBL,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBI,YAAY,CAACC,IAApC;AACA,iBAAKZ,QAAL,CAAc;AACVP,cAAAA,aAAa,EAAGkB,YAAY,CAACC,IADnB;AAEVlB,cAAAA,aAAa,EAAG,IAFN;AAGVI,cAAAA,OAAO,EAAC;AAHE,aAAd;AAKAQ,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKf,KAAL,CAAWC,aAAzC;AACH,WATD,EAUCoB,KAVD,CAUOF,YAAY,IAAE;AACjBL,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH,WAZD;AAaH;AACJ,OAnCT;AAqCE;AAAC;;AAgBXW,EAAAA,MAAM,GAAE;AACJ,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA;AAGH,GAlHuB,CAmHxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA9SwB;;AAiT5B,MAAMC,eAAe,GAAI3B,KAAD,IAAU;AAC9B,SAAM;AACFwB,IAAAA,SAAS,EAAGxB,KAAK,CAAC4B;AADhB,GAAN;AAGH,CAJD;;AAOA,eAAe9B,OAAO,CAAC6B,eAAD,CAAP,CAAyB5B,IAAzB,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport {Card, Col, Row, Badge, ModalBody, ModalTitle, Button, Modal, ModalDialog} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\nimport { connect } from 'react-redux';\n\nclass Home extends Component{\n    state= {\n        newsHeadlines: [],\n        newsAvailable: false,\n        isopenModal : false,\n        activeItem: \"\",\n        news:\"guardian\",\n        changed:false\n    }\n\n    // static getDerivedStateFromProps(nextProps, prevState) {\n    //     console.log('will log on props change');\n    //     console.log(\"next\",nextProps.whichNews)\n    //     console.log(\"prevstate\", prevState.news)\n    //     if( nextProps.whichNews != prevState.news ) {\n    //          console.log(\"Inside\", nextProps.whichNews)\n    //         if (nextProps.whichNews === 'Guardian'){\n    //             console.log(\"Calling axios\")\n    //             axios.get('http://localhost:5000/')\n    //                 .then(responseData => {\n    //                     console.log(responseData.data);\n    //                     return{\n    //                         newsHeadlines : responseData.data,\n    //                         newsAvailable : true\n    //                     };\n    //                 })\n    //                 // .catch(responseData=>{\n    //                 //     console.log(\"error from here\", responseData);\n    //                 // })\n    //         }\n    //       // Notice we return plain object here to update state\n    //     }\n    //     return null;\n\n    //     // return null when changes are not needed\n    //   }\n\n\n    componentWillMount(){\n        axios.get('http://localhost:5000/')\n            .then(responseData => {\n                console.log(responseData.data);\n                this.setState({\n                    newsHeadlines : responseData.data,\n                    newsAvailable : true\n                })\n            })\n            .catch(responseData=>{\n                console.log(\"error\");\n            })\n    }\n\n    componentWillReceiveProps(nextProps){\n        // console.log(\"next-WIllRECEIVE\", nextProps.whichNews)\n        // console.log(\"Current-WIllRECEIVE\", this.props.whichNews)\n        if( nextProps.whichNews != this.props.whichNews ) {\n            console.log(\"hello\")\n            this.setState({\n                changed:true\n            },()=>{\n                console.log('hi',this.props.whichNews)\n                if (this.props.whichNews === 'guardian'){\n                    console.log(\"checked\")\n                            axios.get('http://localhost:5000/')\n                            .then(responseData => {\n                                console.log(\"GUARDIAN\",responseData.data);\n                                this.setState({\n                                    newsHeadlines : responseData.data,\n                                    newsAvailable : true,\n                                    changed:false,\n                                })\n                            console.log(\"Guardian State data\", this.state.newsHeadlines)\n                            })\n                            .catch(responseData=>{\n                                console.log(\"error\");\n                            })\n                        }\n                else if(this.props.whichNews === 'nytimes'){\n                            axios.get('http://localhost:5000/nytimes')\n                            .then(responseData => {\n                                console.log(\"NY TIMES\",responseData.data);\n                                this.setState({\n                                    newsHeadlines : responseData.data,\n                                    newsAvailable : true,\n                                    changed:false\n                                })\n                                console.log(\"NYT State data\", this.state.newsHeadlines)\n                            })\n                            .catch(responseData=>{\n                                console.log(\"error\");\n                            })\n                        }\n                    }\n\n            )}}\n      \n\n    handleClose = () =>{\n        this.setState({\n            isopenModal : false\n        })\n    }\n\n    handleOpen = (title, weburl) =>{\n        let sharedata = {title:title,webUrl:weburl}\n        console.log(title)\n        this.setState({activeItem:sharedata})\n        this.setState({ isopenModal: true });\n    }\n\n    render(){\n        return(\n        <div>News</div>\n        )\n    }\n    //     render(){\n    //         console.log(\"changed state\")\n    //         if (!this.state.newsAvailable){\n    //             return <div>Loading...</div>\n    //         }\n    //         else{\n    //         if(this.props.whichNews == 'guardian'){\n    //         const newsObjs = this.state.newsHeadlines\n    //         const newsCards = this.state.newsHeadlines.map(news => {\n    //                     let color = \"brown\"\n    //                     let text_color = \"white\"\n    //                     if(news.sectionId == 'sport'){\n    //                         color = '#f6c244';\n    //                         text_color = 'black';\n    //                     }\n    //                     else if(news.sectionId == 'world'){\n    //                         color = '#7c4eff';\n    //                     }\n    //                     else if(news.sectionId == 'technology'){\n    //                         color = '#cedc39';\n    //                         text_color = 'black';\n    //                     }\n    //                     else if(news.sectionId == 'politics'){\n    //                         color = '#419488';\n    //                     }\n    //                     else if(news.sectionId == 'business'){\n    //                         color = '#4696ec';\n    //                     }\n    //                     else {\n    //                         color = '#6e757c';\n    //                     }\n\n    //                     if(news.blocks.hasOwnProperty('main') && !news.blocks.main.elements[0].assets.length == 0){\n    //                     const newsTitle = news.webTitle;\n    //                     const newsDescription = news.blocks.body[0].bodyTextSummary;\n    //                     const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length-1].file;\n    //                     const newsDate = news.webPublicationDate;\n    //                     const newsBadge = news.sectionId;\n    //                     const newsId = news.id;\n    //                     const newsShareUrl = news.webUrl;\n    //                     // const pathname = '/DetailedArticle/' + newsId\n    //                     return (\n    //                         <Link to={{ pathname: '/DetailedArticle/' + newsId ,state: {ArticleId: newsId}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }} key={newsId}>\n    //                         <div className=\"HomepageCard\" key={newsId}>\n    //                         <Card style={{ width: '100%', marginTop:'30px', marginBottom:'30px', boxShadow:'0 6px 20px 0 rgba(0, 0, 0, 0.55)' }} >\n    //                                 <Row>\n    //                                     <Col lg={3} xs={12} className=\"mr-0 ml-0\" align=\"center\">\n    //                                         <Card.Img className=\"img-responsive\" variant=\"top\" src={newsImage} style={{ padding: '6px', border:'1px solid lightgray', margin:'10px', height:'200px', width:'90%', borderBottomLeftRadius: 'calc(.25rem - 1px)', borderBottomRightRadius: 'calc(.25rem - 1px)' }} />\n    //                                     </Col>\n    //                                     <Col lg={9} xs={12} className=\"mr-0 ml-0\">\n    //                                         <Card.Body>\n    //                                             <Card.Title><em>{newsTitle}</em><Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit'}} onClick={()=>this.handleOpen(newsTitle, newsShareUrl)}><FaShareAlt/></Link></Card.Title>\n    //                                             <Card.Text className=\"news-description\">\n    //                                                 {newsDescription}\n    //                                             </Card.Text>\n    //                                             <Card.Text>\n    //                                             <span> {newsDate} </span>\n    //                                             <Badge style={{backgroundColor: color, color:text_color}} className=\"float-right\">\n    //                                                 {newsBadge}\n    //                                             </Badge>\n    //                                             </Card.Text>\n    //                                         </Card.Body>\n    //                                     </Col>\n    //                                 </Row>\n    //                             </Card>\n    //                         </div>\n    //                         </Link>\n    //                   )\n    //                 }\n    //             })\n    //             console.log(newsCards)\n    //         return (\n    //         <>\n    //             {newsCards}\n    //             <Modal show={this.state.isopenModal} onHide={this.handleClose}>\n    //                     <Modal.Header closeButton>\n    //                         <Modal.Title>{this.state.activeItem.title}</Modal.Title>\n    //                     </Modal.Header>\n                        \n    //                     <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n    //                     <Modal.Body className=\"d-flex justify-content-between\">\n    //                     <FacebookShareButton url={this.state.activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n    //                         <FacebookIcon size={70} className='float-left' round={true}/>\n    //                     </FacebookShareButton>\n    //                     <TwitterShareButton url={this.state.activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n    //                         <TwitterIcon size={70} round={true}/>\n    //                     </TwitterShareButton>\n    //                     <EmailShareButton url={this.state.activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n    //                         <EmailIcon size={70} className='float-right' round={true}/>\n    //                     </EmailShareButton>\n    //                     </Modal.Body>\n    //             </Modal>\n    //         </>\n    //         );\n    //       }\n    //       else if(this.props.whichNews === 'nytimes'){\n    //         const newsObjs = this.state.newsHeadlines\n    //         const newsCards = this.state.newsHeadlines.map(news => {\n    //                     let color = \"brown\"\n    //                     let text_color = \"white\"\n    //                     if(news.section == 'sport'){\n    //                         color = '#f6c244';\n    //                         text_color = 'black';\n    //                     }\n    //                     else if(news.section == 'world'){\n    //                         color = '#7c4eff';\n    //                     }\n    //                     else if(news.section == 'technology'){\n    //                         color = '#cedc39';\n    //                         text_color = 'black';\n    //                     }\n    //                     else if(news.section == 'politics'){\n    //                         color = '#419488';\n    //                     }\n    //                     else if(news.section == 'business'){\n    //                         color = '#4696ec';\n    //                     }\n    //                     else {\n    //                         color = '#6e757c';\n    //                     }\n    //                     let count = 0\n    //                     if(news.hasOwnProperty('multimedia')){\n    //                         if (news.multimedia){\n    //                     const newsTitle = news.title;\n    //                     const newsDescription = news.abstract;\n    //                     let newsImage = news.multimedia[0].url\n    //                     // console.log(news)\n    //                     const newsDate = news.published_date;\n    //                     const newsBadge = news.section;\n    //                     const newsId = news.uri;\n    //                     const newsShareUrl = news.url;\n    //                     // const pathname = '/DetailedArticle/' + newsId\n    //                     return (\n    //                         <Link to={{ pathname: '/DetailedArticle/' + newsId ,state: {ArticleId: newsId}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }} key={newsId}>\n    //                         <div className=\"HomepageCard\" key={newsId}>\n    //                         <Card style={{ width: '100%', marginTop:'30px', marginBottom:'30px', boxShadow:'0 6px 20px 0 rgba(0, 0, 0, 0.55)' }} >\n    //                                 <Row>\n    //                                     <Col lg={3} xs={12} className=\"mr-0 ml-0\" align=\"center\">\n    //                                         <Card.Img className=\"img-responsive\" variant=\"top\" src={newsImage} style={{ padding: '6px', border:'1px solid lightgray', margin:'10px', height:'200px', width:'90%', borderBottomLeftRadius: 'calc(.25rem - 1px)', borderBottomRightRadius: 'calc(.25rem - 1px)' }} />\n    //                                     </Col>\n    //                                     <Col lg={9} xs={12} className=\"mr-0 ml-0\">\n    //                                         <Card.Body>\n    //                                             <Card.Title><em>{newsTitle}</em><Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit'}} onClick={()=>this.handleOpen(newsTitle, newsShareUrl)}><FaShareAlt/></Link></Card.Title>\n    //                                             <Card.Text className=\"news-description\">\n    //                                                 {newsDescription}\n    //                                             </Card.Text>\n    //                                             <Card.Text>\n    //                                             <span> {newsDate} </span>\n    //                                             <Badge style={{backgroundColor: color, color:text_color}} className=\"float-right\">\n    //                                                 {newsBadge}\n    //                                             </Badge>\n    //                                             </Card.Text>\n    //                                         </Card.Body>\n    //                                     </Col>\n    //                                 </Row>\n    //                             </Card>\n    //                         </div>\n    //                         </Link>\n    //                   )\n    //                 }\n    //             }\n    //             })\n    //             console.log(newsCards)\n    //         return (\n    //         <>\n    //             {newsCards}\n    //             <Modal show={this.state.isopenModal} onHide={this.handleClose}>\n    //                     <Modal.Header closeButton>\n    //                         <Modal.Title>{this.state.activeItem.title}</Modal.Title>\n    //                     </Modal.Header>\n    //                     <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n    //                     <Modal.Body className=\"d-flex justify-content-between\">\n    //                     <FacebookShareButton url={this.state.activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n    //                         <FacebookIcon size={70} className='float-left' round={true}/>\n    //                     </FacebookShareButton>\n    //                     <TwitterShareButton url={this.state.activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n    //                         <TwitterIcon size={70} round={true}/>\n    //                     </TwitterShareButton>\n    //                     <EmailShareButton url={this.state.activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n    //                         <EmailIcon size={70} className='float-right' round={true}/>\n    //                     </EmailShareButton>\n    //                     </Modal.Body>\n    //             </Modal>\n    //         </>\n    //         );\n    //         }\n    //     }\n    // }\n}\n\nconst mapStateToProps = (state) =>{\n    return{\n        whichNews : state.newsState\n    }\n}\n\n\nexport default connect(mapStateToProps)(Home);\n\n"]},"metadata":{},"sourceType":"module"}