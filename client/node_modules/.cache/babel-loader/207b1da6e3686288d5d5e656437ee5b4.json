{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/client/src/components/Customnavbar.js\";\nimport React, { Component } from 'react';\nimport { Link, NavLink, withRouter } from 'react-router-dom';\nimport { Button, Nav, Navbar, NavDropdown, Form, FormControl, Dropdown } from 'react-bootstrap';\nimport './navbar.css';\nimport axios from 'axios';\nimport _ from 'lodash';\nimport Select from 'react-select';\nimport { connect } from 'react-redux';\nimport { FaBookmark } from 'react-icons/fa';\nimport { FaRegBookmark } from 'react-icons/fa';\nimport Switch from \"react-switch\";\nimport ReactTooltip from 'react-tooltip';\n\nclass CustomNavbar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchWord: \"\",\n      searchResults: [],\n      searchingWord: \"\",\n      news: \"\"\n    };\n\n    this.onsearch = selectedOption => {\n      if (selectedOption.value) {\n        let word = selectedOption.value;\n        this.setState({\n          searchWord: word\n        });\n        this.props.history.push({\n          pathname: \"/search/\" + word,\n          state: {\n            searchWord: word\n          }\n        });\n      } else {\n        alert(\"No Text Entered\");\n      }\n    };\n\n    this.handleSearch = inputValue => {\n      const headers = {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Accept': 'application/json',\n        'Ocp-Apim-Subscription-Key': 'd70e0b68e0b246e9bb36efc7d644ccb0'\n      };\n      {\n        console.log(\"Input\", inputValue);\n      }\n      this.setState({\n        searchWord: inputValue\n      });\n      let url = `https://api.cognitive.microsoft.com/bing/v7.0/suggestions?q=${inputValue}`;\n      axios.get(url, {\n        headers: headers\n      }).then(responseData => {\n        let results = responseData.data.suggestionGroups[0].searchSuggestions;\n        const searchResults = results.map(result => ({\n          value: result.displayText,\n          label: result.displayText\n        }));\n        this.setState({\n          searchResults\n        });\n        console.log(\"results\", this.state.searchResults);\n        return searchResults;\n      }).catch(responseData => {\n        console.log(\"ERROR from Search Results\");\n      });\n    };\n\n    this.writeNews = news => {\n      console.log(\"News to write\", news);\n      axios.post('http://localhost:5000/setNewsdata', {\n        news: news\n      }).then(response => {\n        console.log(\"Done\", response.data);\n      }).catch(response => {\n        console.log(\"error\");\n      });\n    };\n\n    this.handleSwitchChange = () => {\n      if (this.props.whichNews === 'guardian' || this.props.whichNews === 'Guardian') {\n        console.log(\"changing from\", this.state.news, \"to nytimes\");\n        this.setState({\n          news: 'nytimes'\n        });\n        this.props.changeNewsState('nytimes');\n        this.writeNews('nytimes');\n      } else {\n        console.log(\"changing from\", this.state.news, \"to guardian\");\n        this.setState({\n          news: 'guardian'\n        });\n        this.props.changeNewsState('guardian');\n        this.writeNews('guardian');\n      }\n    };\n\n    this.handleFavorites = () => {\n      console.log(\"Going to Bookmarks\");\n      ReactTooltip.hide();\n      this.props.history.push({\n        pathname: \"/favorites\"\n      });\n    };\n  }\n\n  render() {\n    let bookmark = \"\";\n    let switchNews = \"\";\n    let search = \"\"; //Bookmark handling\n\n    if (window.location.pathname == '/favorites') {\n      bookmark = React.createElement(Button, {\n        className: \"mr-auto mb-2\",\n        \"data-tip\": \"Bookmark\",\n        \"data-for\": \"bookmark\",\n        onClick: () => this.handleFavorites(),\n        style: {\n          background: 'none',\n          border: 'none',\n          paddingLeft: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(FaBookmark, {\n        style: {\n          height: '20px',\n          width: '20px',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }));\n    } else if (window.location.pathname.includes('/search') || window.location.pathname.includes('/detailedarticle')) {\n      bookmark = React.createElement(Button, {\n        className: \"mr-auto mb-2\",\n        \"data-tip\": \"Bookmark\",\n        \"data-for\": \"bookmark\",\n        onClick: () => this.handleFavorites(),\n        style: {\n          background: 'none',\n          border: 'none',\n          paddingLeft: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(FaRegBookmark, {\n        style: {\n          height: '20px',\n          width: '20px',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }));\n    } else {\n      bookmark = React.createElement(Button, {\n        className: \"mr-auto mb-2 mr-lg-4\",\n        \"data-tip\": \"Bookmark\",\n        \"data-for\": \"bookmark\",\n        onClick: () => this.handleFavorites(),\n        style: {\n          background: 'none',\n          border: 'none',\n          paddingLeft: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(FaRegBookmark, {\n        style: {\n          height: '20px',\n          width: '20px',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }));\n    } // Switch Handling\n\n\n    if (window.location.pathname == '/favorites' || window.location.pathname.includes('/search') || window.location.pathname.includes('/detailedarticle')) {\n      switchNews = \"\";\n    } else {\n      if (this.props.whichNews === 'nytimes') {\n        switchNews = React.createElement(React.Fragment, null, React.createElement(Navbar.Text, {\n          className: \"mr-sm-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \" NY Times \"), React.createElement(Form, {\n          inline: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(Switch, {\n          onChange: this.handleSwitchChange,\n          checked: false,\n          className: \"react-switch\",\n          uncheckedIcon: false,\n          checkedIcon: false,\n          height: 25,\n          width: 45,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        })), React.createElement(Navbar.Text, {\n          className: \"mr-sm-2 ml-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, \" Guardian \"));\n      } else {\n        switchNews = React.createElement(React.Fragment, null, React.createElement(Navbar.Text, {\n          className: \"mr-sm-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, \" NY Times \"), React.createElement(Form, {\n          inline: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(Switch, {\n          onChange: this.handleSwitchChange,\n          checked: true,\n          className: \"react-switch\",\n          uncheckedIcon: false,\n          checkedIcon: false,\n          height: 25,\n          width: 45,\n          onColor: \"#4696ec\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        })), React.createElement(Navbar.Text, {\n          className: \"mr-sm-2 ml-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \" Guardian \"));\n      }\n    }\n\n    if (window.location.pathname.includes('/search')) {\n      search = React.createElement(Select, {\n        className: \"CustomSearchBar\",\n        onInputChange: _.debounce(this.handleSearch, 500),\n        onChange: this.onsearch,\n        options: this.state.searchResults,\n        placeholder: \"Enter Keyword ..\",\n        value: this.state.searchWord,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      });\n    } else {\n      search = React.createElement(Select, {\n        className: \"CustomSearchBar\",\n        onInputChange: _.debounce(this.handleSearch, 500),\n        onChange: this.onsearch,\n        value: \"\",\n        options: this.state.searchResults,\n        placeholder: \"Enter Keyword ..\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      });\n    }\n\n    return (// On small it collapses \n      React.createElement(Navbar, {\n        className: \"bg-custom\",\n        expand: \"sm\",\n        variant: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, search, React.createElement(Navbar.Toggle, {\n        \"aria-controls\": \"basic-navbar-nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(Navbar.Collapse, {\n        id: \"basic-navbar-nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        className: \"mr-auto\",\n        defaultActiveKey: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Nav.Link, {\n        as: Link,\n        to: \"/\",\n        href: \"/\",\n        activeKey: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Home\"), React.createElement(Nav.Link, {\n        as: Link,\n        to: \"/world\",\n        href: \"/world\",\n        activeKey: \"/world\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"World\"), React.createElement(Nav.Link, {\n        as: Link,\n        to: \"/politics\",\n        href: \"/politics\",\n        activeKey: \"/politics\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Politics\"), React.createElement(Nav.Link, {\n        as: Link,\n        to: \"/business\",\n        href: \"/business\",\n        activeKey: \"/business\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Business\"), React.createElement(Nav.Link, {\n        as: Link,\n        to: \"/technology\",\n        href: \"/technology\",\n        activeKey: \"/technology\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Technology\"), React.createElement(Nav.Link, {\n        as: Link,\n        to: \"/sports\",\n        href: \"/sports\",\n        activeKey: \"/sports\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Sports\")), React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, bookmark, React.createElement(ReactTooltip, {\n        id: \"bookmark\",\n        effect: \"solid\",\n        place: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), switchNews)))\n    );\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    whichNews: state.newsState\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeNewsState: newsValue => {\n      dispatch({\n        type: 'CHANGE_NEWS',\n        newsValue: newsValue\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CustomNavbar));","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/client/src/components/Customnavbar.js"],"names":["React","Component","Link","NavLink","withRouter","Button","Nav","Navbar","NavDropdown","Form","FormControl","Dropdown","axios","_","Select","connect","FaBookmark","FaRegBookmark","Switch","ReactTooltip","CustomNavbar","state","searchWord","searchResults","searchingWord","news","onsearch","selectedOption","value","word","setState","props","history","push","pathname","alert","handleSearch","inputValue","headers","console","log","url","get","then","responseData","results","data","suggestionGroups","searchSuggestions","map","result","displayText","label","catch","writeNews","post","response","handleSwitchChange","whichNews","changeNewsState","handleFavorites","hide","render","bookmark","switchNews","search","window","location","background","border","paddingLeft","height","width","color","includes","debounce","mapStateToProps","newsState","mapDispatchToProps","dispatch","newsValue","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link, NavLink, withRouter} from 'react-router-dom';\nimport {Button, Nav, Navbar, NavDropdown, Form, FormControl, Dropdown} from 'react-bootstrap';\nimport './navbar.css';\nimport axios from 'axios';\nimport _ from 'lodash';\nimport Select from 'react-select';\nimport { connect } from 'react-redux';\nimport  {FaBookmark} from 'react-icons/fa';\nimport {FaRegBookmark} from 'react-icons/fa';\nimport Switch from \"react-switch\";\nimport ReactTooltip from 'react-tooltip'\n\nclass CustomNavbar extends Component{\n  state= {\n        searchWord : \"\",\n        searchResults : [],\n        searchingWord : \"\",\n        news : \"\"\n    }\n\n  onsearch = (selectedOption) =>{\n    if (selectedOption.value) {\n      let word = selectedOption.value;\n      this.setState({ searchWord: word })\n      this.props.history.push({\n          pathname: \"/search/\"+word,\n          state: { searchWord: word }\n      });\n  } else {\n      alert(\"No Text Entered\");\n  }\n}\n\nhandleSearch = (inputValue) =>{\n      const headers = {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Accept': 'application/json',\n        'Ocp-Apim-Subscription-Key':'d70e0b68e0b246e9bb36efc7d644ccb0'\n        }\n        { console.log(\"Input\",inputValue) }\n        this.setState({\n          searchWord : inputValue\n        })\n        let url = `https://api.cognitive.microsoft.com/bing/v7.0/suggestions?q=${inputValue}`;\n        axios.get(url, {headers:headers})\n        .then(responseData => {\n            let results = responseData.data.suggestionGroups[0].searchSuggestions\n            const searchResults = results.map(result => ({ value: result.displayText, label: result.displayText }));\n            this.setState({ searchResults })\n            console.log(\"results\",this.state.searchResults)\n            return searchResults\n          })\n        .catch(responseData=>{\n            console.log(\"ERROR from Search Results\"); \n        })\n        }\n\nwriteNews= (news) =>{\nconsole.log(\"News to write\", news);\naxios.post('http://localhost:5000/setNewsdata',{news: news})\n.then(response =>{\n  console.log(\"Done\", response.data)\n})\n.catch(response=>{\n  console.log(\"error\");\n})\n}\n\nhandleSwitchChange=()=>{\n  if(this.props.whichNews === 'guardian' || this.props.whichNews === 'Guardian'){\n    console.log(\"changing from\", this.state.news,\"to nytimes\")\n    this.setState({news:'nytimes'})\n    this.props.changeNewsState('nytimes')\n    this.writeNews('nytimes')\n  }\n  else{\n    console.log(\"changing from\", this.state.news,\"to guardian\")\n    this.setState({news:'guardian'})\n    this.props.changeNewsState('guardian')\n    this.writeNews('guardian')\n  }\n}\n\nhandleFavorites=()=>{\n  console.log(\"Going to Bookmarks\")\n  ReactTooltip.hide();\n  this.props.history.push({\n    pathname: \"/favorites\"\n  })\n}\n\n  render(){\n    let bookmark = \"\";\n    let switchNews = \"\";\n    let search = \"\"\n    //Bookmark handling\n    if(window.location.pathname == '/favorites'){\n      bookmark = (<Button className='mr-auto mb-2' data-tip=\"Bookmark\" data-for=\"bookmark\" onClick={()=>this.handleFavorites()} style={{background:'none', border:'none', paddingLeft:'0px'}}><FaBookmark style={{ height:'20px', width:'20px', color:'white'}}/></Button>)\n    }\n    else if( window.location.pathname.includes('/search') || window.location.pathname.includes('/detailedarticle')){\n      bookmark = (<Button className='mr-auto mb-2' data-tip=\"Bookmark\" data-for=\"bookmark\" onClick={()=>this.handleFavorites()} style={{background:'none', border:'none', paddingLeft:'0px'}}><FaRegBookmark style={{ height:'20px', width:'20px', color:'white'}}/></Button>)\n    }\n    else{\n      bookmark = (<Button className='mr-auto mb-2 mr-lg-4' data-tip=\"Bookmark\" data-for=\"bookmark\"  onClick={()=>this.handleFavorites()} style={{background:'none', border:'none', paddingLeft:'0px'}}><FaRegBookmark style={{ height:'20px', width:'20px', color:'white'}}/></Button>)\n    }\n    // Switch Handling\n    if(window.location.pathname == '/favorites' ||  window.location.pathname.includes('/search') || window.location.pathname.includes('/detailedarticle')){\n      switchNews = \"\"\n    }\n    else{\n      if(this.props.whichNews === 'nytimes'){\n      switchNews = (\n            <>\n              <Navbar.Text className=\"mr-sm-2\"> NY Times </Navbar.Text>\n              <Form inline>\n                  <Switch\n                  onChange={this.handleSwitchChange}\n                  checked={false}\n                  className=\"react-switch\"\n                  uncheckedIcon={false}\n                  checkedIcon={false}\n                  height={25}\n                  width={45}\n                  />\n              </Form>\n              <Navbar.Text className=\"mr-sm-2 ml-2\"> Guardian </Navbar.Text>\n            </>\n      )\n    }\n      else{\n        switchNews = (\n          <>\n            <Navbar.Text className=\"mr-sm-2\"> NY Times </Navbar.Text>\n            <Form inline>\n                <Switch\n                  onChange={this.handleSwitchChange}\n                  checked={true}\n                  className=\"react-switch\"\n                  uncheckedIcon={false}\n                  checkedIcon={false}\n                  height={25}\n                  width={45}\n                  onColor= \"#4696ec\"\n                />\n            </Form>\n            <Navbar.Text className=\"mr-sm-2 ml-2\"> Guardian </Navbar.Text>\n          </>\n    )\n  }\n}\n  if (window.location.pathname.includes('/search')){\n    search = (\n            <Select className=\"CustomSearchBar\"\n            onInputChange={_.debounce(this.handleSearch, 500)}\n            onChange={this.onsearch}\n            options = { this.state.searchResults }\n            placeholder=\"Enter Keyword ..\"\n            value = { this.state.searchWord }\n            />\n            )\n  }\n  else{\n  search = (\n            <Select className=\"CustomSearchBar\"\n            onInputChange={_.debounce(this.handleSearch, 500)}\n            onChange={this.onsearch}\n            value = \"\"\n            options = { this.state.searchResults }\n            placeholder=\"Enter Keyword ..\"\n            />\n            )\n  }\n      return(\n      // On small it collapses \n          <Navbar className=\"bg-custom\" expand=\"sm\" variant=\"dark\">\n            {search}\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n              <Nav className=\"mr-auto\" defaultActiveKey=\"/\">\n                <Nav.Link as={Link} to=\"/\" href=\"/\" activeKey=\"/\">Home</Nav.Link>\n                <Nav.Link as={Link} to=\"/world\" href=\"/world\" activeKey=\"/world\">World</Nav.Link>\n                <Nav.Link as={Link} to=\"/politics\" href=\"/politics\" activeKey=\"/politics\">Politics</Nav.Link>\n                <Nav.Link as={Link} to=\"/business\" href=\"/business\" activeKey=\"/business\">Business</Nav.Link>\n                <Nav.Link as={Link} to=\"/technology\" href=\"/technology\" activeKey=\"/technology\">Technology</Nav.Link>\n                <Nav.Link as={Link} to=\"/sports\" href=\"/sports\" activeKey=\"/sports\">Sports</Nav.Link>\n              </Nav>\n              <Nav>\n              {bookmark}\n              <ReactTooltip id=\"bookmark\" effect=\"solid\" place=\"bottom\"/>\n              {switchNews}\n              </Nav>\n            </Navbar.Collapse>\n          </Navbar>\n      )\n      }\n}\n\n\nconst mapStateToProps = (state) =>{\n  return{\n      whichNews : state.newsState\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return{\n  changeNewsState : (newsValue) => { dispatch({type: 'CHANGE_NEWS', newsValue: newsValue})}\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(CustomNavbar))\n\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}