{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/src/components/favorites.js\";\nimport React, { useState, useEffect, Component, memo, useReducer } from 'react';\nimport { Card, Col, Row, Badge, Button, Modal, Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './detailed_page.css';\nimport { FaTrash } from 'react-icons/fa';\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { IoMdShare } from 'react-icons/io';\nimport { Zoom } from 'react-toastify';\nimport Truncate from 'react-truncate';\nimport './search.css';\n\nconst favReducer = (state, action) => {\n  switch (action.type) {\n    case 'REMOVE_ARTICLE':\n      let localdataFetch = localStorage.getItem('favoriteData');\n      let localdata = localdataFetch ? JSON.parse(localdataFetch) : [];\n      let filterList = localdata.filter(article => {\n        return article.id != action.id;\n      });\n      return filterList;\n  }\n};\n\nconst Favorites = props => {\n  const [favorites, dispatch] = useReducer(favReducer, [], () => {\n    let localdata = localStorage.getItem('favoriteData');\n    console.log(\"Rendering and setting favorites\", localdata, localdata.length);\n    return localdata ? JSON.parse(localdata) : [];\n  });\n  const [finalArticle, status] = useState({\n    stat: false,\n    articleTitle: \"\"\n  });\n  const [isopenModal, changeModalState] = useState(false);\n  const [activeItem, getActiveItem] = useState(\"\");\n  console.log(\"From favorites initial\", favorites); // toast(\"heloo owrl\")\n\n  const handleClose = () => {\n    changeModalState(false);\n  };\n\n  const handleOpen = (title, weburl, news) => {\n    let sharedata = {\n      title: title,\n      webUrl: weburl,\n      news: news\n    };\n    getActiveItem(sharedata);\n    changeModalState(true);\n  };\n\n  useEffect(() => {\n    console.log(\"mouting and getting data\");\n    let data = favorites.length > 0 ? favorites : [];\n    console.log(\"from useEffect\", data);\n\n    if (finalArticle.stat) {\n      let toastData = 'Removing ' + finalArticle.articleTitle;\n      toast(toastData);\n    }\n\n    localStorage.setItem('favoriteData', JSON.stringify(data));\n  }, [favorites]);\n\n  const handleDelete = (id, toastTitle) => {\n    // Test\n    let localdataFetch = localStorage.getItem('favoriteData');\n    let localdata = localdataFetch ? JSON.parse(localdataFetch) : [];\n\n    if (localdata.length == 1) {\n      console.log(\"going to be deleted\");\n      status({\n        stat: true,\n        articleTitle: toastTitle.favoriteTitle\n      });\n    } // Fixed\n\n\n    console.log(\"Removing and running toast\");\n    let toastData = \"Removing\" + toastTitle.favoriteTitle;\n    toast(toastData);\n    dispatch({\n      type: 'REMOVE_ARTICLE',\n      id: id.favoriteId\n    });\n  };\n\n  if (favorites.length != 0) {\n    console.log(\"rendering\");\n    let modalNewsTitle = \"\";\n    let headerTag = \"\";\n    let favoriteList = favorites.map(favorite => {\n      let favoriteTitle = favorite.title;\n      let favoriteImage = favorite.image;\n      let favoriteDate = favorite.date;\n      let favoriteId = favorite.id;\n      let fromNews = favorite.news;\n      console.log(\"FROM NEWS\", fromNews);\n      let favoriteUrl = favorite.shareurl;\n      console.log(\"Share url:\", favoriteUrl);\n      let section = favorite.section.toUpperCase();\n      let color = \"\";\n      let text_color = \"white\";\n\n      if (section == 'SPORTS' || section == 'SPORT') {\n        color = '#f6c244';\n        text_color = 'black';\n      } else if (section == 'WORLD') {\n        color = '#7c4eff';\n      } else if (section == 'TECHNOLOGY') {\n        color = '#cedc39';\n        text_color = 'black';\n      } else if (section == 'POLITICS') {\n        color = '#419488';\n      } else if (section == 'BUSINESS') {\n        color = '#4696ec';\n      } else {\n        color = '#6e757c';\n      }\n\n      let newsColor = \"\";\n      let newsTextColor = \"\";\n      let newsVal = \"\";\n      modalNewsTitle = fromNews;\n      console.log(\"MODAL TITLE\", modalNewsTitle);\n\n      if (fromNews == 'GUARDIAN') {\n        newsColor = \"#14284a\";\n        newsTextColor = \"white\";\n        newsVal = \"gua/\";\n      } else {\n        newsColor = \"#dddddd\";\n        newsTextColor = \"black\";\n        newsVal = \"nyt/\";\n      }\n\n      return React.createElement(Col, {\n        lg: 3,\n        sm: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: '/detailedarticle/' + newsVal + favoriteId,\n          state: {\n            ArticleId: favoriteId,\n            news: fromNews\n          }\n        },\n        style: {\n          width: '100%',\n          display: 'block',\n          textDecoration: 'none',\n          color: 'inherit'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"SearchCard\",\n        style: {\n          boxShadow: '0 3px 6px 0 rgba(0, 0, 0, 0.55)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        style: {\n          fontSize: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Truncate, {\n        lines: 2,\n        ellipsis: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, \"...\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, favoriteTitle), React.createElement(Link, {\n        style: {\n          position: 'relative',\n          textDecoration: 'none',\n          color: 'inherit',\n          height: '15px',\n          paddingLeft: '5px'\n        },\n        onClick: () => handleOpen(favoriteTitle, favoriteUrl, fromNews),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(IoMdShare, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), React.createElement(Link, {\n        onClick: () => {\n          handleDelete({\n            favoriteId\n          }, {\n            favoriteTitle\n          });\n        },\n        style: {\n          backgroundColor: 'white',\n          border: 'none',\n          padding: '1px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(FaTrash, {\n        style: {\n          color: 'black',\n          height: '12px',\n          width: '12px',\n          height: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), React.createElement(ToastContainer, {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 1500,\n        transition: Zoom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), React.createElement(Card.Img, {\n        variant: \"top\",\n        src: favoriteImage,\n        className: \"SearchCardImg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(Card.Text, {\n        className: \"mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontSize: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \" \", favoriteDate, \" \"), React.createElement(Badge, {\n        style: {\n          margin: '2px',\n          color: text_color,\n          backgroundColor: color\n        },\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, section), React.createElement(Badge, {\n        style: {\n          margin: '2px',\n          color: newsTextColor,\n          backgroundColor: newsColor\n        },\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, fromNews))))));\n    });\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      style: {\n        marginLeft: '20px',\n        marginRight: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        marginTop: '3px',\n        marginBottom: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Favorites\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, favoriteList)), React.createElement(Modal, {\n      show: isopenModal,\n      onHide: () => handleClose(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, activeItem.news), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), activeItem.title)), React.createElement(Modal.Body, {\n      style: {\n        marginTop: '1px',\n        marginBottom: '1px',\n        paddingBottom: '0px',\n        fontSize: '20px'\n      },\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Share via\")), React.createElement(Modal.Body, {\n      className: \"d-flex justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(FacebookShareButton, {\n      url: activeItem.webUrl,\n      hashtag: \"CSCI_571_NewsApp\",\n      className: \"share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(FacebookIcon, {\n      size: 70,\n      className: \"float-left\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })), React.createElement(TwitterShareButton, {\n      url: activeItem.webUrl,\n      hashtags: ['CSCI_571_NewsApp'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(TwitterIcon, {\n      size: 70,\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    })), React.createElement(EmailShareButton, {\n      url: activeItem.webUrl,\n      subject: \"#CSCI_571_NewsApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(EmailIcon, {\n      size: 70,\n      className: \"float-right\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })))));\n  } else {\n    console.log(\"Toasting finished\");\n    return React.createElement(React.Fragment, null, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      position: toast.POSITION.TOP_CENTER,\n      autoClose: 1500,\n      transition: Zoom,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      style: {\n        fontSize: '25px',\n        height: '400px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"You have no saved Articles\")));\n  }\n};\n\nexport default memo(Favorites);","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/src/components/favorites.js"],"names":["React","useState","useEffect","Component","memo","useReducer","Card","Col","Row","Badge","Button","Modal","Container","Link","FaTrash","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","ToastContainer","toast","IoMdShare","Zoom","Truncate","favReducer","state","action","type","localdataFetch","localStorage","getItem","localdata","JSON","parse","filterList","filter","article","id","Favorites","props","favorites","dispatch","console","log","length","finalArticle","status","stat","articleTitle","isopenModal","changeModalState","activeItem","getActiveItem","handleClose","handleOpen","title","weburl","news","sharedata","webUrl","data","toastData","setItem","stringify","handleDelete","toastTitle","favoriteTitle","favoriteId","modalNewsTitle","headerTag","favoriteList","map","favorite","favoriteImage","image","favoriteDate","date","fromNews","favoriteUrl","shareurl","section","toUpperCase","color","text_color","newsColor","newsTextColor","newsVal","pathname","ArticleId","width","display","textDecoration","boxShadow","fontSize","position","height","paddingLeft","backgroundColor","border","padding","POSITION","TOP_CENTER","margin","marginLeft","marginRight","marginTop","marginBottom","fontWeight","paddingBottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component, memo, useReducer } from 'react'\nimport {Card, Col, Row, Badge, Button,Modal, Container} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './detailed_page.css';\nimport {FaTrash} from 'react-icons/fa';\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\nimport { ToastContainer,toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css'\nimport {IoMdShare} from 'react-icons/io'\nimport { Zoom } from 'react-toastify';\nimport Truncate from 'react-truncate';\nimport './search.css'\n\n\n\nconst favReducer = (state, action) =>{\n    switch(action.type){\n        case 'REMOVE_ARTICLE':\n            let localdataFetch = localStorage.getItem('favoriteData')\n            let localdata = localdataFetch?JSON.parse(localdataFetch):[]\n            let filterList = localdata.filter(article=>{\n                return article.id!=action.id})\n            return filterList\n    }\n}\n\nconst Favorites = props =>{\nconst [favorites, dispatch] = useReducer(favReducer,[],()=>{\n    let localdata = localStorage.getItem('favoriteData')\n    console.log(\"Rendering and setting favorites\", localdata, localdata.length)\n    return localdata?JSON.parse(localdata):[]\n})\nconst [finalArticle, status] = useState({stat:false,articleTitle:\"\"})\nconst [isopenModal, changeModalState] = useState(false)\nconst [activeItem, getActiveItem] = useState(\"\")\n\nconsole.log(\"From favorites initial\",favorites)\n// toast(\"heloo owrl\")\n\nconst handleClose = () =>{\n    changeModalState(false)\n}\n\nconst handleOpen = (title, weburl, news) =>{\n    let sharedata = {title:title,webUrl:weburl, news:news}\n    getActiveItem(sharedata)\n    changeModalState(true)\n}\n\nuseEffect(()=>{\n    console.log(\"mouting and getting data\")\n    let data = favorites.length>0?favorites:[]\n    console.log(\"from useEffect\",data)\n    if(finalArticle.stat){\n        let toastData = 'Removing ' + finalArticle.articleTitle\n        toast(toastData)}\n    localStorage.setItem('favoriteData', JSON.stringify(data))\n}, [favorites])\n\nconst handleDelete = (id, toastTitle) =>{\n    // Test\n    let localdataFetch = localStorage.getItem('favoriteData')\n    let localdata = localdataFetch?JSON.parse(localdataFetch):[]\n    if(localdata.length == 1){\n        console.log(\"going to be deleted\")\n        status({stat:true, articleTitle:toastTitle.favoriteTitle})\n    }\n    // Fixed\n    console.log(\"Removing and running toast\")\n    let toastData = \"Removing\" + toastTitle.favoriteTitle\n    toast(toastData)\n    dispatch({type:'REMOVE_ARTICLE',id:id.favoriteId})\n}\n\n\nif(favorites.length!=0){\nconsole.log(\"rendering\")\nlet modalNewsTitle = \"\"\nlet headerTag = \"\"\nlet favoriteList = favorites.map(favorite =>{\n            let favoriteTitle = favorite.title\n            let favoriteImage = favorite.image\n            let favoriteDate =  favorite.date\n            let favoriteId = favorite.id\n            let fromNews = favorite.news\n            console.log(\"FROM NEWS\", fromNews)\n            let favoriteUrl = favorite.shareurl\n            console.log(\"Share url:\", favoriteUrl)\n            let section = favorite.section.toUpperCase()\n            let color = \"\"\n            let text_color = \"white\"\n            if(section == 'SPORTS' || section == 'SPORT'){\n                color = '#f6c244';\n                text_color = 'black';\n            }\n            else if(section == 'WORLD'){\n                color = '#7c4eff';\n            }\n            else if(section == 'TECHNOLOGY'){\n                color = '#cedc39';\n                text_color = 'black';\n            }\n            else if(section == 'POLITICS'){\n                color = '#419488';\n            }\n            else if(section == 'BUSINESS'){\n                color = '#4696ec';\n            }\n            else {\n                color = '#6e757c';\n            }\n            let newsColor = \"\"\n            let newsTextColor = \"\"\n            let newsVal = \"\"\n            modalNewsTitle = fromNews\n            console.log(\"MODAL TITLE\", modalNewsTitle)\n            if (fromNews=='GUARDIAN'){\n                newsColor = \"#14284a\"\n                newsTextColor = \"white\"\n                newsVal = \"gua/\"\n            }\n            else{\n                newsColor = \"#dddddd\"\n                newsTextColor = \"black\"\n                newsVal = \"nyt/\"\n            }\n            return (\n                <Col lg={3} sm={12}>\n                    <Link to={{ pathname: '/detailedarticle/'+ newsVal + favoriteId ,state: {ArticleId: favoriteId, news:fromNews}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }}>\n                    <Card className=\"SearchCard\" style={{boxShadow:'0 3px 6px 0 rgba(0, 0, 0, 0.55)'}}>\n                    <Card.Body>\n                        <Card.Title style={{fontSize:'15px'}}><Truncate lines={2} ellipsis={<span>...</span>}>{favoriteTitle}</Truncate><Link style={{position:'relative', textDecoration: 'none', color:'inherit',height:'15px', paddingLeft:'5px'}} onClick={()=>handleOpen(favoriteTitle, favoriteUrl , fromNews)}><IoMdShare/></Link><Link onClick={()=>{handleDelete({favoriteId},{favoriteTitle})}} style={{backgroundColor:'white', border:'none', padding:'1px'}}><FaTrash style={{color:'black',height:'12px', width:'12px', height:'15px' }}/></Link>\n                            <ToastContainer position={toast.POSITION.TOP_CENTER} autoClose={1500} transition={Zoom}/>\n                        </Card.Title>\n                        <Card.Img variant=\"top\" src={favoriteImage} className=\"SearchCardImg\"/>\n                        <Card.Text className=\"mt-2\">\n                            <span style={{fontSize:'15px'}}> {favoriteDate} </span>\n                            <Badge style={{margin:'2px',color:text_color, backgroundColor:color}} className=\"float-right\">\n                                {section}\n                            </Badge>\n                            <Badge style={{margin:'2px',color:newsTextColor, backgroundColor:newsColor}} className=\"float-right\">\n                                {fromNews}\n                            </Badge>\n                        </Card.Text>\n                    </Card.Body>\n                    </Card >\n                    </Link>\n                </Col>\n                \n            )\n        }\n    )\n    return (\n        <>\n        <div style={{marginLeft:'20px', marginRight:'20px'}}>\n                <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Favorites</h2>\n                <Row>\n                    {favoriteList}\n                </Row>\n        </div>\n        <Modal show={isopenModal} onHide={()=>handleClose()}>\n                <Modal.Header closeButton>\n                    <Modal.Title><span style={{fontWeight:'bold'}}>{activeItem.news}</span><br/>{activeItem.title}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                <Modal.Body className=\"d-flex justify-content-between\">\n                <FacebookShareButton url={activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                    <FacebookIcon size={70} className='float-left' round={true}/>\n                </FacebookShareButton>\n                <TwitterShareButton url={activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                    <TwitterIcon size={70} round={true}/>\n                </TwitterShareButton>\n                <EmailShareButton url={activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                    <EmailIcon size={70} className='float-right' round={true}/>\n                </EmailShareButton>\n                </Modal.Body>\n        </Modal>\n        </>\n    )\n    \n}\nelse{\n    console.log(\"Toasting finished\")\n    return (\n        <>  \n            <Container>\n            <div><ToastContainer position={toast.POSITION.TOP_CENTER} autoClose={1500} transition={Zoom}></ToastContainer></div>\n            <div className=\"d-flex justify-content-center\" style={{fontSize:'25px', height:'400px'}}>\n              You have no saved Articles\n            </div>\n            </Container>\n        </>\n    )\n    \n\n}\n}\n\nexport default memo(Favorites);\n\n"]},"metadata":{},"sourceType":"module"}