{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/favorites.js\";\nimport React, { useState, useEffect, Component, memo, useReducer } from 'react';\nimport { Card, Col, Row, Badge, Button, Modal } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './detailed_page.css';\nimport { FaBookmark } from 'react-icons/fa';\nimport { FaTrash } from 'react-icons/fa';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst favReducer = (state, action) => {\n  switch (action.type) {\n    case 'REMOVE_ARTICLE':\n      console.log(\"deleting from reducer\");\n      let localdataFetch = localStorage.getItem('favoriteData');\n      let localdata = localdataFetch ? JSON.parse(localdataFetch) : [];\n      let filterList = localdata.filter(article => {\n        return article.id != action.id;\n      });\n      console.log(\"dispatcher\", filterList);\n      return filterList;\n  }\n};\n\nconst Favorites = props => {\n  const [favorites, dispatch] = useReducer(favReducer, [], () => {\n    let localdata = localStorage.getItem('favoriteData');\n    console.log(\"Rendering and setting favorites\", localdata, localdata.length);\n    return localdata ? JSON.parse(localdata) : [];\n  });\n  const [isopenModal, changeModalState] = useState(false);\n  const [activeItem, getActiveItem] = useState(\"\");\n  console.log(\"From favorites initial\", favorites); // toast(\"heloo owrl\")\n\n  const handleClose = () => {\n    changeModalState(false);\n  };\n\n  const handleOpen = (title, weburl) => {\n    let sharedata = {\n      title: title,\n      webUrl: weburl\n    };\n    getActiveItem(sharedata);\n    changeModalState(true);\n  };\n\n  useEffect(() => {\n    console.log(\"mouting and getting data\");\n    let data = favorites.length > 0 ? favorites : [];\n    console.log(\"from useEffect\", data);\n    localStorage.setItem('favoriteData', JSON.stringify(data));\n  }, [favorites]);\n\n  const handleDelete = (id, toastTitle) => {\n    let toastData = \"Removing\" + toastTitle.favoriteTitle;\n    toast(toastData);\n    dispatch({\n      type: 'REMOVE_ARTICLE',\n      id: id.favoriteId\n    });\n  };\n\n  if (favorites.length != 0) {\n    console.log(\"rendering\");\n    let favoriteList = favorites.map(favorite => {\n      let favoriteTitle = favorite.title;\n      let favoriteImage = favorite.image;\n      let favoriteDate = favorite.date;\n      let favoriteId = favorite.id;\n      let fromNews = favorite.news;\n      let favoriteUrl = \"\";\n      let section = favorite.section;\n      let color = \"\";\n      let text_color = \"white\";\n\n      if (section == 'sport') {\n        color = '#f6c244';\n        text_color = 'black';\n      } else if (section == 'world') {\n        color = '#7c4eff';\n      } else if (section == 'technology') {\n        color = '#cedc39';\n        text_color = 'black';\n      } else if (section == 'politics') {\n        color = '#419488';\n      } else if (section == 'business') {\n        color = '#4696ec';\n      } else {\n        color = '#6e757c';\n      }\n\n      let newsColor = \"\";\n      let newsTextColor = \"\";\n\n      if (fromNews == 'GUARDIAN') {\n        newsColor = \"#14284a\";\n        newsTextColor = \"white\";\n      } else {\n        newsColor = \"#dddddd\";\n        newsTextColor = \"black\";\n      }\n\n      return React.createElement(Col, {\n        lg: 3,\n        sm: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"SearchCard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        style: {\n          fontSize: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, favoriteTitle, React.createElement(Link, {\n        style: {\n          zIndex: '1',\n          position: 'relative',\n          textDecoration: 'none',\n          color: 'inherit',\n          height: '15px',\n          paddingLeft: '5px'\n        },\n        onClick: () => handleOpen(favoriteTitle, \"newsShareUrl\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(FaShareAlt, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(Button, {\n        onClick: () => {\n          handleDelete({\n            favoriteId\n          }, {\n            favoriteTitle\n          });\n        },\n        style: {\n          backgroundColor: 'white',\n          border: 'none',\n          padding: '1px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(FaTrash, {\n        style: {\n          color: 'black',\n          height: '12px',\n          width: '12px',\n          height: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(ToastContainer, {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 3000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), React.createElement(Card.Img, {\n        variant: \"top\",\n        src: favoriteImage,\n        className: \"SearchCardImg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(Card.Text, {\n        className: \"mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontSize: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \" \", favoriteDate, \" \"), React.createElement(Badge, {\n        style: {\n          margin: '2px',\n          color: text_color,\n          backgroundColor: color\n        },\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, section), React.createElement(Badge, {\n        style: {\n          margin: '2px',\n          color: newsTextColor,\n          backgroundColor: newsColor\n        },\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, fromNews)))));\n    });\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      style: {\n        marginLeft: '20px',\n        marginRight: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        marginTop: '3px',\n        marginBottom: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Favorites\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, favoriteList)), React.createElement(Modal, {\n      show: isopenModal,\n      onHide: () => handleClose(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, activeItem.title)), React.createElement(Modal.Body, {\n      style: {\n        marginTop: '1px',\n        marginBottom: '1px',\n        paddingBottom: '0px',\n        fontSize: '20px'\n      },\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Share via\")), React.createElement(Modal.Body, {\n      className: \"d-flex justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(FacebookShareButton, {\n      url: activeItem.webUrl,\n      hashtag: \"CSCI_571_NewsApp\",\n      className: \"share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(FacebookIcon, {\n      size: 70,\n      className: \"float-left\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    })), React.createElement(TwitterShareButton, {\n      url: activeItem.webUrl,\n      hashtags: ['CSCI_571_NewsApp'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(TwitterIcon, {\n      size: 70,\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(EmailShareButton, {\n      url: activeItem.webUrl,\n      subject: \"#CSCI_571_NewsApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(EmailIcon, {\n      size: 70,\n      className: \"float-right\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })))));\n  } else {\n    console.log(\"initial loading\");\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      style: {\n        minHeight: '40px',\n        display: 'flex',\n        position: 'relative',\n        left: '40%',\n        marginTop: '20px',\n        fontSize: '25px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"You have no saved Articles\"), React.createElement(ToastContainer, {\n      position: toast.POSITION.TOP_CENTER,\n      autoClose: 3000,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }));\n  }\n};\n\nexport default memo(Favorites);","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/favorites.js"],"names":["React","useState","useEffect","Component","memo","useReducer","Card","Col","Row","Badge","Button","Modal","Link","FaBookmark","FaTrash","FaShareAlt","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","ToastContainer","toast","favReducer","state","action","type","console","log","localdataFetch","localStorage","getItem","localdata","JSON","parse","filterList","filter","article","id","Favorites","props","favorites","dispatch","length","isopenModal","changeModalState","activeItem","getActiveItem","handleClose","handleOpen","title","weburl","sharedata","webUrl","data","setItem","stringify","handleDelete","toastTitle","toastData","favoriteTitle","favoriteId","favoriteList","map","favorite","favoriteImage","image","favoriteDate","date","fromNews","news","favoriteUrl","section","color","text_color","newsColor","newsTextColor","fontSize","zIndex","position","textDecoration","height","paddingLeft","backgroundColor","border","padding","width","POSITION","TOP_CENTER","margin","marginLeft","marginRight","marginTop","marginBottom","paddingBottom","minHeight","display","left"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component, memo, useReducer } from 'react'\nimport {Card, Col, Row, Badge, Button,Modal} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './detailed_page.css';\nimport {FaBookmark} from 'react-icons/fa';\nimport {FaTrash} from 'react-icons/fa';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\nimport { ToastContainer,toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css'\n\n\n\nconst favReducer = (state, action) =>{\n    switch(action.type){\n        case 'REMOVE_ARTICLE':\n            console.log(\"deleting from reducer\")\n            let localdataFetch = localStorage.getItem('favoriteData')\n            let localdata = localdataFetch?JSON.parse(localdataFetch):[]\n            let filterList = localdata.filter(article=>{\n                return article.id!=action.id})\n            console.log(\"dispatcher\",filterList)\n            return filterList\n    }\n}\n\nconst Favorites = props =>{\nconst [favorites, dispatch] = useReducer(favReducer,[],()=>{\n    let localdata = localStorage.getItem('favoriteData')\n    console.log(\"Rendering and setting favorites\", localdata, localdata.length)\n    return localdata?JSON.parse(localdata):[]\n})\nconst [isopenModal, changeModalState] = useState(false)\nconst [activeItem, getActiveItem] = useState(\"\")\n\nconsole.log(\"From favorites initial\",favorites)\n// toast(\"heloo owrl\")\n\nconst handleClose = () =>{\n    changeModalState(false)\n}\n\nconst handleOpen = (title, weburl) =>{\n    let sharedata = {title:title,webUrl:weburl}\n    getActiveItem(sharedata)\n    changeModalState(true)\n}\n\nuseEffect(()=>{\n    console.log(\"mouting and getting data\")\n    let data = favorites.length>0?favorites:[]\n    console.log(\"from useEffect\",data)\n    localStorage.setItem('favoriteData', JSON.stringify(data))\n}, [favorites])\n\nconst handleDelete = (id, toastTitle) =>{\n    let toastData = \"Removing\" + toastTitle.favoriteTitle\n    toast(toastData)\n    dispatch({type:'REMOVE_ARTICLE',id:id.favoriteId})\n}\n\nif(favorites.length!=0){\nconsole.log(\"rendering\")\nlet favoriteList = favorites.map(favorite =>{\n            let favoriteTitle = favorite.title\n            let favoriteImage = favorite.image\n            let favoriteDate =  favorite.date\n            let favoriteId = favorite.id\n            let fromNews = favorite.news\n            let favoriteUrl = \"\"\n            let section = favorite.section\n            let color = \"\"\n            let text_color = \"white\"\n            if(section == 'sport'){\n                color = '#f6c244';\n                text_color = 'black';\n            }\n            else if(section == 'world'){\n                color = '#7c4eff';\n            }\n            else if(section == 'technology'){\n                color = '#cedc39';\n                text_color = 'black';\n            }\n            else if(section == 'politics'){\n                color = '#419488';\n            }\n            else if(section == 'business'){\n                color = '#4696ec';\n            }\n            else {\n                color = '#6e757c';\n            }\n            let newsColor = \"\"\n            let newsTextColor = \"\"\n            if (fromNews=='GUARDIAN'){\n                newsColor = \"#14284a\"\n                newsTextColor = \"white\"\n            }\n            else{\n                newsColor = \"#dddddd\"\n                newsTextColor = \"black\"\n            }\n            return (\n                <Col lg={3} sm={12}>\n                    <Card className=\"SearchCard\">\n                    <Card.Body>\n                        <Card.Title style={{fontSize:'15px'}}>{favoriteTitle}<Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit',height:'15px', paddingLeft:'5px'}} onClick={()=>handleOpen(favoriteTitle, \"newsShareUrl\")}><FaShareAlt/></Link><Button onClick={()=>{handleDelete({favoriteId},{favoriteTitle})}} style={{backgroundColor:'white', border:'none', padding:'1px'}}><FaTrash style={{color:'black',height:'12px', width:'12px', height:'15px' }}/></Button>\n                            <ToastContainer position={toast.POSITION.TOP_CENTER} autoClose={3000}/>\n                        </Card.Title>\n                        <Card.Img variant=\"top\" src={favoriteImage} className=\"SearchCardImg\"/>\n                        <Card.Text className=\"mt-2\">\n                            <span style={{fontSize:'15px'}}> {favoriteDate} </span>\n                            <Badge style={{margin:'2px',color:text_color, backgroundColor:color}} className=\"float-right\">\n                                {section}\n                            </Badge>\n                            <Badge style={{margin:'2px',color:newsTextColor, backgroundColor:newsColor}} className=\"float-right\">\n                                {fromNews}\n                            </Badge>\n                        </Card.Text>\n                    </Card.Body>\n                    </Card >\n                </Col>\n            )\n        }\n    )\n    return (\n        <>\n        <div style={{marginLeft:'20px', marginRight:'20px'}}>\n                <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Favorites</h2>\n                <Row>\n                    {favoriteList}\n                </Row>\n        </div>\n        <Modal show={isopenModal} onHide={()=>handleClose()}>\n                <Modal.Header closeButton>\n                    <Modal.Title>{activeItem.title}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                <Modal.Body className=\"d-flex justify-content-between\">\n                <FacebookShareButton url={activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                    <FacebookIcon size={70} className='float-left' round={true}/>\n                </FacebookShareButton>\n                <TwitterShareButton url={activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                    <TwitterIcon size={70} round={true}/>\n                </TwitterShareButton>\n                <EmailShareButton url={activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                    <EmailIcon size={70} className='float-right' round={true}/>\n                </EmailShareButton>\n                </Modal.Body>\n        </Modal>\n        </>\n    )\n    \n}\nelse{\n    console.log(\"initial loading\")\n    return (\n        <>\n            <div style={{minHeight:'40px',display:'flex',position:'relative',left:'40%', marginTop:'20px', fontSize:'25px'}}>You have no saved Articles</div>\n            <ToastContainer position={toast.POSITION.TOP_CENTER} autoClose={3000}/>\n        </>\n    )\n    \n\n}\n}\n\nexport default memo(Favorites);\n\n"]},"metadata":{},"sourceType":"module"}