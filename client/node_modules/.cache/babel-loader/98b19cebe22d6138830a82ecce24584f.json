{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/world.js\";\nimport React, { Component, useState, useEffect } from 'react';\nimport { Card, Col, Row, Badge, ModalBody, ModalTitle, Button, Modal, ModalDialog } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share';\nimport { connect } from 'react-redux';\n\nconst World = props => {\n  const [newsAvailable, changeNewsState] = useState(false);\n  const [worldNews, getWorldNews] = useState([]);\n  const [isopenModal, changeModalState] = useState(false);\n  const [activeItem, getActiveItem] = useState(\"\"); // componentWillMount(){\n  //     axios.get('http://localhost:5000/guardian/world')\n  //         .then(responseData => {\n  //             console.log(responseData.data);\n  //             getWorldNews(responseData.data)\n  //             changeNewsState(true)\n  //         })\n  //         .catch(responseData=>{\n  //             console.log(\"error\");\n  //         })\n  // }\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/guardian/world').then(responseData => {\n      console.log(responseData.data);\n      getWorldNews(responseData.data);\n      changeNewsState(true);\n    }).catch(responseData => {\n      console.log(\"error\");\n    });\n  }, []);\n\n  const handleClose = () => {\n    changeModalState(false);\n  };\n\n  const handleOpen = (title, weburl) => {\n    let sharedata = {\n      title: title,\n      webUrl: weburl\n    };\n    console.log(title);\n    getActiveItem(sharedata);\n    changeModalState(true);\n  };\n\n  console.log(\"World\", props.whichNews);\n\n  if (!newsAvailable) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Loading...\");\n  } else {\n    const newsCards = worldNews.map(news => {\n      let color = '#7c4eff';\n\n      if (news.blocks.hasOwnProperty('main') && !news.blocks.main.elements[0].assets.length == 0) {\n        console.log(\"Not present\", news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length - 1].file);\n        console.log(\"Data\");\n        const newsTitle = news.webTitle;\n        const newsDescription = news.blocks.body[0].bodyTextSummary;\n        const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length - 1].file;\n        console.log(newsImage);\n        const newsDate = news.webPublicationDate;\n        const newsBadge = news.sectionId;\n        const newsId = news.id;\n        const newsShareUrl = news.webUrl;\n        return React.createElement(Link, {\n          to: {\n            pathname: '/DetailedArticle/' + newsId,\n            state: {\n              ArticleId: newsId\n            }\n          },\n          style: {\n            width: '100%',\n            display: 'block',\n            textDecoration: 'none',\n            color: 'inherit'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"HomepageCard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(Card, {\n          style: {\n            width: '100%',\n            marginTop: '30px',\n            marginBottom: '30px',\n            boxShadow: '0 6px 20px 0 rgba(0, 0, 0, 0.55)'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(Col, {\n          lg: 3,\n          xs: 12,\n          className: \"mr-0 ml-0\",\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(Card.Img, {\n          className: \"img-responsive\",\n          variant: \"top\",\n          src: newsImage,\n          style: {\n            padding: '6px',\n            border: '1px solid lightgray',\n            margin: '10px',\n            height: '200px',\n            width: '90%',\n            borderBottomLeftRadius: 'calc(.25rem - 1px)',\n            borderBottomRightRadius: 'calc(.25rem - 1px)'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        })), React.createElement(Col, {\n          lg: 9,\n          xs: 12,\n          className: \"mr-0 ml-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"em\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, newsTitle, React.createElement(Link, {\n          style: {\n            zIndex: '1',\n            position: 'relative',\n            textDecoration: 'none',\n            color: 'inherit'\n          },\n          onClick: handleOpen(newsTitle, newsShareUrl),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(FaShareAlt, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        })))), React.createElement(Card.Text, {\n          className: \"news-description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, newsDescription), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \" \", newsDate, \" \"), React.createElement(Badge, {\n          style: {\n            backgroundColor: color,\n            color: 'white'\n          },\n          className: \"float-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, newsBadge))))))));\n      }\n    });\n    console.log(newsCards);\n    return React.createElement(React.Fragment, null, newsCards, React.createElement(Modal, {\n      show: isopenModal,\n      onHide: handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, activeItem.title)), React.createElement(Modal.Body, {\n      style: {\n        marginTop: '1px',\n        marginBottom: '1px',\n        paddingBottom: '0px',\n        fontSize: '20px'\n      },\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Share via\")), React.createElement(Modal.Body, {\n      className: \"d-flex justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(FacebookShareButton, {\n      url: activeItem.webUrl,\n      hashtag: \"CSCI_571_NewsApp\",\n      className: \"share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(FacebookIcon, {\n      size: 70,\n      className: \"float-left\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(TwitterShareButton, {\n      url: activeItem.webUrl,\n      hashtags: ['CSCI_571_NewsApp'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(TwitterIcon, {\n      size: 70,\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(EmailShareButton, {\n      url: activeItem.webUrl,\n      subject: \"#CSCI_571_NewsApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(EmailIcon, {\n      size: 70,\n      className: \"float-right\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })))));\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    whichNews: state.newsState\n  };\n};\n\nexport default connect(mapStateToProps)(World);","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/world.js"],"names":["React","Component","useState","useEffect","Card","Col","Row","Badge","ModalBody","ModalTitle","Button","Modal","ModalDialog","Link","axios","FaShareAlt","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","connect","World","props","newsAvailable","changeNewsState","worldNews","getWorldNews","isopenModal","changeModalState","activeItem","getActiveItem","get","then","responseData","console","log","data","catch","handleClose","handleOpen","title","weburl","sharedata","webUrl","whichNews","newsCards","map","news","color","blocks","hasOwnProperty","main","elements","assets","length","file","newsTitle","webTitle","newsDescription","body","bodyTextSummary","newsImage","newsDate","webPublicationDate","newsBadge","sectionId","newsId","id","newsShareUrl","pathname","state","ArticleId","width","display","textDecoration","marginTop","marginBottom","boxShadow","padding","border","margin","height","borderBottomLeftRadius","borderBottomRightRadius","zIndex","position","backgroundColor","paddingBottom","fontSize","mapStateToProps","newsState"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react'\nimport {Card, Col, Row, Badge, ModalBody, ModalTitle, Button, Modal, ModalDialog} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\nimport { connect } from 'react-redux';\n\nconst World = props =>{\n\n    const [newsAvailable, changeNewsState] = useState(false)\n    const [worldNews, getWorldNews] = useState([])\n    const [isopenModal, changeModalState] = useState(false)\n    const [activeItem, getActiveItem] = useState(\"\")\n\n\n    // componentWillMount(){\n    //     axios.get('http://localhost:5000/guardian/world')\n    //         .then(responseData => {\n    //             console.log(responseData.data);\n    //             getWorldNews(responseData.data)\n    //             changeNewsState(true)\n    //         })\n    //         .catch(responseData=>{\n    //             console.log(\"error\");\n    //         })\n    // }\n    useEffect(()=>{\n        axios.get('http://localhost:5000/guardian/world')\n            .then(responseData => {\n                console.log(responseData.data);\n                getWorldNews(responseData.data)\n                changeNewsState(true)\n            })\n            .catch(responseData=>{\n                console.log(\"error\");\n            })\n\n    }, [])\n\n    const handleClose = () =>{\n        changeModalState(false)\n    }\n\n    const handleOpen = (title, weburl) =>{\n        let sharedata = {title:title,webUrl:weburl}\n        console.log(title)\n        getActiveItem(sharedata)\n        changeModalState(true)\n    }\n\n            console.log(\"World\", props.whichNews)\n            if (!newsAvailable){\n                return <div>Loading...</div>\n            }\n            else{\n            const newsCards = worldNews.map(news => {\n                        let color = '#7c4eff'  \n                        if(news.blocks.hasOwnProperty('main') && !news.blocks.main.elements[0].assets.length == 0){\n                            console.log(\"Not present\", news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length-1].file)\n                        console.log(\"Data\")\n                        const newsTitle = news.webTitle;\n                        const newsDescription = news.blocks.body[0].bodyTextSummary;\n                        const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length-1].file;\n                        console.log(newsImage)\n                        const newsDate = news.webPublicationDate;\n                        const newsBadge = news.sectionId;\n                        const newsId = news.id;\n                        const newsShareUrl = news.webUrl;\n                        return (\n                            <Link to={{ pathname: '/DetailedArticle/' + newsId ,state: {ArticleId: newsId}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }}>\n                            <div className=\"HomepageCard\">\n                            <Card style={{ width: '100%', marginTop:'30px', marginBottom:'30px', boxShadow:'0 6px 20px 0 rgba(0, 0, 0, 0.55)' }} >\n                                    <Row>\n                                        <Col lg={3} xs={12} className=\"mr-0 ml-0\" align=\"center\">\n                                            <Card.Img className=\"img-responsive\" variant=\"top\" src={newsImage} style={{ padding: '6px', border:'1px solid lightgray', margin:'10px', height:'200px', width:'90%', borderBottomLeftRadius: 'calc(.25rem - 1px)', borderBottomRightRadius: 'calc(.25rem - 1px)' }} />\n                                        </Col>\n                                        <Col lg={9} xs={12} className=\"mr-0 ml-0\">\n                                            <Card.Body>\n                                                <Card.Title><em>{newsTitle}<Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit'}} onClick={handleOpen(newsTitle, newsShareUrl)}><FaShareAlt/></Link></em></Card.Title>\n                                                <Card.Text className=\"news-description\">\n                                                    {newsDescription}\n                                                </Card.Text>\n                                                <Card.Text>\n                                                <span> {newsDate} </span>\n                                                <Badge style={{backgroundColor: color, color:'white'}} className=\"float-right\">\n                                                    {newsBadge}\n                                                </Badge>\n                                                </Card.Text>\n                                            </Card.Body>\n                                        </Col>\n                                    </Row>\n                                </Card>\n                            </div>\n                            </Link>\n                            )\n                        }\n                    })\n            console.log(newsCards)\n            return (\n            <>\n                {newsCards}\n                <Modal show={isopenModal} onHide={handleClose}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>{activeItem.title}</Modal.Title>\n                        </Modal.Header>\n                        \n                        <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                        <Modal.Body className=\"d-flex justify-content-between\">\n                        <FacebookShareButton url={activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                            <FacebookIcon size={70} className='float-left' round={true}/>\n                        </FacebookShareButton>\n                        <TwitterShareButton url={activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                            <TwitterIcon size={70} round={true}/>\n                        </TwitterShareButton>\n                        <EmailShareButton url={activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                            <EmailIcon size={70} className='float-right' round={true}/>\n                        </EmailShareButton>\n                        </Modal.Body>\n                </Modal>\n            </>\n            );\n        }\n}\n\n\nconst mapStateToProps = (state) =>{\n    return{\n        whichNews : state.newsState\n    }\n}\n\n\n\nexport default connect(mapStateToProps)(World);\n\n"]},"metadata":{},"sourceType":"module"}