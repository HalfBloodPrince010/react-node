{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/home.js\";\nimport React, { Component } from 'react';\nimport { Card, Col, Row, Badge, ModalBody, ModalTitle, Button, Modal, ModalDialog } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share';\nimport { connect } from 'react-redux';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newsHeadlines: [],\n      newsAvailable: false,\n      isopenModal: false,\n      activeItem: \"\",\n      news: \"\"\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        isopenModal: false\n      });\n    };\n\n    this.handleOpen = (title, weburl) => {\n      let sharedata = {\n        title: title,\n        webUrl: weburl\n      };\n      console.log(title);\n      this.setState({\n        activeItem: sharedata\n      });\n      this.setState({\n        isopenModal: true\n      });\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    console.log('will log on props change');\n    console.log(\"next\", nextProps.whichNews);\n    console.log(\"prevstate\", prevState.news);\n\n    if (nextProps.whichNews != prevState.news) {\n      console.log(\"Inside\", nextProps.whichNews);\n\n      if (nextProps.whichNews === 'Guardian') {\n        console.log(\"Calling axios\");\n        axios.get('http://localhost:5000/').then(responseData => {\n          console.log(responseData.data);\n\n          () => this.setState({\n            newsHeadlines: responseData.data,\n            newsAvailable: true\n          });\n        }).catch(responseData => {\n          console.log(\"error from here\", responseData);\n        });\n      } // Notice we return plain object here to update state\n\n    } else {\n      return null;\n    } // return null when changes are not needed\n\n  } // componentWillMount(){\n  //     console.log(\"From Home\",this.props.whichNews)\n  //     axios.get('http://localhost:5000/')\n  //         .then(responseData => {\n  //             console.log(responseData.data);\n  //             this.setState({\n  //                 newsHeadlines : responseData.data,\n  //                 newsAvailable : true\n  //             })\n  //         })\n  //         .catch(responseData=>{\n  //             console.log(\"error\");\n  //         })\n  // }\n  // componentDidUpdate(prevProps, prevState) {\n  //     console.log(\"Before check\",prevProps.whichNews)\n  //     if (prevProps.whichNews !== this.props.whichNews) {\n  //       console.log(\"From component Did Update\", this.props.whichNews)\n  //       if (this.props.whichNews === 'guardian'){\n  //         axios.get('http://localhost:5000/')\n  //         .then(responseData => {\n  //             console.log(responseData.data);\n  //             this.setState({\n  //                 newsHeadlines : responseData.data,\n  //                 newsAvailable : true\n  //             })\n  //         })\n  //         .catch(responseData=>{\n  //             console.log(\"error\");\n  //         })\n  //       }\n  //     }\n  //   }\n\n\n  render() {\n    if (!this.state.newsAvailable) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Loading...\");\n    } else {\n      const newsObjs = this.state.newsHeadlines;\n      const newsCards = this.state.newsHeadlines.map(news => {\n        let color = \"brown\";\n        let text_color = \"white\";\n\n        if (news.sectionId == 'sport') {\n          color = '#f6c244';\n          text_color = 'black';\n        } else if (news.sectionId == 'world') {\n          color = '#7c4eff';\n        } else if (news.sectionId == 'technology') {\n          color = '#cedc39';\n          text_color = 'black';\n        } else if (news.sectionId == 'politics') {\n          color = '#419488';\n        } else if (news.sectionId == 'business') {\n          color = '#4696ec';\n        } else {\n          color = '#6e757c';\n        }\n\n        if (news.blocks.hasOwnProperty('main') && !news.blocks.main.elements[0].assets.length == 0) {\n          const newsTitle = news.webTitle;\n          const newsDescription = news.blocks.body[0].bodyTextSummary;\n          const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length - 1].file;\n          const newsDate = news.webPublicationDate;\n          const newsBadge = news.sectionId;\n          const newsId = news.id;\n          const newsShareUrl = news.webUrl; // const pathname = '/DetailedArticle/' + newsId\n\n          return React.createElement(Link, {\n            to: {\n              pathname: '/DetailedArticle/' + newsId,\n              state: {\n                ArticleId: newsId\n              }\n            },\n            style: {\n              width: '100%',\n              display: 'block',\n              textDecoration: 'none',\n              color: 'inherit'\n            },\n            key: newsId,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"HomepageCard\",\n            key: newsId,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          }, React.createElement(Card, {\n            style: {\n              width: '100%',\n              marginTop: '30px',\n              marginBottom: '30px',\n              boxShadow: '0 6px 20px 0 rgba(0, 0, 0, 0.55)'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, React.createElement(Row, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          }, React.createElement(Col, {\n            lg: 3,\n            xs: 12,\n            className: \"mr-0 ml-0\",\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }, React.createElement(Card.Img, {\n            className: \"img-responsive\",\n            variant: \"top\",\n            src: newsImage,\n            style: {\n              padding: '6px',\n              border: '1px solid lightgray',\n              margin: '10px',\n              height: '200px',\n              width: '90%',\n              borderBottomLeftRadius: 'calc(.25rem - 1px)',\n              borderBottomRightRadius: 'calc(.25rem - 1px)'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          })), React.createElement(Col, {\n            lg: 9,\n            xs: 12,\n            className: \"mr-0 ml-0\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, React.createElement(Card.Body, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          }, React.createElement(Card.Title, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, React.createElement(\"em\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, newsTitle), React.createElement(Link, {\n            style: {\n              zIndex: '1',\n              position: 'relative',\n              textDecoration: 'none',\n              color: 'inherit'\n            },\n            onClick: () => this.handleOpen(newsTitle, newsShareUrl),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, React.createElement(FaShareAlt, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }))), React.createElement(Card.Text, {\n            className: \"news-description\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147\n            },\n            __self: this\n          }, newsDescription), React.createElement(Card.Text, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 150\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151\n            },\n            __self: this\n          }, \" \", newsDate, \" \"), React.createElement(Badge, {\n            style: {\n              backgroundColor: color,\n              color: text_color\n            },\n            className: \"float-right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152\n            },\n            __self: this\n          }, newsBadge))))))));\n        }\n      });\n      console.log(newsCards);\n      return React.createElement(React.Fragment, null, newsCards, React.createElement(Modal, {\n        show: this.state.isopenModal,\n        onHide: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, this.state.activeItem.title)), React.createElement(Modal.Body, {\n        style: {\n          marginTop: '1px',\n          marginBottom: '1px',\n          paddingBottom: '0px',\n          fontSize: '20px'\n        },\n        className: \"d-flex justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Share via\")), React.createElement(Modal.Body, {\n        className: \"d-flex justify-content-between\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(FacebookShareButton, {\n        url: this.state.activeItem.webUrl,\n        hashtag: \"CSCI_571_NewsApp\",\n        className: \"share\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(FacebookIcon, {\n        size: 70,\n        className: \"float-left\",\n        round: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })), React.createElement(TwitterShareButton, {\n        url: this.state.activeItem.webUrl,\n        hashtags: ['CSCI_571_NewsApp'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(TwitterIcon, {\n        size: 70,\n        round: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      })), React.createElement(EmailShareButton, {\n        url: this.state.activeItem.webUrl,\n        subject: \"#CSCI_571_NewsApp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(EmailIcon, {\n        size: 70,\n        className: \"float-right\",\n        round: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })))));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    whichNews: state.newsState\n  };\n};\n\nexport default connect(mapStateToProps)(Home);","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/home.js"],"names":["React","Component","Card","Col","Row","Badge","ModalBody","ModalTitle","Button","Modal","ModalDialog","Link","axios","FaShareAlt","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","connect","Home","state","newsHeadlines","newsAvailable","isopenModal","activeItem","news","handleClose","setState","handleOpen","title","weburl","sharedata","webUrl","console","log","getDerivedStateFromProps","nextProps","prevState","whichNews","get","then","responseData","data","catch","render","newsObjs","newsCards","map","color","text_color","sectionId","blocks","hasOwnProperty","main","elements","assets","length","newsTitle","webTitle","newsDescription","body","bodyTextSummary","newsImage","file","newsDate","webPublicationDate","newsBadge","newsId","id","newsShareUrl","pathname","ArticleId","width","display","textDecoration","marginTop","marginBottom","boxShadow","padding","border","margin","height","borderBottomLeftRadius","borderBottomRightRadius","zIndex","position","backgroundColor","paddingBottom","fontSize","mapStateToProps","newsState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {Card, Col, Row, Badge, ModalBody, ModalTitle, Button, Modal, ModalDialog} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\nimport { connect } from 'react-redux';\n\nclass Home extends Component{\n    state= {\n        newsHeadlines: [],\n        newsAvailable: false,\n        isopenModal : false,\n        activeItem: \"\",\n        news:\"\"\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        console.log('will log on props change');\n        console.log(\"next\",nextProps.whichNews)\n        console.log(\"prevstate\", prevState.news)\n        if( nextProps.whichNews != prevState.news ) {\n             console.log(\"Inside\", nextProps.whichNews)\n            if (nextProps.whichNews === 'Guardian'){\n                console.log(\"Calling axios\")\n                axios.get('http://localhost:5000/')\n                    .then(responseData => {\n                        console.log(responseData.data);\n                        ()=>this.setState({\n                            newsHeadlines : responseData.data,\n                            newsAvailable : true\n                        })\n                    })\n                    .catch(responseData=>{\n                        console.log(\"error from here\", responseData);\n                    })\n            }\n          // Notice we return plain object here to update state\n        }\n        else{\n        return null;\n        }\n        // return null when changes are not needed\n      }\n\n\n    // componentWillMount(){\n    //     console.log(\"From Home\",this.props.whichNews)\n    //     axios.get('http://localhost:5000/')\n    //         .then(responseData => {\n    //             console.log(responseData.data);\n    //             this.setState({\n    //                 newsHeadlines : responseData.data,\n    //                 newsAvailable : true\n    //             })\n    //         })\n    //         .catch(responseData=>{\n    //             console.log(\"error\");\n    //         })\n    // }\n     \n    // componentDidUpdate(prevProps, prevState) {\n    //     console.log(\"Before check\",prevProps.whichNews)\n    //     if (prevProps.whichNews !== this.props.whichNews) {\n    //       console.log(\"From component Did Update\", this.props.whichNews)\n    //       if (this.props.whichNews === 'guardian'){\n    //         axios.get('http://localhost:5000/')\n    //         .then(responseData => {\n    //             console.log(responseData.data);\n    //             this.setState({\n    //                 newsHeadlines : responseData.data,\n    //                 newsAvailable : true\n    //             })\n    //         })\n    //         .catch(responseData=>{\n    //             console.log(\"error\");\n    //         })\n    //       }\n    //     }\n    //   }\n      \n\n    handleClose = () =>{\n        this.setState({\n            isopenModal : false\n        })\n    }\n\n    handleOpen = (title, weburl) =>{\n        let sharedata = {title:title,webUrl:weburl}\n        console.log(title)\n        this.setState({activeItem:sharedata})\n        this.setState({ isopenModal: true });\n    }\n        render(){\n            if (!this.state.newsAvailable){\n                return <div>Loading...</div>\n            }\n            else{\n            const newsObjs = this.state.newsHeadlines\n            const newsCards = this.state.newsHeadlines.map(news => {\n                        let color = \"brown\"\n                        let text_color = \"white\"\n                        if(news.sectionId == 'sport'){\n                            color = '#f6c244';\n                            text_color = 'black';\n                        }\n                        else if(news.sectionId == 'world'){\n                            color = '#7c4eff';\n                        }\n                        else if(news.sectionId == 'technology'){\n                            color = '#cedc39';\n                            text_color = 'black';\n                        }\n                        else if(news.sectionId == 'politics'){\n                            color = '#419488';\n                        }\n                        else if(news.sectionId == 'business'){\n                            color = '#4696ec';\n                        }\n                        else {\n                            color = '#6e757c';\n                        }\n\n                        if(news.blocks.hasOwnProperty('main') && !news.blocks.main.elements[0].assets.length == 0){\n                        const newsTitle = news.webTitle;\n                        const newsDescription = news.blocks.body[0].bodyTextSummary;\n                        const newsImage = news.blocks.main.elements[0].assets[news.blocks.main.elements[0].assets.length-1].file;\n                        const newsDate = news.webPublicationDate;\n                        const newsBadge = news.sectionId;\n                        const newsId = news.id;\n                        const newsShareUrl = news.webUrl;\n                        // const pathname = '/DetailedArticle/' + newsId\n                        return (\n                            <Link to={{ pathname: '/DetailedArticle/' + newsId ,state: {ArticleId: newsId}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }} key={newsId}>\n                            <div className=\"HomepageCard\" key={newsId}>\n                            <Card style={{ width: '100%', marginTop:'30px', marginBottom:'30px', boxShadow:'0 6px 20px 0 rgba(0, 0, 0, 0.55)' }} >\n                                    <Row>\n                                        <Col lg={3} xs={12} className=\"mr-0 ml-0\" align=\"center\">\n                                            <Card.Img className=\"img-responsive\" variant=\"top\" src={newsImage} style={{ padding: '6px', border:'1px solid lightgray', margin:'10px', height:'200px', width:'90%', borderBottomLeftRadius: 'calc(.25rem - 1px)', borderBottomRightRadius: 'calc(.25rem - 1px)' }} />\n                                        </Col>\n                                        <Col lg={9} xs={12} className=\"mr-0 ml-0\">\n                                            <Card.Body>\n                                                <Card.Title><em>{newsTitle}</em><Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit'}} onClick={()=>this.handleOpen(newsTitle, newsShareUrl)}><FaShareAlt/></Link></Card.Title>\n                                                <Card.Text className=\"news-description\">\n                                                    {newsDescription}\n                                                </Card.Text>\n                                                <Card.Text>\n                                                <span> {newsDate} </span>\n                                                <Badge style={{backgroundColor: color, color:text_color}} className=\"float-right\">\n                                                    {newsBadge}\n                                                </Badge>\n                                                </Card.Text>\n                                            </Card.Body>\n                                        </Col>\n                                    </Row>\n                                </Card>\n                            </div>\n                            </Link>\n                      )\n                    }\n                })\n                console.log(newsCards)\n            return (\n            <>\n                {newsCards}\n                <Modal show={this.state.isopenModal} onHide={this.handleClose}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>{this.state.activeItem.title}</Modal.Title>\n                        </Modal.Header>\n                        \n                        <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                        <Modal.Body className=\"d-flex justify-content-between\">\n                        <FacebookShareButton url={this.state.activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                            <FacebookIcon size={70} className='float-left' round={true}/>\n                        </FacebookShareButton>\n                        <TwitterShareButton url={this.state.activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                            <TwitterIcon size={70} round={true}/>\n                        </TwitterShareButton>\n                        <EmailShareButton url={this.state.activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                            <EmailIcon size={70} className='float-right' round={true}/>\n                        </EmailShareButton>\n                        </Modal.Body>\n                </Modal>\n            </>\n            );\n        }\n    }\n}\n\nconst mapStateToProps = (state) =>{\n    return{\n        whichNews : state.newsState\n    }\n}\n\n\nexport default connect(mapStateToProps)(Home);\n\n"]},"metadata":{},"sourceType":"module"}