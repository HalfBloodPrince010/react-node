{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/favorites.js\";\nimport React, { useState, useEffect, Component, memo, useReducer } from 'react';\nimport { Card, Col, Row, Badge, Button, Modal } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './search.css';\nimport { FaBookmark } from 'react-icons/fa';\nimport { FaTrash } from 'react-icons/fa';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share'; // class Favorites extends Component{\n//     state = {\n//         favorites : [\n//             {title:\"Bleh\",image:\"https://media.guim.co.uk/b49dcc4897f479fb8e72c72b2f2ca80c7a400e84/0_69_3000_1800/master/3000.jpg\",date:\"2020-03-24\",news:\"guardian\"}\n//         ]\n//     }\n//     componentDidMount(){\n//         const favoriteData = localStorage.getItem('favoriteData')\n//         let data = JSON.parse(favoriteData)\n//         let favData = [...this.state.favorites, data]\n//         this.setState({\n//             favorites : favData\n//         })\n//     }\n//     render(){\n//         if(this.state.favorites.length!=0){\n//         let favoriteList = this.state.favorites.map(favorite =>{\n//                         let favoriteTitle = favorite.title\n//                         let favoriteImage = favorite.image\n//                         let favoriteDate =  favorite.date\n//                         return (\n//                             <Col lg={3} sm={12}>\n//                                 <Card className=\"SearchCard\">\n//                                 <Card.Body>\n//                                     <Card.Title>{favoriteTitle}</Card.Title>\n//                                     <Card.Img variant=\"top\" src={favoriteImage} className=\"SearchCardImg\"/>\n//                                     <Card.Text className=\"mt-2\">\n//                                         <span> {favoriteDate} </span>\n//                                         <Badge variant=\"primary\" className=\"float-right\">\n//                                             news\n//                                         </Badge>\n//                                     </Card.Text>\n//                                 </Card.Body>\n//                                 </Card >\n//                             </Col>\n//                         )\n//                     }\n//                 )\n//         return(\n//         <>\n//             <div style={{marginLeft:'20px', marginRight:'20px'}}>\n//                 <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Favorites</h2>\n//                 <Row>\n//                     {favoriteList}\n//                 </Row>\n//             </div>\n//         </>\n//         )\n//       }\n//       else{\n//         return(\n//             <>\n//                 <div>Loading ..</div>\n//             </>\n//             )\n//       }\n//     }\n// }\n// export default Favorites;\n\nconst favReducer = (state, action) => {\n  switch (action.type) {\n    case 'REMOVE_ARTICLE':\n      console.log(\"deleting from reducer\");\n      let localdataFetch = localStorage.getItem('favoriteData');\n      let localdata = localdataFetch ? JSON.parse(localdataFetch) : [];\n      let filterList = localdata.filter(article => {\n        return article.id != action.id;\n      });\n      console.log(\"dispatcher\", filterList);\n      return filterList;\n  }\n};\n\nconst Favorites = props => {\n  const [favorites, dispatch] = useReducer(favReducer, [], () => {\n    let localdata = localStorage.getItem('favoriteData');\n    console.log(\"Rendering and setting favorites\", localdata, localdata.length);\n    return localdata ? JSON.parse(localdata) : [];\n  });\n  const [isopenModal, changeModalState] = useState(false);\n  const [activeItem, getActiveItem] = useState(\"\");\n  console.log(\"From favorites initial\", favorites);\n\n  const handleClose = () => {\n    changeModalState(false);\n  };\n\n  const handleOpen = (title, weburl) => {\n    let sharedata = {\n      title: title,\n      webUrl: weburl\n    };\n    getActiveItem(sharedata);\n    changeModalState(true);\n  };\n\n  useEffect(() => {\n    console.log(\"mouting and getting data\"); // const favoriteData = localStorage.getItem('favoriteData')\n\n    let data = favorites.length > 0 ? favorites : [];\n    console.log(\"from useEffect\", data);\n    localStorage.setItem('favoriteData', JSON.stringify(data));\n  }, [favorites]);\n\n  const handleDelete = id => {\n    dispatch({\n      type: 'REMOVE_ARTICLE',\n      id: id.favoriteId\n    });\n  };\n\n  if (favorites) {\n    console.log(\"rendering\");\n    let favoriteList = favorites.map(favorite => {\n      let favoriteTitle = favorite.title;\n      let favoriteImage = favorite.image;\n      let favoriteDate = favorite.date;\n      let favoriteId = favorite.id;\n      let fromNews = favorite.news;\n      let favoriteUrl = \"\";\n      let section = favorite.section;\n      return React.createElement(Col, {\n        lg: 3,\n        sm: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"SearchCard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        style: {\n          fontSize: '18px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, favoriteTitle, React.createElement(Link, {\n        style: {\n          zIndex: '1',\n          position: 'relative',\n          textDecoration: 'none',\n          color: 'inherit',\n          height: '15px'\n        },\n        onClick: () => handleOpen(favoriteTitle, \"newsShareUrl\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(FaShareAlt, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      })), React.createElement(Button, {\n        onClick: () => {\n          handleDelete({\n            favoriteId\n          });\n        },\n        style: {\n          backgroundColor: 'white',\n          border: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(FaTrash, {\n        style: {\n          color: 'black',\n          height: '12px',\n          width: '12px',\n          height: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }))), React.createElement(Card.Img, {\n        variant: \"top\",\n        src: favoriteImage,\n        className: \"SearchCardImg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(Card.Text, {\n        className: \"mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \" \", favoriteDate, \" \"), React.createElement(Badge, {\n        variant: \"primary\",\n        style: {\n          margin: '2px'\n        },\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, section), React.createElement(Badge, {\n        variant: \"primary\",\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, fromNews)))));\n    });\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      style: {\n        marginLeft: '20px',\n        marginRight: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        marginTop: '3px',\n        marginBottom: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Favorites\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, favoriteList)), React.createElement(Modal, {\n      show: isopenModal,\n      onHide: () => handleClose(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, activeItem.title)), React.createElement(Modal.Body, {\n      style: {\n        marginTop: '1px',\n        marginBottom: '1px',\n        paddingBottom: '0px',\n        fontSize: '20px'\n      },\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Share via\")), React.createElement(Modal.Body, {\n      className: \"d-flex justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(FacebookShareButton, {\n      url: activeItem.webUrl,\n      hashtag: \"CSCI_571_NewsApp\",\n      className: \"share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(FacebookIcon, {\n      size: 70,\n      className: \"float-left\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })), React.createElement(TwitterShareButton, {\n      url: activeItem.webUrl,\n      hashtags: ['CSCI_571_NewsApp'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(TwitterIcon, {\n      size: 70,\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    })), React.createElement(EmailShareButton, {\n      url: activeItem.webUrl,\n      subject: \"#CSCI_571_NewsApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(EmailIcon, {\n      size: 70,\n      className: \"float-right\",\n      round: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })))));\n  } else {\n    console.log(\"initial loading\");\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Loading..\"));\n  }\n};\n\nexport default memo(Favorites);","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/client/src/components/favorites.js"],"names":["React","useState","useEffect","Component","memo","useReducer","Card","Col","Row","Badge","Button","Modal","Link","FaBookmark","FaTrash","FaShareAlt","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","favReducer","state","action","type","console","log","localdataFetch","localStorage","getItem","localdata","JSON","parse","filterList","filter","article","id","Favorites","props","favorites","dispatch","length","isopenModal","changeModalState","activeItem","getActiveItem","handleClose","handleOpen","title","weburl","sharedata","webUrl","data","setItem","stringify","handleDelete","favoriteId","favoriteList","map","favorite","favoriteTitle","favoriteImage","image","favoriteDate","date","fromNews","news","favoriteUrl","section","fontSize","zIndex","position","textDecoration","color","height","backgroundColor","border","width","margin","marginLeft","marginRight","marginTop","marginBottom","paddingBottom"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,SAArC,EAAgDC,IAAhD,EAAsDC,UAAtD,QAAwE,OAAxE;AACA,SAAQC,IAAR,EAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,KAAxB,EAA+BC,MAA/B,EAAsCC,KAAtC,QAAkD,iBAAlD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,cAAP;AACA,SAAQC,UAAR,QAAyB,gBAAzB;AACA,SAAQC,OAAR,QAAsB,gBAAtB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAAQC,mBAAR,EAA6BC,kBAA7B,EAAiDC,gBAAjD,QAAwE,aAAxE;AACA,SAAQC,SAAR,EAAkBC,YAAlB,EAA+BC,WAA/B,QAAiD,aAAjD,C,CAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAkB;AACjC,UAAOA,MAAM,CAACC,IAAd;AACI,SAAK,gBAAL;AACIC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACA,UAAIC,cAAc,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAArB;AACA,UAAIC,SAAS,GAAGH,cAAc,GAACI,IAAI,CAACC,KAAL,CAAWL,cAAX,CAAD,GAA4B,EAA1D;AACA,UAAIM,UAAU,GAAGH,SAAS,CAACI,MAAV,CAAiBC,OAAO,IAAE;AACvC,eAAOA,OAAO,CAACC,EAAR,IAAYb,MAAM,CAACa,EAA1B;AAA6B,OADhB,CAAjB;AAEAX,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBO,UAAzB;AACA,aAAOA,UAAP;AARR;AAUH,CAXD;;AAaA,MAAMI,SAAS,GAAGC,KAAK,IAAG;AAC1B,QAAM,CAACC,SAAD,EAAYC,QAAZ,IAAwBpC,UAAU,CAACiB,UAAD,EAAY,EAAZ,EAAe,MAAI;AACvD,QAAIS,SAAS,GAAGF,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAhB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CI,SAA/C,EAA0DA,SAAS,CAACW,MAApE;AACA,WAAOX,SAAS,GAACC,IAAI,CAACC,KAAL,CAAWF,SAAX,CAAD,GAAuB,EAAvC;AACH,GAJuC,CAAxC;AAKA,QAAM,CAACY,WAAD,EAAcC,gBAAd,IAAkC3C,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAAC4C,UAAD,EAAaC,aAAb,IAA8B7C,QAAQ,CAAC,EAAD,CAA5C;AAEAyB,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAqCa,SAArC;;AAEA,QAAMO,WAAW,GAAG,MAAK;AACrBH,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACH,GAFD;;AAIA,QAAMI,UAAU,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAkB;AACjC,QAAIC,SAAS,GAAG;AAACF,MAAAA,KAAK,EAACA,KAAP;AAAaG,MAAAA,MAAM,EAACF;AAApB,KAAhB;AACAJ,IAAAA,aAAa,CAACK,SAAD,CAAb;AACAP,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACH,GAJD;;AAMA1C,EAAAA,SAAS,CAAC,MAAI;AACVwB,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EADU,CAEV;;AACA,QAAI0B,IAAI,GAAGb,SAAS,CAACE,MAAV,GAAiB,CAAjB,GAAmBF,SAAnB,GAA6B,EAAxC;AACAd,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6B0B,IAA7B;AACAxB,IAAAA,YAAY,CAACyB,OAAb,CAAqB,cAArB,EAAqCtB,IAAI,CAACuB,SAAL,CAAeF,IAAf,CAArC;AACH,GANQ,EAMN,CAACb,SAAD,CANM,CAAT;;AAQA,QAAMgB,YAAY,GAAInB,EAAD,IAAO;AACxBI,IAAAA,QAAQ,CAAC;AAAChB,MAAAA,IAAI,EAAC,gBAAN;AAAuBY,MAAAA,EAAE,EAACA,EAAE,CAACoB;AAA7B,KAAD,CAAR;AACH,GAFD;;AAIA,MAAGjB,SAAH,EAAa;AACbd,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,QAAI+B,YAAY,GAAGlB,SAAS,CAACmB,GAAV,CAAcC,QAAQ,IAAG;AAChC,UAAIC,aAAa,GAAGD,QAAQ,CAACX,KAA7B;AACA,UAAIa,aAAa,GAAGF,QAAQ,CAACG,KAA7B;AACA,UAAIC,YAAY,GAAIJ,QAAQ,CAACK,IAA7B;AACA,UAAIR,UAAU,GAAGG,QAAQ,CAACvB,EAA1B;AACA,UAAI6B,QAAQ,GAAGN,QAAQ,CAACO,IAAxB;AACA,UAAIC,WAAW,GAAG,EAAlB;AACA,UAAIC,OAAO,GAAGT,QAAQ,CAACS,OAAvB;AACA,aACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAY,QAAA,EAAE,EAAE,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,KAAK,EAAE;AAACC,UAAAA,QAAQ,EAAC;AAAV,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuCT,aAAvC,EAAqD,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACU,UAAAA,MAAM,EAAC,GAAR;AAAaC,UAAAA,QAAQ,EAAC,UAAtB;AAAkCC,UAAAA,cAAc,EAAE,MAAlD;AAA0DC,UAAAA,KAAK,EAAC,SAAhE;AAA0EC,UAAAA,MAAM,EAAC;AAAjF,SAAb;AAAuG,QAAA,OAAO,EAAE,MAAI3B,UAAU,CAACa,aAAD,EAAgB,cAAhB,CAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+J,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA/J,CAArD,EAAwO,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,MAAI;AAACL,UAAAA,YAAY,CAAC;AAACC,YAAAA;AAAD,WAAD,CAAZ;AAA2B,SAAjD;AAAmD,QAAA,KAAK,EAAE;AAACmB,UAAAA,eAAe,EAAC,OAAjB;AAA0BC,UAAAA,MAAM,EAAC;AAAjC,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoG,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAE;AAACH,UAAAA,KAAK,EAAC,OAAP;AAAeC,UAAAA,MAAM,EAAC,MAAtB;AAA8BG,UAAAA,KAAK,EAAC,MAApC;AAA4CH,UAAAA,MAAM,EAAC;AAAnD,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApG,CAAxO,CADJ,EAEI,oBAAC,IAAD,CAAM,GAAN;AAAU,QAAA,OAAO,EAAC,KAAlB;AAAwB,QAAA,GAAG,EAAEb,aAA7B;AAA4C,QAAA,SAAS,EAAC,eAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,SAAS,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAQE,YAAR,MADJ,EAEI,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,SAAf;AAAyB,QAAA,KAAK,EAAE;AAACe,UAAAA,MAAM,EAAC;AAAR,SAAhC;AAAgD,QAAA,SAAS,EAAC,aAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKV,OADL,CAFJ,EAKI,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,SAAf;AAAyB,QAAA,SAAS,EAAC,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKH,QADL,CALJ,CAHJ,CADA,CADJ,CADJ;AAmBH,KA3BU,CAAnB;AA6BI,WACI,0CACA;AAAK,MAAA,KAAK,EAAE;AAACc,QAAAA,UAAU,EAAC,MAAZ;AAAoBC,QAAAA,WAAW,EAAC;AAAhC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAI,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAC,KAAX;AAAkBC,QAAAA,YAAY,EAAC;AAA/B,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADR,EAEQ,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKzB,YADL,CAFR,CADA,EAOA,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAEf,WAAb;AAA0B,MAAA,MAAM,EAAE,MAAII,WAAW,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ,oBAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAcF,UAAU,CAACI,KAAzB,CADJ,CADR,EAIQ,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,KAAK,EAAE;AAACiC,QAAAA,SAAS,EAAC,KAAX;AAAiBC,QAAAA,YAAY,EAAC,KAA9B;AAAqCC,QAAAA,aAAa,EAAC,KAAnD;AAA0Dd,QAAAA,QAAQ,EAAC;AAAnE,OAAnB;AAA+F,MAAA,SAAS,EAAC,+BAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAzI,CAJR,EAKQ,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,gCAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,mBAAD;AAAqB,MAAA,GAAG,EAAEzB,UAAU,CAACO,MAArC;AAA6C,MAAA,OAAO,EAAC,kBAArD;AAAwE,MAAA,SAAS,EAAC,OAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAE,EAApB;AAAwB,MAAA,SAAS,EAAC,YAAlC;AAA+C,MAAA,KAAK,EAAE,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADA,EAIA,oBAAC,kBAAD;AAAoB,MAAA,GAAG,EAAEP,UAAU,CAACO,MAApC;AAA4C,MAAA,QAAQ,EAAE,CAAC,kBAAD,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAE,EAAnB;AAAuB,MAAA,KAAK,EAAE,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJA,EAOA,oBAAC,gBAAD;AAAkB,MAAA,GAAG,EAAEP,UAAU,CAACO,MAAlC;AAA0C,MAAA,OAAO,EAAC,mBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAW,MAAA,IAAI,EAAE,EAAjB;AAAqB,MAAA,SAAS,EAAC,aAA/B;AAA6C,MAAA,KAAK,EAAE,IAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAPA,CALR,CAPA,CADJ;AA4BH,GA3DD,MA4DI;AACA1B,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,WACI,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CADJ;AAOH;AACA,CAvGD;;AAyGA,eAAevB,IAAI,CAACkC,SAAD,CAAnB","sourcesContent":["import React, { useState, useEffect, Component, memo, useReducer } from 'react'\nimport {Card, Col, Row, Badge, Button,Modal} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './search.css';\nimport {FaBookmark} from 'react-icons/fa';\nimport {FaTrash} from 'react-icons/fa';\nimport { FaShareAlt } from \"react-icons/fa\";\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\n\n\n\n// class Favorites extends Component{\n//     state = {\n//         favorites : [\n//             {title:\"Bleh\",image:\"https://media.guim.co.uk/b49dcc4897f479fb8e72c72b2f2ca80c7a400e84/0_69_3000_1800/master/3000.jpg\",date:\"2020-03-24\",news:\"guardian\"}\n//         ]\n//     }\n\n//     componentDidMount(){\n//         const favoriteData = localStorage.getItem('favoriteData')\n//         let data = JSON.parse(favoriteData)\n//         let favData = [...this.state.favorites, data]\n//         this.setState({\n//             favorites : favData\n//         })\n//     }\n\n//     render(){\n//         if(this.state.favorites.length!=0){\n//         let favoriteList = this.state.favorites.map(favorite =>{\n//                         let favoriteTitle = favorite.title\n//                         let favoriteImage = favorite.image\n//                         let favoriteDate =  favorite.date\n//                         return (\n//                             <Col lg={3} sm={12}>\n//                                 <Card className=\"SearchCard\">\n//                                 <Card.Body>\n//                                     <Card.Title>{favoriteTitle}</Card.Title>\n//                                     <Card.Img variant=\"top\" src={favoriteImage} className=\"SearchCardImg\"/>\n//                                     <Card.Text className=\"mt-2\">\n//                                         <span> {favoriteDate} </span>\n//                                         <Badge variant=\"primary\" className=\"float-right\">\n//                                             news\n//                                         </Badge>\n//                                     </Card.Text>\n//                                 </Card.Body>\n//                                 </Card >\n//                             </Col>\n//                         )\n//                     }\n//                 )\n//         return(\n//         <>\n//             <div style={{marginLeft:'20px', marginRight:'20px'}}>\n//                 <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Favorites</h2>\n//                 <Row>\n//                     {favoriteList}\n//                 </Row>\n//             </div>\n//         </>\n\n//         )\n//       }\n//       else{\n//         return(\n//             <>\n//                 <div>Loading ..</div>\n//             </>\n//             )\n//       }\n//     }\n// }\n// export default Favorites;\n\n\nconst favReducer = (state, action) =>{\n    switch(action.type){\n        case 'REMOVE_ARTICLE':\n            console.log(\"deleting from reducer\")\n            let localdataFetch = localStorage.getItem('favoriteData')\n            let localdata = localdataFetch?JSON.parse(localdataFetch):[]\n            let filterList = localdata.filter(article=>{\n                return article.id!=action.id})\n            console.log(\"dispatcher\",filterList)\n            return filterList\n    }\n}\n\nconst Favorites = props =>{\nconst [favorites, dispatch] = useReducer(favReducer,[],()=>{\n    let localdata = localStorage.getItem('favoriteData')\n    console.log(\"Rendering and setting favorites\", localdata, localdata.length)\n    return localdata?JSON.parse(localdata):[]\n})\nconst [isopenModal, changeModalState] = useState(false)\nconst [activeItem, getActiveItem] = useState(\"\")\n\nconsole.log(\"From favorites initial\",favorites)\n\nconst handleClose = () =>{\n    changeModalState(false)\n}\n\nconst handleOpen = (title, weburl) =>{\n    let sharedata = {title:title,webUrl:weburl}\n    getActiveItem(sharedata)\n    changeModalState(true)\n}\n\nuseEffect(()=>{\n    console.log(\"mouting and getting data\")\n    // const favoriteData = localStorage.getItem('favoriteData')\n    let data = favorites.length>0?favorites:[]\n    console.log(\"from useEffect\",data)\n    localStorage.setItem('favoriteData', JSON.stringify(data))\n}, [favorites])\n\nconst handleDelete = (id) =>{\n    dispatch({type:'REMOVE_ARTICLE',id:id.favoriteId})\n}\n\nif(favorites){\nconsole.log(\"rendering\")\nlet favoriteList = favorites.map(favorite =>{\n            let favoriteTitle = favorite.title\n            let favoriteImage = favorite.image\n            let favoriteDate =  favorite.date\n            let favoriteId = favorite.id\n            let fromNews = favorite.news\n            let favoriteUrl = \"\"\n            let section = favorite.section\n            return (\n                <Col lg={3} sm={12}>\n                    <Card className=\"SearchCard\">\n                    <Card.Body>\n                        <Card.Title style={{fontSize:'18px'}}>{favoriteTitle}<Link style={{zIndex:'1', position:'relative', textDecoration: 'none', color:'inherit',height:'15px'}} onClick={()=>handleOpen(favoriteTitle, \"newsShareUrl\")}><FaShareAlt/></Link><Button onClick={()=>{handleDelete({favoriteId})}} style={{backgroundColor:'white', border:'none'}}><FaTrash style={{color:'black',height:'12px', width:'12px', height:'15px' }}/></Button></Card.Title>\n                        <Card.Img variant=\"top\" src={favoriteImage} className=\"SearchCardImg\"/>\n                        <Card.Text className=\"mt-2\">\n                            <span> {favoriteDate} </span>\n                            <Badge variant=\"primary\" style={{margin:'2px'}} className=\"float-right\">\n                                {section}\n                            </Badge>\n                            <Badge variant=\"primary\" className=\"float-right\">\n                                {fromNews}\n                            </Badge>\n                        </Card.Text>\n                    </Card.Body>\n                    </Card >\n                </Col>\n            )\n        }\n    )\n    return (\n        <>\n        <div style={{marginLeft:'20px', marginRight:'20px'}}>\n                <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Favorites</h2>\n                <Row>\n                    {favoriteList}\n                </Row>\n        </div>\n        <Modal show={isopenModal} onHide={()=>handleClose()}>\n                <Modal.Header closeButton>\n                    <Modal.Title>{activeItem.title}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                <Modal.Body className=\"d-flex justify-content-between\">\n                <FacebookShareButton url={activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                    <FacebookIcon size={70} className='float-left' round={true}/>\n                </FacebookShareButton>\n                <TwitterShareButton url={activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                    <TwitterIcon size={70} round={true}/>\n                </TwitterShareButton>\n                <EmailShareButton url={activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                    <EmailIcon size={70} className='float-right' round={true}/>\n                </EmailShareButton>\n                </Modal.Body>\n        </Modal>\n        </>\n    )\n    \n}\nelse{\n    console.log(\"initial loading\")\n    return (\n        <>\n            <div>Loading..</div>\n        </>\n    )\n    \n\n}\n}\n\nexport default memo(Favorites);\n\n"]},"metadata":{},"sourceType":"module"}