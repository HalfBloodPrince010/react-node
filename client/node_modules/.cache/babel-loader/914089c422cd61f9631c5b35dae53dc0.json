{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/client/src/components/sports.js\";\nimport React, { useState, useEffect, memo, useRef } from 'react';\nimport { Card, Col, Row, Badge, Modal } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport { FacebookShareButton, TwitterShareButton, EmailShareButton } from 'react-share';\nimport { EmailIcon, FacebookIcon, TwitterIcon } from 'react-share';\nimport { connect } from 'react-redux';\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport { IoMdShare } from 'react-icons/io';\nimport { buildCardsGuardian, buildCardsNytimes } from './helper';\nimport Helper from './helper';\n\nconst Sports = props => {\n  const [newsAvailable, changeNewsState] = useState(\"Guardian\");\n  const [sportsNews, getSportsNews] = useState([]);\n  const [isopenModal, changeModalState] = useState(false);\n  const [activeItem, getActiveItem] = useState(\"\"); // Fetch Data\n\n  const fetchData = () => {\n    if (props.whichNews === 'Guardian' || props.whichNews === 'guardian') {\n      axios.get('http://localhost:5000/guardian/sport').then(responseData => {\n        console.log(\"Guardian\", responseData.data);\n        getSportsNews(responseData.data);\n        changeNewsState(\"Guardian\");\n      }).catch(responseData => {\n        console.log(\"error\");\n      });\n    } else if (props.whichNews === 'nytimes') {\n      axios.get('http://localhost:5000/nytimes/sports').then(responseData => {\n        console.log(\"NYT\", responseData.data);\n        getSportsNews(responseData.data);\n        changeNewsState(\"nytimes\");\n      }).catch(responseData => {\n        console.log(\"error\");\n      });\n    }\n  };\n\n  const handleClose = () => {\n    changeModalState(false);\n  };\n\n  const handleOpen = (title, weburl) => {\n    let sharedata = {\n      title: title,\n      webUrl: weburl\n    };\n    getActiveItem(sharedata);\n    changeModalState(true);\n  }; // Function to clear data if previous state changed\n\n\n  const prevNews = usePrevious(props.whichNews);\n  console.log(\"Previous News\", prevNews);\n\n  function usePrevious(value) {\n    const ref = useRef();\n    useEffect(() => {\n      if (prevNews !== props.whichNews) {\n        getSportsNews([]);\n        ref.current = value;\n        fetchData();\n      }\n    }); // Only re-run if value changes\n\n    return ref.current;\n  } // No NEWS\n\n\n  if (sportsNews.length == 0) {\n    return React.createElement(\"div\", {\n      className: \"sweet-loading\",\n      style: {\n        position: 'fixed',\n        top: '50%',\n        left: '47%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(BounceLoader, {\n      style: {\n        display: 'block',\n        background: '#2b4fc4'\n      },\n      size: 35,\n      color: \"#2b4fc4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: {\n        position: 'fixed',\n        left: '46.5%',\n        fontSize: '14px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Loading\"));\n  } // NEWS AVAILABLE\n  else {\n      if (props.whichNews === 'guardian' || props.whichNews === 'Guardian') {\n        let newsCards = [];\n\n        if (sportsNews.length != 0 && sportsNews[0].hasOwnProperty('blocks')) {\n          return React.createElement(React.Fragment, null, React.createElement(Helper, {\n            news: sportsNews,\n            handleOpen: handleOpen,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }), React.createElement(Modal, {\n            show: isopenModal,\n            onHide: () => handleClose(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, React.createElement(Modal.Header, {\n            closeButton: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, React.createElement(Modal.Title, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, activeItem.title)), React.createElement(Modal.Body, {\n            style: {\n              marginTop: '1px',\n              marginBottom: '1px',\n              paddingBottom: '0px',\n              fontSize: '20px'\n            },\n            className: \"d-flex justify-content-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, \"Share via\")), React.createElement(Modal.Body, {\n            className: \"d-flex justify-content-between\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, React.createElement(FacebookShareButton, {\n            url: activeItem.webUrl,\n            hashtag: \"CSCI_571_NewsApp\",\n            className: \"share\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, React.createElement(FacebookIcon, {\n            size: 70,\n            className: \"float-left\",\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          })), React.createElement(TwitterShareButton, {\n            url: activeItem.webUrl,\n            hashtags: ['CSCI_571_NewsApp'],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, React.createElement(TwitterIcon, {\n            size: 70,\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          })), React.createElement(EmailShareButton, {\n            url: activeItem.webUrl,\n            subject: \"#CSCI_571_NewsApp\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, React.createElement(EmailIcon, {\n            size: 70,\n            className: \"float-right\",\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          })))));\n        } else {\n          return React.createElement(\"div\", {\n            className: \"sweet-loading\",\n            style: {\n              position: 'fixed',\n              top: '50%',\n              left: '47%'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, React.createElement(BounceLoader, {\n            style: {\n              display: 'block',\n              background: '#2b4fc4'\n            },\n            size: 35,\n            color: \"#2b4fc4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            style: {\n              position: 'fixed',\n              left: '46.5%',\n              fontSize: '14px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, \"Loading\"));\n        }\n      } else if (props.whichNews == 'nytimes') {\n        if (sportsNews.length != 0) {\n          const newsCards = buildCardsNytimes(sportsNews);\n          return React.createElement(React.Fragment, null, newsCards, React.createElement(Modal, {\n            show: isopenModal,\n            onHide: () => handleClose(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, React.createElement(Modal.Header, {\n            closeButton: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }, React.createElement(Modal.Title, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, activeItem.title)), React.createElement(Modal.Body, {\n            style: {\n              marginTop: '1px',\n              marginBottom: '1px',\n              paddingBottom: '0px',\n              fontSize: '20px'\n            },\n            className: \"d-flex justify-content-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, \"Share via\")), React.createElement(Modal.Body, {\n            className: \"d-flex justify-content-between\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          }, React.createElement(FacebookShareButton, {\n            url: activeItem.webUrl,\n            hashtag: \"CSCI_571_NewsApp\",\n            className: \"share\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }, React.createElement(FacebookIcon, {\n            size: 70,\n            className: \"float-left\",\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          })), React.createElement(TwitterShareButton, {\n            url: activeItem.webUrl,\n            hashtags: ['CSCI_571_NewsApp'],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, React.createElement(TwitterIcon, {\n            size: 70,\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          })), React.createElement(EmailShareButton, {\n            url: activeItem.webUrl,\n            subject: \"#CSCI_571_NewsApp\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147\n            },\n            __self: this\n          }, React.createElement(EmailIcon, {\n            size: 70,\n            className: \"float-right\",\n            round: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148\n            },\n            __self: this\n          })))));\n        } else {\n          return React.createElement(\"div\", {\n            className: \"sweet-loading\",\n            style: {\n              position: 'fixed',\n              top: '50%',\n              left: '47%'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, React.createElement(BounceLoader, {\n            style: {\n              display: 'block',\n              background: '#2b4fc4'\n            },\n            size: 35,\n            color: \"#2b4fc4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            style: {\n              position: 'fixed',\n              left: '46.5%',\n              fontSize: '14px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          }, \"Loading\"));\n        } // Else NY Loading end\n\n      } // NY News end\n\n    } // Else end\n\n}; // Function end\n\n\nconst mapStateToProps = state => {\n  return {\n    whichNews: state.newsState\n  };\n};\n\nexport default connect(mapStateToProps)(memo(Sports));","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/client/src/components/sports.js"],"names":["React","useState","useEffect","memo","useRef","Card","Col","Row","Badge","Modal","Link","axios","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","connect","BounceLoader","IoMdShare","buildCardsGuardian","buildCardsNytimes","Helper","Sports","props","newsAvailable","changeNewsState","sportsNews","getSportsNews","isopenModal","changeModalState","activeItem","getActiveItem","fetchData","whichNews","get","then","responseData","console","log","data","catch","handleClose","handleOpen","title","weburl","sharedata","webUrl","prevNews","usePrevious","value","ref","current","length","position","top","left","display","background","fontSize","newsCards","hasOwnProperty","marginTop","marginBottom","paddingBottom","mapStateToProps","state","newsState"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,IAApC,EAA0CC,MAA1C,QAAuD,OAAvD;AACA,SAAQC,IAAR,EAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,KAAxB,EAA+BC,KAA/B,QAA2C,iBAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,mBAAR,EAA6BC,kBAA7B,EAAiDC,gBAAjD,QAAwE,aAAxE;AACA,SAAQC,SAAR,EAAkBC,YAAlB,EAA+BC,WAA/B,QAAiD,aAAjD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SAAQC,SAAR,QAAwB,gBAAxB;AACA,SAAQC,kBAAR,EAA4BC,iBAA5B,QAAoD,UAApD;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,MAAM,GAAGC,KAAK,IAAG;AAEnB,QAAM,CAACC,aAAD,EAAgBC,eAAhB,IAAmC1B,QAAQ,CAAC,UAAD,CAAjD;AACA,QAAM,CAAC2B,UAAD,EAAaC,aAAb,IAA8B5B,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAAC6B,WAAD,EAAcC,gBAAd,IAAkC9B,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAAC+B,UAAD,EAAaC,aAAb,IAA8BhC,QAAQ,CAAC,EAAD,CAA5C,CALmB,CAOnB;;AACA,QAAMiC,SAAS,GAAC,MAAI;AAChB,QAAGT,KAAK,CAACU,SAAN,KAAoB,UAApB,IAAkCV,KAAK,CAACU,SAAN,KAAoB,UAAzD,EAAoE;AACpExB,MAAAA,KAAK,CAACyB,GAAN,CAAU,sCAAV,EACCC,IADD,CACMC,YAAY,IAAI;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBF,YAAY,CAACG,IAApC;AACAZ,QAAAA,aAAa,CAACS,YAAY,CAACG,IAAd,CAAb;AACAd,QAAAA,eAAe,CAAC,UAAD,CAAf;AACH,OALD,EAMCe,KAND,CAMOJ,YAAY,IAAE;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH,OARD;AASH,KAVG,MAWC,IAAGf,KAAK,CAACU,SAAN,KAAoB,SAAvB,EAAiC;AAClCxB,MAAAA,KAAK,CAACyB,GAAN,CAAU,sCAAV,EACCC,IADD,CACMC,YAAY,IAAI;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBF,YAAY,CAACG,IAA/B;AACAZ,QAAAA,aAAa,CAACS,YAAY,CAACG,IAAd,CAAb;AACAd,QAAAA,eAAe,CAAC,SAAD,CAAf;AACH,OALD,EAMCe,KAND,CAMOJ,YAAY,IAAE;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH,OARD;AAUH;AACJ,GAxBG;;AA2BA,QAAMG,WAAW,GAAG,MAAK;AACrBZ,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACH,GAFD;;AAIA,QAAMa,UAAU,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAkB;AACjC,QAAIC,SAAS,GAAG;AAACF,MAAAA,KAAK,EAACA,KAAP;AAAaG,MAAAA,MAAM,EAACF;AAApB,KAAhB;AACAb,IAAAA,aAAa,CAACc,SAAD,CAAb;AACAhB,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACH,GAJD,CAvCmB,CA6CnB;;;AAEA,QAAMkB,QAAQ,GAAGC,WAAW,CAACzB,KAAK,CAACU,SAAP,CAA5B;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BS,QAA5B;;AACA,WAASC,WAAT,CAAqBC,KAArB,EAA4B;AACxB,UAAMC,GAAG,GAAGhD,MAAM,EAAlB;AACAF,IAAAA,SAAS,CAAC,MAAM;AAChB,UAAG+C,QAAQ,KAAKxB,KAAK,CAACU,SAAtB,EAAgC;AAC7BN,QAAAA,aAAa,CAAC,EAAD,CAAb;AACDuB,QAAAA,GAAG,CAACC,OAAJ,GAAcF,KAAd;AACAjB,QAAAA,SAAS;AAAG;AACb,KALQ,CAAT,CAFwB,CAOpB;;AACJ,WAAOkB,GAAG,CAACC,OAAX;AACD,GA1DgB,CA4DjB;;;AACM,MAAIzB,UAAU,CAAC0B,MAAX,IAAmB,CAAvB,EAAyB;AACrB,WACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAA+B,MAAA,KAAK,EAAI;AAACC,QAAAA,QAAQ,EAAC,OAAV;AAAmBC,QAAAA,GAAG,EAAC,KAAvB;AAA8BC,QAAAA,IAAI,EAAC;AAAnC,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AACA,MAAA,KAAK,EAAI;AAACC,QAAAA,OAAO,EAAC,OAAT;AAAkBC,QAAAA,UAAU,EAAC;AAA7B,OADT;AAEA,MAAA,IAAI,EAAE,EAFN;AAGA,MAAA,KAAK,EAAE,SAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAMA;AAAM,MAAA,KAAK,EAAE;AAACJ,QAAAA,QAAQ,EAAC,OAAV;AAAkBE,QAAAA,IAAI,EAAC,OAAvB;AAAgCG,QAAAA,QAAQ,EAAC;AAAzC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANA,CADJ;AAUH,GAXD,CAYR;AAZQ,OAaI;AACJ,UAAInC,KAAK,CAACU,SAAN,KAAoB,UAApB,IAAkCV,KAAK,CAACU,SAAN,KAAoB,UAA1D,EAAuE;AACvE,YAAI0B,SAAS,GAAG,EAAhB;;AACA,YAAGjC,UAAU,CAAC0B,MAAX,IAAmB,CAAnB,IAAwB1B,UAAU,CAAC,CAAD,CAAV,CAAckC,cAAd,CAA6B,QAA7B,CAA3B,EAAkE;AAEtE,iBACI,0CACI,oBAAC,MAAD;AAAQ,YAAA,IAAI,EAAElC,UAAd;AAA0B,YAAA,UAAU,EAAEgB,UAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI,oBAAC,KAAD;AAAO,YAAA,IAAI,EAAEd,WAAb;AAA0B,YAAA,MAAM,EAAE,MAAIa,WAAW,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACQ,oBAAC,KAAD,CAAO,MAAP;AAAc,YAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAcX,UAAU,CAACa,KAAzB,CADJ,CADR,EAIQ,oBAAC,KAAD,CAAO,IAAP;AAAY,YAAA,KAAK,EAAE;AAACkB,cAAAA,SAAS,EAAC,KAAX;AAAiBC,cAAAA,YAAY,EAAC,KAA9B;AAAqCC,cAAAA,aAAa,EAAC,KAAnD;AAA0DL,cAAAA,QAAQ,EAAC;AAAnE,aAAnB;AAA+F,YAAA,SAAS,EAAC,+BAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAyI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAzI,CAJR,EAKQ,oBAAC,KAAD,CAAO,IAAP;AAAY,YAAA,SAAS,EAAC,gCAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,mBAAD;AAAqB,YAAA,GAAG,EAAE5B,UAAU,CAACgB,MAArC;AAA6C,YAAA,OAAO,EAAC,kBAArD;AAAwE,YAAA,SAAS,EAAC,OAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,YAAD;AAAc,YAAA,IAAI,EAAE,EAApB;AAAwB,YAAA,SAAS,EAAC,YAAlC;AAA+C,YAAA,KAAK,EAAE,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CADA,EAIA,oBAAC,kBAAD;AAAoB,YAAA,GAAG,EAAEhB,UAAU,CAACgB,MAApC;AAA4C,YAAA,QAAQ,EAAE,CAAC,kBAAD,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,WAAD;AAAa,YAAA,IAAI,EAAE,EAAnB;AAAuB,YAAA,KAAK,EAAE,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CAJA,EAOA,oBAAC,gBAAD;AAAkB,YAAA,GAAG,EAAEhB,UAAU,CAACgB,MAAlC;AAA0C,YAAA,OAAO,EAAC,mBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,SAAD;AAAW,YAAA,IAAI,EAAE,EAAjB;AAAqB,YAAA,SAAS,EAAC,aAA/B;AAA6C,YAAA,KAAK,EAAE,IAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CAPA,CALR,CAFJ,CADJ;AAsBC,SAxBG,MAyBJ;AACI,iBACI;AAAK,YAAA,SAAS,EAAC,eAAf;AAA+B,YAAA,KAAK,EAAI;AAACO,cAAAA,QAAQ,EAAC,OAAV;AAAmBC,cAAAA,GAAG,EAAC,KAAvB;AAA8BC,cAAAA,IAAI,EAAC;AAAnC,aAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,YAAD;AACA,YAAA,KAAK,EAAI;AAACC,cAAAA,OAAO,EAAC,OAAT;AAAkBC,cAAAA,UAAU,EAAC;AAA7B,aADT;AAEA,YAAA,IAAI,EAAE,EAFN;AAGA,YAAA,KAAK,EAAE,SAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAMA;AAAM,YAAA,KAAK,EAAE;AAACJ,cAAAA,QAAQ,EAAC,OAAV;AAAkBE,cAAAA,IAAI,EAAC,OAAvB;AAAgCG,cAAAA,QAAQ,EAAC;AAAzC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANA,CADJ;AAUP;AACJ,OAvCW,MAwCC,IAAGnC,KAAK,CAACU,SAAN,IAAmB,SAAtB,EAAgC;AACjC,YAAGP,UAAU,CAAC0B,MAAX,IAAmB,CAAtB,EAAwB;AACxB,gBAAMO,SAAS,GAAGvC,iBAAiB,CAACM,UAAD,CAAnC;AACR,iBACQ,0CACKiC,SADL,EAEQ,oBAAC,KAAD;AAAO,YAAA,IAAI,EAAE/B,WAAb;AAA0B,YAAA,MAAM,EAAE,MAAIa,WAAW,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACQ,oBAAC,KAAD,CAAO,MAAP;AAAc,YAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAcX,UAAU,CAACa,KAAzB,CADJ,CADR,EAIQ,oBAAC,KAAD,CAAO,IAAP;AAAY,YAAA,KAAK,EAAE;AAACkB,cAAAA,SAAS,EAAC,KAAX;AAAiBC,cAAAA,YAAY,EAAC,KAA9B;AAAqCC,cAAAA,aAAa,EAAC,KAAnD;AAA0DL,cAAAA,QAAQ,EAAC;AAAnE,aAAnB;AAA+F,YAAA,SAAS,EAAC,+BAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAyI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAzI,CAJR,EAKQ,oBAAC,KAAD,CAAO,IAAP;AAAY,YAAA,SAAS,EAAC,gCAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,mBAAD;AAAqB,YAAA,GAAG,EAAE5B,UAAU,CAACgB,MAArC;AAA6C,YAAA,OAAO,EAAC,kBAArD;AAAwE,YAAA,SAAS,EAAC,OAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,YAAD;AAAc,YAAA,IAAI,EAAE,EAApB;AAAwB,YAAA,SAAS,EAAC,YAAlC;AAA+C,YAAA,KAAK,EAAE,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CADA,EAIA,oBAAC,kBAAD;AAAoB,YAAA,GAAG,EAAEhB,UAAU,CAACgB,MAApC;AAA4C,YAAA,QAAQ,EAAE,CAAC,kBAAD,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,WAAD;AAAa,YAAA,IAAI,EAAE,EAAnB;AAAuB,YAAA,KAAK,EAAE,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CAJA,EAOA,oBAAC,gBAAD;AAAkB,YAAA,GAAG,EAAEhB,UAAU,CAACgB,MAAlC;AAA0C,YAAA,OAAO,EAAC,mBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,SAAD;AAAW,YAAA,IAAI,EAAE,EAAjB;AAAqB,YAAA,SAAS,EAAC,aAA/B;AAA6C,YAAA,KAAK,EAAE,IAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CAPA,CALR,CAFR,CADR;AAsBC,SAxBO,MAyBA;AACI,iBACI;AAAK,YAAA,SAAS,EAAC,eAAf;AAA+B,YAAA,KAAK,EAAI;AAACO,cAAAA,QAAQ,EAAC,OAAV;AAAmBC,cAAAA,GAAG,EAAC,KAAvB;AAA8BC,cAAAA,IAAI,EAAC;AAAnC,aAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,YAAD;AACA,YAAA,KAAK,EAAI;AAACC,cAAAA,OAAO,EAAC,OAAT;AAAkBC,cAAAA,UAAU,EAAC;AAA7B,aADT;AAEA,YAAA,IAAI,EAAE,EAFN;AAGA,YAAA,KAAK,EAAE,SAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAMA;AAAM,YAAA,KAAK,EAAE;AAACJ,cAAAA,QAAQ,EAAC,OAAV;AAAkBE,cAAAA,IAAI,EAAC,OAAvB;AAAgCG,cAAAA,QAAQ,EAAC;AAAzC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANA,CADJ;AAWH,SAtCgC,CAsC/B;;AACL,OAhFO,CAgFN;;AACL,KA3JkB,CA2JjB;;AACL,CA5JD,C,CA4JE;;;AAGF,MAAMM,eAAe,GAAIC,KAAD,IAAU;AAC9B,SAAM;AACFhC,IAAAA,SAAS,EAAGgC,KAAK,CAACC;AADhB,GAAN;AAGH,CAJD;;AAQA,eAAelD,OAAO,CAACgD,eAAD,CAAP,CAAyB/D,IAAI,CAACqB,MAAD,CAA7B,CAAf","sourcesContent":["import React, {useState, useEffect, memo, useRef} from 'react'\nimport {Card, Col, Row, Badge, Modal} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport axios from 'axios';\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\nimport { connect } from 'react-redux';\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport {IoMdShare} from 'react-icons/io'\nimport {buildCardsGuardian, buildCardsNytimes} from './helper';\nimport Helper from './helper'\n\nconst Sports = props =>{\n\n    const [newsAvailable, changeNewsState] = useState(\"Guardian\")\n    const [sportsNews, getSportsNews] = useState([])\n    const [isopenModal, changeModalState] = useState(false)\n    const [activeItem, getActiveItem] = useState(\"\")\n\n    // Fetch Data\n    const fetchData=()=>{\n        if(props.whichNews === 'Guardian' || props.whichNews === 'guardian'){\n        axios.get('http://localhost:5000/guardian/sport')\n        .then(responseData => {\n            console.log(\"Guardian\",responseData.data);\n            getSportsNews(responseData.data)\n            changeNewsState(\"Guardian\")\n        })\n        .catch(responseData=>{\n            console.log(\"error\");\n        })\n    }\n    else if(props.whichNews === 'nytimes'){\n        axios.get('http://localhost:5000/nytimes/sports')\n        .then(responseData => {\n            console.log(\"NYT\",responseData.data);\n            getSportsNews(responseData.data)\n            changeNewsState(\"nytimes\")\n        })\n        .catch(responseData=>{\n            console.log(\"error\");\n        })\n\n    }\n}\n\n\n    const handleClose = () =>{\n        changeModalState(false)\n    }\n\n    const handleOpen = (title, weburl) =>{\n        let sharedata = {title:title,webUrl:weburl}\n        getActiveItem(sharedata)\n        changeModalState(true)\n    }\n\n    // Function to clear data if previous state changed\n\n    const prevNews = usePrevious(props.whichNews);\n    console.log(\"Previous News\",prevNews)\n    function usePrevious(value) {\n        const ref = useRef()\n        useEffect(() => {\n        if(prevNews !== props.whichNews){\n           getSportsNews([])\n          ref.current = value;\n          fetchData()}\n        }); // Only re-run if value changes\n        return ref.current;\n      }\n\n      // No NEWS\n            if (sportsNews.length==0){\n                return(\n                    <div className=\"sweet-loading\" style = {{position:'fixed', top:'50%', left:'47%'}}>\n                        <BounceLoader\n                        style = {{display:'block', background:'#2b4fc4'}}\n                        size={35}\n                        color={\"#2b4fc4\"}\n                        />\n                    <span style={{position:'fixed',left:'46.5%', fontSize:'14px'}}>Loading</span>\n                  </div>\n                )\n            }\n    // NEWS AVAILABLE\n            else{\n            if((props.whichNews === 'guardian' || props.whichNews === 'Guardian') ){\n            let newsCards = []\n            if(sportsNews.length!=0 && sportsNews[0].hasOwnProperty('blocks')){\n            \n        return (\n            <>\n                <Helper news={sportsNews} handleOpen={handleOpen} />\n                <Modal show={isopenModal} onHide={()=>handleClose()}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>{activeItem.title}</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                        <Modal.Body className=\"d-flex justify-content-between\">\n                        <FacebookShareButton url={activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                            <FacebookIcon size={70} className='float-left' round={true}/>\n                        </FacebookShareButton>\n                        <TwitterShareButton url={activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                            <TwitterIcon size={70} round={true}/>\n                        </TwitterShareButton>\n                        <EmailShareButton url={activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                            <EmailIcon size={70} className='float-right' round={true}/>\n                        </EmailShareButton>\n                        </Modal.Body>\n                </Modal>\n            </>\n            );\n        }\n    else{\n            return(\n                <div className=\"sweet-loading\" style = {{position:'fixed', top:'50%', left:'47%'}}>\n                    <BounceLoader\n                    style = {{display:'block', background:'#2b4fc4'}}\n                    size={35}\n                    color={\"#2b4fc4\"}\n                    />\n                <span style={{position:'fixed',left:'46.5%', fontSize:'14px'}}>Loading</span>\n              </div>\n            )\n    }\n}\n        else if(props.whichNews == 'nytimes'){\n            if(sportsNews.length!=0){\n            const newsCards = buildCardsNytimes(sportsNews)\n    return (\n            <>\n                {newsCards}\n                    <Modal show={isopenModal} onHide={()=>handleClose()}>\n                            <Modal.Header closeButton>\n                                <Modal.Title>{activeItem.title}</Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                            <Modal.Body className=\"d-flex justify-content-between\">\n                            <FacebookShareButton url={activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                                <FacebookIcon size={70} className='float-left' round={true}/>\n                            </FacebookShareButton>\n                            <TwitterShareButton url={activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                                <TwitterIcon size={70} round={true}/>\n                            </TwitterShareButton>\n                            <EmailShareButton url={activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                                <EmailIcon size={70} className='float-right' round={true}/>\n                            </EmailShareButton>\n                            </Modal.Body>\n                    </Modal>\n            </>\n    );\n    }\n        else{\n                return(\n                    <div className=\"sweet-loading\" style = {{position:'fixed', top:'50%', left:'47%'}}>\n                        <BounceLoader\n                        style = {{display:'block', background:'#2b4fc4'}}\n                        size={35}\n                        color={\"#2b4fc4\"}\n                        />\n                    <span style={{position:'fixed',left:'46.5%', fontSize:'14px'}}>Loading</span>\n                </div>\n                )\n\n            } // Else NY Loading end\n        } // NY News end\n    } // Else end\n} // Function end\n\n\nconst mapStateToProps = (state) =>{\n    return{\n        whichNews : state.newsState\n    }\n}\n\n\n\nexport default connect(mapStateToProps)(memo(Sports));\n\n"]},"metadata":{},"sourceType":"module"}