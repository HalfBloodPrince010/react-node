{"ast":null,"code":"import _defineProperty from\"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Component,memo,useReducer}from'react';import{Card,Col,Row,Badge,Button,Modal,Container}from'react-bootstrap';import{Link}from'react-router-dom';import'./detailed_page.css';import{FaTrash}from'react-icons/fa';import{FacebookShareButton,TwitterShareButton,EmailShareButton}from'react-share';import{EmailIcon,FacebookIcon,TwitterIcon}from'react-share';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{IoMdShare}from'react-icons/io';import{Zoom}from'react-toastify';import Truncate from'react-truncate';var favReducer=function favReducer(state,action){switch(action.type){case'REMOVE_ARTICLE':var localdataFetch=localStorage.getItem('favoriteData');var localdata=localdataFetch?JSON.parse(localdataFetch):[];var filterList=localdata.filter(function(article){return article.id!=action.id;});return filterList;}};var Favorites=function Favorites(props){var _useReducer=useReducer(favReducer,[],function(){var localdata=localStorage.getItem('favoriteData');console.log(\"Rendering and setting favorites\",localdata,localdata.length);return localdata?JSON.parse(localdata):[];}),_useReducer2=_slicedToArray(_useReducer,2),favorites=_useReducer2[0],dispatch=_useReducer2[1];var _useState=useState({stat:false,articleTitle:\"\"}),_useState2=_slicedToArray(_useState,2),finalArticle=_useState2[0],status=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isopenModal=_useState4[0],changeModalState=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),activeItem=_useState6[0],getActiveItem=_useState6[1];console.log(\"From favorites initial\",favorites);// toast(\"heloo owrl\")\nvar handleClose=function handleClose(){changeModalState(false);};var handleOpen=function handleOpen(title,weburl,news){var sharedata={title:title,webUrl:weburl,news:news};getActiveItem(sharedata);changeModalState(true);};useEffect(function(){console.log(\"mouting and getting data\");var data=favorites.length>0?favorites:[];console.log(\"from useEffect\",data);if(finalArticle.stat){var toastData='Removing '+finalArticle.articleTitle;toast(toastData);}localStorage.setItem('favoriteData',JSON.stringify(data));},[favorites]);var handleDelete=function handleDelete(id,toastTitle){// Test\nvar localdataFetch=localStorage.getItem('favoriteData');var localdata=localdataFetch?JSON.parse(localdataFetch):[];if(localdata.length==1){console.log(\"going to be deleted\");status({stat:true,articleTitle:toastTitle.favoriteTitle});}// Fixed\nconsole.log(\"Removing and running toast\");var toastData=\"Removing\"+toastTitle.favoriteTitle;toast(toastData);dispatch({type:'REMOVE_ARTICLE',id:id.favoriteId});};if(favorites.length!=0){console.log(\"rendering\");var modalNewsTitle=\"\";var headerTag=\"\";var favoriteList=favorites.map(function(favorite){var favoriteTitle=favorite.title;var favoriteImage=favorite.image;var favoriteDate=favorite.date;var favoriteId=favorite.id;var fromNews=favorite.news;console.log(\"FROM NEWS\",fromNews);var favoriteUrl=favorite.shareurl;console.log(\"Share url:\",favoriteUrl);var section=favorite.section.toUpperCase();var color=\"\";var text_color=\"white\";if(section=='SPORTS'||section=='SPORT'){color='#f6c244';text_color='black';}else if(section=='WORLD'){color='#7c4eff';}else if(section=='TECHNOLOGY'){color='#cedc39';text_color='black';}else if(section=='POLITICS'){color='#419488';}else if(section=='BUSINESS'){color='#4696ec';}else{color='#6e757c';}var newsColor=\"\";var newsTextColor=\"\";var newsVal=\"\";modalNewsTitle=fromNews;console.log(\"MODAL TITLE\",modalNewsTitle);if(fromNews=='GUARDIAN'){newsColor=\"#14284a\";newsTextColor=\"white\";newsVal=\"gua/\";}else{newsColor=\"#dddddd\";newsTextColor=\"black\";newsVal=\"nyt/\";}return React.createElement(Col,{lg:3,sm:12},React.createElement(Link,{to:{pathname:'/detailedarticle/'+newsVal+favoriteId,state:{ArticleId:favoriteId,news:fromNews}},style:{width:'100%',display:'block',textDecoration:'none',color:'inherit'}},React.createElement(Card,{className:\"SearchCard\"},React.createElement(Card.Body,null,React.createElement(Card.Title,{style:{fontSize:'15px'}},React.createElement(Truncate,{lines:2,ellipsis:React.createElement(\"span\",null,\"...\")},favoriteTitle),React.createElement(Link,{style:{position:'relative',textDecoration:'none',color:'inherit',height:'15px',paddingLeft:'5px'},onClick:function onClick(){return handleOpen(favoriteTitle,favoriteUrl,fromNews);}},React.createElement(IoMdShare,null)),React.createElement(Link,{onClick:function onClick(){handleDelete({favoriteId:favoriteId},{favoriteTitle:favoriteTitle});},style:{backgroundColor:'white',border:'none',padding:'1px'}},React.createElement(FaTrash,{style:_defineProperty({color:'black',height:'12px',width:'12px'},\"height\",'15px')})),React.createElement(ToastContainer,{position:toast.POSITION.TOP_CENTER,autoClose:1500,transition:Zoom})),React.createElement(Card.Img,{variant:\"top\",src:favoriteImage,className:\"SearchCardImg\"}),React.createElement(Card.Text,{className:\"mt-2\"},React.createElement(\"span\",{style:{fontSize:'15px'}},\" \",favoriteDate,\" \"),React.createElement(Badge,{style:{margin:'2px',color:text_color,backgroundColor:color},className:\"float-right\"},section),React.createElement(Badge,{style:{margin:'2px',color:newsTextColor,backgroundColor:newsColor},className:\"float-right\"},fromNews))))));});return React.createElement(React.Fragment,null,React.createElement(\"div\",{style:{marginLeft:'20px',marginRight:'20px'}},React.createElement(\"h2\",{style:{marginTop:'3px',marginBottom:'0px'}},\"Favorites\"),React.createElement(Row,null,favoriteList)),React.createElement(Modal,{show:isopenModal,onHide:function onHide(){return handleClose();}},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,null,React.createElement(\"span\",{style:{fontWeight:'bold'}},activeItem.news),React.createElement(\"br\",null),activeItem.title)),React.createElement(Modal.Body,{style:{marginTop:'1px',marginBottom:'1px',paddingBottom:'0px',fontSize:'20px'},className:\"d-flex justify-content-center\"},React.createElement(\"b\",null,\"Share via\")),React.createElement(Modal.Body,{className:\"d-flex justify-content-between\"},React.createElement(FacebookShareButton,{url:activeItem.webUrl,hashtag:\"CSCI_571_NewsApp\",className:\"share\"},React.createElement(FacebookIcon,{size:70,className:\"float-left\",round:true})),React.createElement(TwitterShareButton,{url:activeItem.webUrl,hashtags:['CSCI_571_NewsApp']},React.createElement(TwitterIcon,{size:70,round:true})),React.createElement(EmailShareButton,{url:activeItem.webUrl,subject:\"#CSCI_571_NewsApp\"},React.createElement(EmailIcon,{size:70,className:\"float-right\",round:true})))));}else{console.log(\"Toasting finished\");return React.createElement(React.Fragment,null,React.createElement(Container,null,React.createElement(\"div\",null,React.createElement(ToastContainer,{position:toast.POSITION.TOP_CENTER,autoClose:1500,transition:Zoom})),React.createElement(\"div\",{className:\"d-flex justify-content-center\",style:{fontSize:'25px',height:'400px'}},\"You have no saved Articles\")));}};export default memo(Favorites);","map":{"version":3,"sources":["/Users/prashanthpujar/Documents/Coursework/Web Technologies/Assignments/Homework 6/Backups/Experiment/Main/client/src/components/favorites.js"],"names":["React","useState","useEffect","Component","memo","useReducer","Card","Col","Row","Badge","Button","Modal","Container","Link","FaTrash","FacebookShareButton","TwitterShareButton","EmailShareButton","EmailIcon","FacebookIcon","TwitterIcon","ToastContainer","toast","IoMdShare","Zoom","Truncate","favReducer","state","action","type","localdataFetch","localStorage","getItem","localdata","JSON","parse","filterList","filter","article","id","Favorites","props","console","log","length","favorites","dispatch","stat","articleTitle","finalArticle","status","isopenModal","changeModalState","activeItem","getActiveItem","handleClose","handleOpen","title","weburl","news","sharedata","webUrl","data","toastData","setItem","stringify","handleDelete","toastTitle","favoriteTitle","favoriteId","modalNewsTitle","headerTag","favoriteList","map","favorite","favoriteImage","image","favoriteDate","date","fromNews","favoriteUrl","shareurl","section","toUpperCase","color","text_color","newsColor","newsTextColor","newsVal","pathname","ArticleId","width","display","textDecoration","fontSize","position","height","paddingLeft","backgroundColor","border","padding","POSITION","TOP_CENTER","margin","marginLeft","marginRight","marginTop","marginBottom","fontWeight","paddingBottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component, memo, useReducer } from 'react'\nimport {Card, Col, Row, Badge, Button,Modal, Container} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './detailed_page.css';\nimport {FaTrash} from 'react-icons/fa';\nimport {FacebookShareButton, TwitterShareButton, EmailShareButton} from 'react-share';\nimport {EmailIcon,FacebookIcon,TwitterIcon} from 'react-share';\nimport { ToastContainer,toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css'\nimport {IoMdShare} from 'react-icons/io'\nimport { Zoom } from 'react-toastify';\nimport Truncate from 'react-truncate';\n\n\n\nconst favReducer = (state, action) =>{\n    switch(action.type){\n        case 'REMOVE_ARTICLE':\n            let localdataFetch = localStorage.getItem('favoriteData')\n            let localdata = localdataFetch?JSON.parse(localdataFetch):[]\n            let filterList = localdata.filter(article=>{\n                return article.id!=action.id})\n            return filterList\n    }\n}\n\nconst Favorites = props =>{\nconst [favorites, dispatch] = useReducer(favReducer,[],()=>{\n    let localdata = localStorage.getItem('favoriteData')\n    console.log(\"Rendering and setting favorites\", localdata, localdata.length)\n    return localdata?JSON.parse(localdata):[]\n})\nconst [finalArticle, status] = useState({stat:false,articleTitle:\"\"})\nconst [isopenModal, changeModalState] = useState(false)\nconst [activeItem, getActiveItem] = useState(\"\")\n\nconsole.log(\"From favorites initial\",favorites)\n// toast(\"heloo owrl\")\n\nconst handleClose = () =>{\n    changeModalState(false)\n}\n\nconst handleOpen = (title, weburl, news) =>{\n    let sharedata = {title:title,webUrl:weburl, news:news}\n    getActiveItem(sharedata)\n    changeModalState(true)\n}\n\nuseEffect(()=>{\n    console.log(\"mouting and getting data\")\n    let data = favorites.length>0?favorites:[]\n    console.log(\"from useEffect\",data)\n    if(finalArticle.stat){\n        let toastData = 'Removing ' + finalArticle.articleTitle\n        toast(toastData)}\n    localStorage.setItem('favoriteData', JSON.stringify(data))\n}, [favorites])\n\nconst handleDelete = (id, toastTitle) =>{\n    // Test\n    let localdataFetch = localStorage.getItem('favoriteData')\n    let localdata = localdataFetch?JSON.parse(localdataFetch):[]\n    if(localdata.length == 1){\n        console.log(\"going to be deleted\")\n        status({stat:true, articleTitle:toastTitle.favoriteTitle})\n    }\n    // Fixed\n    console.log(\"Removing and running toast\")\n    let toastData = \"Removing\" + toastTitle.favoriteTitle\n    toast(toastData)\n    dispatch({type:'REMOVE_ARTICLE',id:id.favoriteId})\n}\n\n\nif(favorites.length!=0){\nconsole.log(\"rendering\")\nlet modalNewsTitle = \"\"\nlet headerTag = \"\"\nlet favoriteList = favorites.map(favorite =>{\n            let favoriteTitle = favorite.title\n            let favoriteImage = favorite.image\n            let favoriteDate =  favorite.date\n            let favoriteId = favorite.id\n            let fromNews = favorite.news\n            console.log(\"FROM NEWS\", fromNews)\n            let favoriteUrl = favorite.shareurl\n            console.log(\"Share url:\", favoriteUrl)\n            let section = favorite.section.toUpperCase()\n            let color = \"\"\n            let text_color = \"white\"\n            if(section == 'SPORTS' || section == 'SPORT'){\n                color = '#f6c244';\n                text_color = 'black';\n            }\n            else if(section == 'WORLD'){\n                color = '#7c4eff';\n            }\n            else if(section == 'TECHNOLOGY'){\n                color = '#cedc39';\n                text_color = 'black';\n            }\n            else if(section == 'POLITICS'){\n                color = '#419488';\n            }\n            else if(section == 'BUSINESS'){\n                color = '#4696ec';\n            }\n            else {\n                color = '#6e757c';\n            }\n            let newsColor = \"\"\n            let newsTextColor = \"\"\n            let newsVal = \"\"\n            modalNewsTitle = fromNews\n            console.log(\"MODAL TITLE\", modalNewsTitle)\n            if (fromNews=='GUARDIAN'){\n                newsColor = \"#14284a\"\n                newsTextColor = \"white\"\n                newsVal = \"gua/\"\n            }\n            else{\n                newsColor = \"#dddddd\"\n                newsTextColor = \"black\"\n                newsVal = \"nyt/\"\n            }\n            return (\n                <Col lg={3} sm={12}>\n                    <Link to={{ pathname: '/detailedarticle/'+ newsVal + favoriteId ,state: {ArticleId: favoriteId, news:fromNews}}} style={{ width:'100%', display:'block', textDecoration: 'none', color:'inherit' }}>\n                    <Card className=\"SearchCard\">\n                    <Card.Body>\n                        <Card.Title style={{fontSize:'15px'}}><Truncate lines={2} ellipsis={<span>...</span>}>{favoriteTitle}</Truncate><Link style={{position:'relative', textDecoration: 'none', color:'inherit',height:'15px', paddingLeft:'5px'}} onClick={()=>handleOpen(favoriteTitle, favoriteUrl , fromNews)}><IoMdShare/></Link><Link onClick={()=>{handleDelete({favoriteId},{favoriteTitle})}} style={{backgroundColor:'white', border:'none', padding:'1px'}}><FaTrash style={{color:'black',height:'12px', width:'12px', height:'15px' }}/></Link>\n                            <ToastContainer position={toast.POSITION.TOP_CENTER} autoClose={1500} transition={Zoom}/>\n                        </Card.Title>\n                        <Card.Img variant=\"top\" src={favoriteImage} className=\"SearchCardImg\"/>\n                        <Card.Text className=\"mt-2\">\n                            <span style={{fontSize:'15px'}}> {favoriteDate} </span>\n                            <Badge style={{margin:'2px',color:text_color, backgroundColor:color}} className=\"float-right\">\n                                {section}\n                            </Badge>\n                            <Badge style={{margin:'2px',color:newsTextColor, backgroundColor:newsColor}} className=\"float-right\">\n                                {fromNews}\n                            </Badge>\n                        </Card.Text>\n                    </Card.Body>\n                    </Card >\n                    </Link>\n                </Col>\n                \n            )\n        }\n    )\n    return (\n        <>\n        <div style={{marginLeft:'20px', marginRight:'20px'}}>\n                <h2 style={{marginTop:'3px', marginBottom:'0px'}}>Favorites</h2>\n                <Row>\n                    {favoriteList}\n                </Row>\n        </div>\n        <Modal show={isopenModal} onHide={()=>handleClose()}>\n                <Modal.Header closeButton>\n                    <Modal.Title><span style={{fontWeight:'bold'}}>{activeItem.news}</span><br/>{activeItem.title}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body style={{marginTop:'1px',marginBottom:'1px', paddingBottom:'0px', fontSize:'20px'}} className=\"d-flex justify-content-center\"><b>Share via</b></Modal.Body>\n                <Modal.Body className=\"d-flex justify-content-between\">\n                <FacebookShareButton url={activeItem.webUrl} hashtag='CSCI_571_NewsApp' className=\"share\">\n                    <FacebookIcon size={70} className='float-left' round={true}/>\n                </FacebookShareButton>\n                <TwitterShareButton url={activeItem.webUrl} hashtags={['CSCI_571_NewsApp']}>\n                    <TwitterIcon size={70} round={true}/>\n                </TwitterShareButton>\n                <EmailShareButton url={activeItem.webUrl} subject='#CSCI_571_NewsApp'>\n                    <EmailIcon size={70} className='float-right' round={true}/>\n                </EmailShareButton>\n                </Modal.Body>\n        </Modal>\n        </>\n    )\n    \n}\nelse{\n    console.log(\"Toasting finished\")\n    return (\n        <>  \n            <Container>\n            <div><ToastContainer position={toast.POSITION.TOP_CENTER} autoClose={1500} transition={Zoom}></ToastContainer></div>\n            <div className=\"d-flex justify-content-center\" style={{fontSize:'25px', height:'400px'}}>\n              You have no saved Articles\n            </div>\n            </Container>\n        </>\n    )\n    \n\n}\n}\n\nexport default memo(Favorites);\n\n"]},"metadata":{},"sourceType":"module"}